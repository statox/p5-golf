import{s as de,f as w,a as E,l as H,g as _,h as k,d as p,c as S,m as X,u as G,j as W,i as C,y as h,L as q,n as Q,M as Se,z as xe,e as it,P as be,Q as Ee,O as Ye}from"../chunks/scheduler.32ebed32.js";import{S as fe,i as me,b as oe,d as se,m as re,a as le,t as ie,e as ce}from"../chunks/index.c25c2528.js";import{P as je,c as $,V as i,d as He,m as ut,a as Ae,C as ft}from"../chunks/PhysicObject.d0894205.js";import{W as Oe}from"../chunks/World.a043ec57.js";function mt(o){let e,s,d,r,t=o[0][o[0].length-1]+"",c,m,n,l="New ball",f,a,x;return s=new je({props:{sketch:o[2]}}),{c(){e=w("div"),oe(s.$$.fragment),d=E(),r=w("p"),c=H(t),m=E(),n=w("button"),n.textContent=l,this.h()},l(y){e=_(y,"DIV",{class:!0});var g=k(e);se(s.$$.fragment,g),g.forEach(p),d=S(y),r=_(y,"P",{});var v=k(r);c=X(v,t),v.forEach(p),m=S(y),n=_(y,"BUTTON",{"data-svelte-h":!0}),G(n)!=="svelte-1jwbm46"&&(n.textContent=l),this.h()},h(){W(e,"class","d-flex justify-content-center")},m(y,g){C(y,e,g),re(s,e,null),C(y,d,g),C(y,r,g),h(r,c),C(y,m,g),C(y,n,g),f=!0,a||(x=q(n,"click",o[1]),a=!0)},p(y,[g]){(!f||g&1)&&t!==(t=y[0][y[0].length-1]+"")&&Q(c,t)},i(y){f||(le(s.$$.fragment,y),f=!0)},o(y){ie(s.$$.fragment,y),f=!1},d(y){y&&(p(e),p(d),p(r),p(m),p(n)),ce(s),a=!1,x()}}}function ht(o,e,s){console.clear();let d=[];const r=l=>{const f=l.objects[l.objects.length-1],a=f.position.clone().toFixed(2),x=f.velocity.clone().toFixed(2);d.push(`${l.t.toFixed(2)} - pos: ${a} - vel: ${x}`),d.length>50&&d.shift(),s(0,d)},t=new Oe({reporter:r,enableGravity:!0}),c=()=>{for(;t.objects.length;)t.objects.pop();const l=$({geometry:{type:"line",vector:new i(100,0)},position:new i(0,0),fixed:!0});t.addObject(l);for(let f=0;f<1;f++){const a=$({geometry:{type:"sphere",r:5},position:new i(20,50),velocity:new i(Math.random()*5-2.5,Math.random()*20)});t.addObject(a)}};let m;const n=l=>{l.setup=()=>{m=l,l.createCanvas(900,600),l.background(0),l.fill(255),l.stroke(255),c()},l.draw=()=>{l.background(0),t.step();for(const f of t.objects){const a=l.map(f.position.x,0,t.dimensions.x,0,l.width),x=l.map(f.position.y,0,t.dimensions.y,l.height,0);if(f.geometry.type==="sphere"&&(l.strokeWeight(f.geometry.r*2),l.point(a,x)),f.geometry.type==="line"){const y=a+l.map(f.geometry.vector.x,0,t.dimensions.x,0,l.width),g=x+l.map(f.geometry.vector.y,0,t.dimensions.y,0,l.height);l.strokeWeight(2),l.line(a,x,y,g)}}}};return Se(()=>{m==null||m.remove()}),[d,c,n]}class pt extends fe{constructor(e){super(),me(this,e,ht,mt,de,{})}}function yt(o){let e,s,d,r,t=o[0][o[0].length-1]+"",c,m,n,l="New ball",f,a,x;return s=new je({props:{sketch:o[2]}}),{c(){e=w("div"),oe(s.$$.fragment),d=E(),r=w("p"),c=H(t),m=E(),n=w("button"),n.textContent=l,this.h()},l(y){e=_(y,"DIV",{class:!0});var g=k(e);se(s.$$.fragment,g),g.forEach(p),d=S(y),r=_(y,"P",{});var v=k(r);c=X(v,t),v.forEach(p),m=S(y),n=_(y,"BUTTON",{"data-svelte-h":!0}),G(n)!=="svelte-1jwbm46"&&(n.textContent=l),this.h()},h(){W(e,"class","d-flex justify-content-center")},m(y,g){C(y,e,g),re(s,e,null),C(y,d,g),C(y,r,g),h(r,c),C(y,m,g),C(y,n,g),f=!0,a||(x=q(n,"click",o[1]),a=!0)},p(y,[g]){(!f||g&1)&&t!==(t=y[0][y[0].length-1]+"")&&Q(c,t)},i(y){f||(le(s.$$.fragment,y),f=!0)},o(y){ie(s.$$.fragment,y),f=!1},d(y){y&&(p(e),p(d),p(r),p(m),p(n)),ce(s),a=!1,x()}}}const Ve=6;function vt(o,e,s){console.clear();let d=[];const r=a=>{const x=a.objects[a.objects.length-1],y=x.position.clone().toFixed(2),g=x.velocity.clone().toFixed(2);d.push(`${a.t.toFixed(2)} - pos: ${y} - vel: ${g}`),d.length>50&&d.shift(),s(0,d)},t=new Oe({reporter:r,enableGravity:!0});let c,m;const n=()=>{for(;t.objects.length;)t.objects.pop();m=$({geometry:{type:"line",vector:new i(40,40)},position:new i(30,30),fixed:!0}),t.addObject(m),c=$({geometry:{type:"sphere",r:10},position:new i(20,50),velocity:new i(2.5,2.5),fixed:!0}),t.addObject(c)};let l;const f=a=>{const x=v=>typeof v=="number"?v*Ve:v.clone().multiplyScalar(Ve),y=v=>typeof v=="number"?v/Ve:v.clone().divideScalar(Ve);a.setup=()=>{l=a;const v=x(t.dimensions);a.createCanvas(v.x,v.y),a.background(0),a.fill(255),a.stroke(255),n()};let g;a.draw=()=>{if(a.background(0),t.step(),a.mouseIsPressed){const v=y(new i(a.mouseX,a.height-a.mouseY));if(g||(v.distance(c.position)<2?g="sphere":v.distance(m.position)<2?g="wallstart":v.distance(m.geometry.vector.clone().add(m.position))<2&&(g="wallend")),g==="sphere"&&c.position.copy(v),g==="wallstart"&&m.position.copy(v),g==="wallend"){const u=v.clone().subtract(m.position);m.geometry.vector.copy(u)}}else g=void 0;for(const v of t.objects.sort((u,b)=>u.geometry.type<b.geometry.type?1:-1)){a.stroke(c.data.isColliding?"red":"white");const u=a.map(v.position.x,0,t.dimensions.x,0,a.width),b=a.map(v.position.y,0,t.dimensions.y,a.height,0);if(v.geometry.type==="sphere"){const B=x(v.geometry.r*2);a.strokeWeight(B),a.point(u,b)}if(v.geometry.type==="line"){const B=u+a.map(v.geometry.vector.x,0,t.dimensions.x,0,a.width),j=b-a.map(v.geometry.vector.y,0,t.dimensions.y,0,a.height);a.stroke("blue"),a.strokeWeight(2),a.line(u,b,B,j)}}}};return Se(()=>{l==null||l.remove()}),[d,n,f]}class bt extends fe{constructor(e){super(),me(this,e,vt,yt,de,{})}}function gt(o){let e,s,d;return s=new je({props:{sketch:o[0]}}),{c(){e=w("div"),oe(s.$$.fragment),this.h()},l(r){e=_(r,"DIV",{class:!0});var t=k(e);se(s.$$.fragment,t),t.forEach(p),this.h()},h(){W(e,"class","d-flex justify-content-center")},m(r,t){C(r,e,t),re(s,e,null),d=!0},p:xe,i(r){d||(le(s.$$.fragment,r),d=!0)},o(r){ie(s.$$.fragment,r),d=!1},d(r){r&&p(e),ce(s)}}}const Le=6;function wt(o){console.clear();const e=new Oe({reporter:()=>{},enableGravity:!0});let s;const d=()=>{for(;e.objects.length;)e.objects.pop();s=$({geometry:{type:"sphere",r:5},position:new i(20,50),velocity:new i(Math.random()*5-2.5,Math.random()*20)}),e.addObject(s);const n=$({geometry:{type:"line",vector:new i(100,0)},position:new i(0,2),fixed:!0});e.addObject(n);const l=$({geometry:{type:"line",vector:new i(100,0)},position:new i(0,98),fixed:!0});e.addObject(l);const f=$({geometry:{type:"line",vector:new i(0,100)},position:new i(2,0),fixed:!0});e.addObject(f);const a=$({geometry:{type:"line",vector:new i(0,100)},position:new i(98,0),fixed:!0});e.addObject(a);const x=$({geometry:{type:"line",vector:new i(50,50)},position:new i(20,10),fixed:!0});e.addObject(x)},r=n=>typeof n=="number"?n*Le:n.clone().multiplyScalar(Le),t=n=>typeof n=="number"?n/Le:n.clone().divideScalar(Le);let c;const m=n=>{n.setup=()=>{c=n;const f=r(e.dimensions);n.createCanvas(f.x,f.y),n.background(0),n.fill(255),n.stroke(255),d()},n.draw=()=>{if(n.background(0),n.mouseIsPressed){s.fixed=!0;const f=t(new i(n.mouseX,n.height-n.mouseY));s.position.copy(f)}else s.fixed=!1;e.step(),He(n,e)};let l;n.mousePressed=()=>{l=t(new i(n.mouseX,n.height-n.mouseY))},n.mouseReleased=()=>{const f=t(new i(n.mouseX,n.height-n.mouseY)),a=l.subtract(f);s.position.copy(f),s.velocity.copy(a)}};return Se(()=>{c==null||c.remove()}),[m]}class _t extends fe{constructor(e){super(),me(this,e,wt,gt,de,{})}}function xt(o){let e,s,d,r,t,c,m,n="Gravity",l,f,a,x="Toggle",y,g,v;return s=new je({props:{sketch:o[1]}}),{c(){e=w("div"),oe(s.$$.fragment),d=E(),r=w("table"),t=w("tbody"),c=w("tr"),m=w("th"),m.textContent=n,l=E(),f=w("td"),a=w("button"),a.textContent=x,this.h()},l(u){e=_(u,"DIV",{class:!0});var b=k(e);se(s.$$.fragment,b),b.forEach(p),d=S(u),r=_(u,"TABLE",{});var B=k(r);t=_(B,"TBODY",{});var j=k(t);c=_(j,"TR",{});var F=k(c);m=_(F,"TH",{"data-svelte-h":!0}),G(m)!=="svelte-vy75us"&&(m.textContent=n),l=S(F),f=_(F,"TD",{});var I=k(f);a=_(I,"BUTTON",{"data-svelte-h":!0}),G(a)!=="svelte-18lc94l"&&(a.textContent=x),I.forEach(p),F.forEach(p),j.forEach(p),B.forEach(p),this.h()},h(){W(e,"class","d-flex justify-content-center")},m(u,b){C(u,e,b),re(s,e,null),C(u,d,b),C(u,r,b),h(r,t),h(t,c),h(c,m),h(c,l),h(c,f),h(f,a),y=!0,g||(v=q(a,"click",o[2]),g=!0)},p:xe,i(u){y||(le(s.$$.fragment,u),y=!0)},o(u){ie(s.$$.fragment,u),y=!1},d(u){u&&(p(e),p(d),p(r)),ce(s),g=!1,v()}}}const Ue=6;function $t(o){console.clear();const e=new Oe({reporter:()=>{},enableGravity:!0});let s;const d=()=>{for(;e.objects.length;)e.objects.pop();const l=$({geometry:{type:"line",vector:new i(100,0)},position:new i(0,0),fixed:!0});e.addObject(l);const f=$({geometry:{type:"line",vector:new i(100,0)},position:new i(0,100),fixed:!0});e.addObject(f);const a=$({geometry:{type:"line",vector:new i(0,100)},position:new i(0,0),fixed:!0});e.addObject(a);const x=$({geometry:{type:"line",vector:new i(0,100)},position:new i(100,0),fixed:!0});e.addObject(x);const y=$({geometry:{type:"line",vector:new i(50,50)},position:new i(20,10),fixed:!0});e.addObject(y),s=$({geometry:{type:"sphere",r:2},position:new i(20,50),velocity:new i(Math.random()*5-2.5,Math.random()*20)}),e.addObject(s)},r=l=>typeof l=="number"?l*Ue:l.clone().multiplyScalar(Ue),t=l=>typeof l=="number"?l/Ue:l.clone().divideScalar(Ue);let c;const m=l=>{l.setup=()=>{c=l;const a=r(e.dimensions);l.createCanvas(a.x,a.y),l.background(0),l.fill(255),l.stroke(255),d()},l.draw=()=>{if(l.background(0),ut(l)){s.fixed=!0;const a=t(new i(l.mouseX,l.height-l.mouseY));s.position.copy(a)}else s.fixed=!1;e.step(),He(l,e)};let f;l.mousePressed=()=>{Ae(l)&&(f=t(new i(l.mouseX,l.height-l.mouseY)))},l.mouseReleased=()=>{if(!Ae(l))return;const a=t(new i(l.mouseX,l.height-l.mouseY)),x=f.subtract(a);s.position.copy(a),s.velocity.copy(x)}};return Se(()=>{c==null||c.remove()}),[e,m,()=>e.toggleGravity()]}class Tt extends fe{constructor(e){super(),me(this,e,$t,xt,de,{})}}function ct(o){let e,s,d,r,t="dt",c,m,n,l,f,a,x="drag",y,g,v,u,b,B,j="gravity enabled",F,I,N,M,z;return{c(){e=w("table"),s=w("tbody"),d=w("tr"),r=w("th"),r.textContent=t,c=E(),m=w("td"),n=w("input"),l=E(),f=w("tr"),a=w("th"),a.textContent=x,y=E(),g=w("td"),v=w("input"),u=E(),b=w("tr"),B=w("th"),B.textContent=j,F=E(),I=w("td"),N=w("input"),this.h()},l(V){e=_(V,"TABLE",{});var R=k(e);s=_(R,"TBODY",{});var T=k(s);d=_(T,"TR",{});var D=k(d);r=_(D,"TH",{"data-svelte-h":!0}),G(r)!=="svelte-16dheti"&&(r.textContent=t),c=S(D),m=_(D,"TD",{});var A=k(m);n=_(A,"INPUT",{type:!0,min:!0,max:!0,step:!0}),A.forEach(p),D.forEach(p),l=S(T),f=_(T,"TR",{});var J=k(f);a=_(J,"TH",{"data-svelte-h":!0}),G(a)!=="svelte-2hq5g"&&(a.textContent=x),y=S(J),g=_(J,"TD",{});var K=k(g);v=_(K,"INPUT",{type:!0,min:!0,max:!0,step:!0}),K.forEach(p),J.forEach(p),u=S(T),b=_(T,"TR",{});var Y=k(b);B=_(Y,"TH",{"data-svelte-h":!0}),G(B)!=="svelte-ic0r87"&&(B.textContent=j),F=S(Y),I=_(Y,"TD",{});var te=k(I);N=_(te,"INPUT",{type:!0}),te.forEach(p),Y.forEach(p),T.forEach(p),R.forEach(p),this.h()},h(){W(n,"type","number"),W(n,"min","0"),W(n,"max","0.5"),W(n,"step","0.001"),W(v,"type","number"),W(v,"min","0"),W(v,"max","0.01"),W(v,"step","0.001"),W(N,"type","checkbox")},m(V,R){C(V,e,R),h(e,s),h(s,d),h(d,r),h(d,c),h(d,m),h(m,n),be(n,o[0].dt),h(s,l),h(s,f),h(f,a),h(f,y),h(f,g),h(g,v),be(v,o[0].drag),h(s,u),h(s,b),h(b,B),h(b,F),h(b,I),h(I,N),N.checked=o[0].gravityEnabled,M||(z=[q(n,"input",o[1]),q(v,"input",o[2]),q(N,"change",o[3])],M=!0)},p(V,R){R&1&&Ee(n.value)!==V[0].dt&&be(n,V[0].dt),R&1&&Ee(v.value)!==V[0].drag&&be(v,V[0].drag),R&1&&(N.checked=V[0].gravityEnabled)},d(V){V&&p(e),M=!1,Ye(z)}}}function kt(o){let e,s="Engine settings",d,r,t=o[0]&&ct(o);return{c(){e=w("p"),e.textContent=s,d=E(),t&&t.c(),r=it(),this.h()},l(c){e=_(c,"P",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-gf3gek"&&(e.textContent=s),d=S(c),t&&t.l(c),r=it(),this.h()},h(){W(e,"class","title svelte-g74uk9")},m(c,m){C(c,e,m),C(c,d,m),t&&t.m(c,m),C(c,r,m)},p(c,[m]){c[0]?t?t.p(c,m):(t=ct(c),t.c(),t.m(r.parentNode,r)):t&&(t.d(1),t=null)},i:xe,o:xe,d(c){c&&(p(e),p(d),p(r)),t&&t.d(c)}}}function Ct(o,e,s){let{world:d}=e;function r(){d.dt=Ee(this.value),s(0,d)}function t(){d.drag=Ee(this.value),s(0,d)}function c(){d.gravityEnabled=this.checked,s(0,d)}return o.$$set=m=>{"world"in m&&s(0,d=m.world)},[d,r,t,c]}class dt extends fe{constructor(e){super(),me(this,e,Ct,kt,de,{world:0})}}function Et(o){let e,s="Shooter",d,r,t,c="Angle",m,n,l,f,a,x,y,g,v="Magnitude",u,b,B,j,F,I,N,M,z="Shoot",V,R;return{c(){e=w("p"),e.textContent=s,d=E(),r=w("span"),t=w("label"),t.textContent=c,m=E(),n=w("input"),l=E(),f=H(o[0]),a=H(" deg"),x=E(),y=w("span"),g=w("label"),g.textContent=v,u=E(),b=w("input"),B=E(),j=H(o[1]),F=E(),I=w("br"),N=E(),M=w("button"),M.textContent=z,this.h()},l(T){e=_(T,"P",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-198ugk3"&&(e.textContent=s),d=S(T),r=_(T,"SPAN",{});var D=k(r);t=_(D,"LABEL",{for:!0,"data-svelte-h":!0}),G(t)!=="svelte-lab87n"&&(t.textContent=c),m=S(D),n=_(D,"INPUT",{id:!0,type:!0,min:!0,max:!0}),l=S(D),f=X(D,o[0]),a=X(D," deg"),D.forEach(p),x=S(T),y=_(T,"SPAN",{});var A=k(y);g=_(A,"LABEL",{for:!0,"data-svelte-h":!0}),G(g)!=="svelte-1vc5oxa"&&(g.textContent=v),u=S(A),b=_(A,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0}),B=S(A),j=X(A,o[1]),A.forEach(p),F=S(T),I=_(T,"BR",{}),N=S(T),M=_(T,"BUTTON",{"data-svelte-h":!0}),G(M)!=="svelte-8jpwxr"&&(M.textContent=z),this.h()},h(){W(e,"class","title svelte-g74uk9"),W(t,"for","angleSlider"),W(n,"id","angleSlider"),W(n,"type","range"),W(n,"min","0"),W(n,"max","360"),W(g,"for","magSlider"),W(b,"id","magSlider"),W(b,"type","range"),W(b,"min","0"),W(b,"max","1"),W(b,"step","0.01")},m(T,D){C(T,e,D),C(T,d,D),C(T,r,D),h(r,t),h(r,m),h(r,n),be(n,o[0]),h(r,l),h(r,f),h(r,a),C(T,x,D),C(T,y,D),h(y,g),h(y,u),h(y,b),be(b,o[1]),h(y,B),h(y,j),C(T,F,D),C(T,I,D),C(T,N,D),C(T,M,D),V||(R=[q(n,"change",o[4]),q(n,"input",o[4]),q(b,"change",o[5]),q(b,"input",o[5]),q(M,"click",o[6])],V=!0)},p(T,[D]){D&1&&be(n,T[0]),D&1&&Q(f,T[0]),D&2&&be(b,T[1]),D&2&&Q(j,T[1])},i:xe,o:xe,d(T){T&&(p(e),p(d),p(r),p(x),p(y),p(F),p(I),p(N),p(M)),V=!1,Ye(R)}}}function St(o,e,s){let{onShoot:d}=e,r=0,t=.5;const c=()=>{const f=new i(1,0);f.rotateDeg(r),f.multiplyScalar(t),d(f)};function m(){r=Ee(this.value),s(0,r)}function n(){t=Ee(this.value),s(1,t)}const l=()=>c();return o.$$set=f=>{"onShoot"in f&&s(3,d=f.onShoot)},[r,t,c,d,m,n,l]}class jt extends fe{constructor(e){super(),me(this,e,St,Et,de,{onShoot:3})}}const Ot=()=>{const o=[],e=$({geometry:{type:"line",vector:new i(15,0)},position:new i(0,0),fixed:!0});o.push(e);const s=$({geometry:{type:"line",vector:new i(0,100)},position:new i(0,0),fixed:!0});o.push(s);const d=$({geometry:{type:"line",vector:new i(0,100)},position:new i(15,0),fixed:!0});o.push(d);const r=$({geometry:{type:"line",vector:new i(3,-3)},position:new i(3.5,8),fixed:!0});o.push(r);const t=$({geometry:{type:"line",vector:new i(3,3)},position:new i(3.5,5),fixed:!0});o.push(t);const c=$({geometry:{type:"line",vector:new i(6,0)},position:new i(2,2),fixed:!0});o.push(c);const m=$({geometry:{type:"line",vector:new i(4,0)},position:new i(3,2.5),fixed:!0});o.push(m);const n=$({geometry:{type:"line",vector:new i(2,0)},position:new i(4,3),fixed:!0});o.push(n);const l=$({geometry:{type:"line",vector:new i(.6,0)},position:new i(4.7,3.5),fixed:!0});o.push(l);const f=$({geometry:{type:"line",vector:new i(1,0)},position:new i(10,10.1),fixed:!0});o.push(f);const a=$({geometry:{type:"line",vector:new i(0,-4)},position:new i(11,10),fixed:!0});o.push(a);const x=$({geometry:{type:"line",vector:new i(0,-4)},position:new i(11.5,10),fixed:!0});o.push(x);const y=$({geometry:{type:"line",vector:new i(0,-4)},position:new i(12,10),fixed:!0});o.push(y);const g=$({geometry:{type:"line",vector:new i(1,0)},position:new i(12,10.1),fixed:!0});o.push(g);for(let u=.2;u<.5;u+=.1)for(let b=0;b<10;b++){const B=$({geometry:{type:"line",vector:new i(0,3)},position:new i(9+b*u,1),fixed:!0});o.push(B)}const v=$({geometry:{type:"sphere",r:.1},position:new i(5,10),velocity:new i(0,0)});return o.push(v),{objects:o,sphere:v}};function Pt(o){let e,s,d,r,t,c=o[0]?"Disable":"Enable",m,n,l,f,a=o[1]?"Play":"Pause",x,y,g,v="Reset",u,b,B,j,F,I,N,M,z,V="Simulation time/Frame duration",R,T,D=o[2].t+"",A,J,K,Y=o[2].frameTime+"",te,$e,O,L,Z="Sphere position",ge,he,pe=o[2].spherePos.x.toFixed(2)+"",we,ne,ye,ve=o[2].spherePos.y.toFixed(2)+"",Ne,Xe,ae,Te,Je="Sphere velocity",Ge,Pe,De=o[2].sphereVel.x.toFixed(2)+"",We,qe,Be,Ie=o[2].sphereVel.y.toFixed(2)+"",Me,ee,ze,Ke;return s=new je({props:{sketch:o[5]}}),b=new jt({props:{onShoot:o[6]}}),j=new dt({props:{world:o[3]}}),{c(){e=w("div"),oe(s.$$.fragment),d=E(),r=w("div"),t=w("button"),m=H(c),n=H(" pause on collision"),l=E(),f=w("button"),x=H(a),y=E(),g=w("button"),g.textContent=v,u=E(),oe(b.$$.fragment),B=E(),oe(j.$$.fragment),F=E(),I=w("table"),N=w("tbody"),M=w("tr"),z=w("th"),z.textContent=V,R=E(),T=w("td"),A=H(D),J=E(),K=w("td"),te=H(Y),$e=E(),O=w("tr"),L=w("th"),L.textContent=Z,ge=E(),he=w("td"),we=H(pe),ne=E(),ye=w("td"),Ne=H(ve),Xe=E(),ae=w("tr"),Te=w("th"),Te.textContent=Je,Ge=E(),Pe=w("td"),We=H(De),qe=E(),Be=w("td"),Me=H(Ie),this.h()},l(P){e=_(P,"DIV",{class:!0});var U=k(e);se(s.$$.fragment,U),U.forEach(p),d=S(P),r=_(P,"DIV",{});var ue=k(r);t=_(ue,"BUTTON",{});var Qe=k(t);m=X(Qe,c),n=X(Qe," pause on collision"),Qe.forEach(p),l=S(ue),f=_(ue,"BUTTON",{});var Ze=k(f);x=X(Ze,a),Ze.forEach(p),y=S(ue),g=_(ue,"BUTTON",{"data-svelte-h":!0}),G(g)!=="svelte-tlxueg"&&(g.textContent=v),ue.forEach(p),u=S(P),se(b.$$.fragment,P),B=S(P),se(j.$$.fragment,P),F=S(P),I=_(P,"TABLE",{});var et=k(I);N=_(et,"TBODY",{});var Fe=k(N);M=_(Fe,"TR",{});var ke=k(M);z=_(ke,"TH",{"data-svelte-h":!0}),G(z)!=="svelte-rirgm4"&&(z.textContent=V),R=S(ke),T=_(ke,"TD",{});var tt=k(T);A=X(tt,D),tt.forEach(p),J=S(ke),K=_(ke,"TD",{});var nt=k(K);te=X(nt,Y),nt.forEach(p),ke.forEach(p),$e=S(Fe),O=_(Fe,"TR",{});var _e=k(O);L=_(_e,"TH",{"data-svelte-h":!0}),G(L)!=="svelte-1y1nif6"&&(L.textContent=Z),ge=S(_e),he=_(_e,"TD",{});var ot=k(he);we=X(ot,pe),ot.forEach(p),ne=S(_e),ye=_(_e,"TD",{});var st=k(ye);Ne=X(st,ve),st.forEach(p),Xe=S(_e),_e.forEach(p),ae=_(Fe,"TR",{});var Ce=k(ae);Te=_(Ce,"TH",{"data-svelte-h":!0}),G(Te)!=="svelte-1uw1fs2"&&(Te.textContent=Je),Ge=S(Ce),Pe=_(Ce,"TD",{});var rt=k(Pe);We=X(rt,De),rt.forEach(p),qe=S(Ce),Be=_(Ce,"TD",{});var lt=k(Be);Me=X(lt,Ie),lt.forEach(p),Ce.forEach(p),Fe.forEach(p),et.forEach(p),this.h()},h(){W(e,"class","d-flex justify-content-center")},m(P,U){C(P,e,U),re(s,e,null),C(P,d,U),C(P,r,U),h(r,t),h(t,m),h(t,n),h(r,l),h(r,f),h(f,x),h(r,y),h(r,g),C(P,u,U),re(b,P,U),C(P,B,U),re(j,P,U),C(P,F,U),C(P,I,U),h(I,N),h(N,M),h(M,z),h(M,R),h(M,T),h(T,A),h(M,J),h(M,K),h(K,te),h(N,$e),h(N,O),h(O,L),h(O,ge),h(O,he),h(he,we),h(O,ne),h(O,ye),h(ye,Ne),h(O,Xe),h(N,ae),h(ae,Te),h(ae,Ge),h(ae,Pe),h(Pe,We),h(ae,qe),h(ae,Be),h(Be,Me),ee=!0,ze||(Ke=[q(t,"click",o[7]),q(f,"click",o[8]),q(g,"click",o[4])],ze=!0)},p(P,[U]){(!ee||U&1)&&c!==(c=P[0]?"Disable":"Enable")&&Q(m,c),(!ee||U&2)&&a!==(a=P[1]?"Play":"Pause")&&Q(x,a);const ue={};U&8&&(ue.world=P[3]),j.$set(ue),(!ee||U&4)&&D!==(D=P[2].t+"")&&Q(A,D),(!ee||U&4)&&Y!==(Y=P[2].frameTime+"")&&Q(te,Y),(!ee||U&4)&&pe!==(pe=P[2].spherePos.x.toFixed(2)+"")&&Q(we,pe),(!ee||U&4)&&ve!==(ve=P[2].spherePos.y.toFixed(2)+"")&&Q(Ne,ve),(!ee||U&4)&&De!==(De=P[2].sphereVel.x.toFixed(2)+"")&&Q(We,De),(!ee||U&4)&&Ie!==(Ie=P[2].sphereVel.y.toFixed(2)+"")&&Q(Me,Ie)},i(P){ee||(le(s.$$.fragment,P),le(b.$$.fragment,P),le(j.$$.fragment,P),ee=!0)},o(P){ie(s.$$.fragment,P),ie(b.$$.fragment,P),ie(j.$$.fragment,P),ee=!1},d(P){P&&(p(e),p(d),p(r),p(u),p(B),p(F),p(I)),ce(s),ce(b,P),ce(j,P),ze=!1,Ye(Ke)}}}const Re=60;function Dt(o,e,s){console.clear();let d=!1,r=!1,t={t:"0",frameTime:"0",spherePos:new i(0,0),sphereVel:new i(0,0),ballIsColliding:!1},c,m;const n=()=>{s(3,c=new Oe({dimensions:new i(15,15),reporter:b=>{var B;s(2,t.t=(B=b==null?void 0:b.t)==null?void 0:B.toFixed(1),t),t.spherePos.copy(m.position).unfloat(),t.sphereVel.copy(m.velocity).unfloat(),s(2,t.frameTime=b.frameTime.toFixed(2),t),s(2,t),s(2,t.ballIsColliding=m.data.isColliding,t),d&&m.data.isColliding&&!r&&s(1,r=!0)},enableGravity:!0}));const u=Ot();m=u.sphere;for(const b of u.objects)c.addObject(b)},l=u=>typeof u=="number"?u*Re:u.clone().multiplyScalar(Re),f=u=>typeof u=="number"?u/Re:u.clone().divideScalar(Re);let a;const x=u=>{u.setup=()=>{a=u,n();const j=l(c.dimensions);u.createCanvas(j.x,j.y),u.background(0),u.fill(255),u.stroke(255),n()},u.draw=()=>{u.background(0),ut(u)?m.fixed=!0:m.fixed=!1,r||c.step(),He(u,c),B(u)};let b;u.mousePressed=()=>{Ae(u)&&(b=f(new i(u.mouseX,u.height-u.mouseY)),m.position.copy(b))},u.mouseReleased=()=>{if(!Ae(u)||!b)return;const j=f(new i(u.mouseX,u.height-u.mouseY)),F=b.subtract(j).multiplyScalar(3);b=void 0,m.velocity.copy(F)};const B=j=>{if(!b)return;j.stroke("blue"),j.strokeWeight(2);const F=l(b);j.line(F.x,j.height-F.y,j.mouseX,j.mouseY)}},y=u=>{u.multiplyScalar(1e4),c.applyForce(m,u)};return Se(()=>{a==null||a.remove()}),[d,r,t,c,n,x,y,()=>s(0,d=!d),()=>s(1,r=!r)]}let Bt=class extends fe{constructor(e){super(),me(this,e,Dt,Pt,de,{})}};const It=()=>{const o=[],e=$({geometry:{type:"line",vector:new i(15,0)},position:new i(0,0),fixed:!0});o.push(e);const s=$({geometry:{type:"line",vector:new i(0,100)},position:new i(0,0),fixed:!0});o.push(s);const d=$({geometry:{type:"line",vector:new i(0,100)},position:new i(15,0),fixed:!0});o.push(d);const r=$({geometry:{type:"line",vector:new i(3,-3)},position:new i(3.5,8),fixed:!0});o.push(r);const t=$({geometry:{type:"line",vector:new i(3,3)},position:new i(3.5,5),fixed:!0});o.push(t);const c=$({geometry:{type:"line",vector:new i(6,0)},position:new i(2,2),fixed:!0});o.push(c);const m=$({geometry:{type:"line",vector:new i(4,0)},position:new i(3,2.5),fixed:!0});o.push(m);const n=$({geometry:{type:"line",vector:new i(2,0)},position:new i(4,3),fixed:!0});o.push(n);const l=$({geometry:{type:"line",vector:new i(.6,0)},position:new i(4.7,3.5),fixed:!0});o.push(l);const f=$({geometry:{type:"line",vector:new i(1,0)},position:new i(10,10.1),fixed:!0});o.push(f);const a=$({geometry:{type:"line",vector:new i(0,-4)},position:new i(11,10),fixed:!0});o.push(a);const x=$({geometry:{type:"line",vector:new i(0,-4)},position:new i(11.5,10),fixed:!0});o.push(x);const y=$({geometry:{type:"line",vector:new i(0,-4)},position:new i(12,10),fixed:!0});o.push(y);const g=$({geometry:{type:"line",vector:new i(1,0)},position:new i(12,10.1),fixed:!0});o.push(g);for(let v=.2;v<.5;v+=.1)for(let u=0;u<10;u++){const b=$({geometry:{type:"line",vector:new i(0,3)},position:new i(9+u*v,1),fixed:!0});o.push(b)}return{objects:o}};function Ft(o){let e,s,d,r,t,c=o[0]?"Disable":"Enable",m,n,l,f,a=o[1]?"Play":"Pause",x,y,g,v="Reset",u,b,B,j,F,I,N,M="Simulation time/Frame duration",z,V,R=o[2].t+"",T,D,A,J=o[2].frameTime+"",K,Y,te,$e;return s=new je({props:{sketch:o[5]}}),b=new dt({props:{world:o[3]}}),{c(){e=w("div"),oe(s.$$.fragment),d=E(),r=w("div"),t=w("button"),m=H(c),n=H(" pause on collision"),l=E(),f=w("button"),x=H(a),y=E(),g=w("button"),g.textContent=v,u=E(),oe(b.$$.fragment),B=E(),j=w("table"),F=w("tbody"),I=w("tr"),N=w("th"),N.textContent=M,z=E(),V=w("td"),T=H(R),D=E(),A=w("td"),K=H(J),this.h()},l(O){e=_(O,"DIV",{class:!0});var L=k(e);se(s.$$.fragment,L),L.forEach(p),d=S(O),r=_(O,"DIV",{});var Z=k(r);t=_(Z,"BUTTON",{});var ge=k(t);m=X(ge,c),n=X(ge," pause on collision"),ge.forEach(p),l=S(Z),f=_(Z,"BUTTON",{});var he=k(f);x=X(he,a),he.forEach(p),y=S(Z),g=_(Z,"BUTTON",{"data-svelte-h":!0}),G(g)!=="svelte-tlxueg"&&(g.textContent=v),Z.forEach(p),u=S(O),se(b.$$.fragment,O),B=S(O),j=_(O,"TABLE",{});var pe=k(j);F=_(pe,"TBODY",{});var we=k(F);I=_(we,"TR",{});var ne=k(I);N=_(ne,"TH",{"data-svelte-h":!0}),G(N)!=="svelte-rirgm4"&&(N.textContent=M),z=S(ne),V=_(ne,"TD",{});var ye=k(V);T=X(ye,R),ye.forEach(p),D=S(ne),A=_(ne,"TD",{});var ve=k(A);K=X(ve,J),ve.forEach(p),ne.forEach(p),we.forEach(p),pe.forEach(p),this.h()},h(){W(e,"class","d-flex justify-content-center")},m(O,L){C(O,e,L),re(s,e,null),C(O,d,L),C(O,r,L),h(r,t),h(t,m),h(t,n),h(r,l),h(r,f),h(f,x),h(r,y),h(r,g),C(O,u,L),re(b,O,L),C(O,B,L),C(O,j,L),h(j,F),h(F,I),h(I,N),h(I,z),h(I,V),h(V,T),h(I,D),h(I,A),h(A,K),Y=!0,te||($e=[q(t,"click",o[6]),q(f,"click",o[7]),q(g,"click",o[4])],te=!0)},p(O,[L]){(!Y||L&1)&&c!==(c=O[0]?"Disable":"Enable")&&Q(m,c),(!Y||L&2)&&a!==(a=O[1]?"Play":"Pause")&&Q(x,a);const Z={};L&8&&(Z.world=O[3]),b.$set(Z),(!Y||L&4)&&R!==(R=O[2].t+"")&&Q(T,R),(!Y||L&4)&&J!==(J=O[2].frameTime+"")&&Q(K,J)},i(O){Y||(le(s.$$.fragment,O),le(b.$$.fragment,O),Y=!0)},o(O){ie(s.$$.fragment,O),ie(b.$$.fragment,O),Y=!1},d(O){O&&(p(e),p(d),p(r),p(u),p(B),p(j)),ce(s),ce(b,O),te=!1,Ye($e)}}}const at=60;function Nt(o,e,s){console.clear();let d=!1,r=!1,t={t:"0",frameTime:"0"},c;const m=()=>{clearInterval(a),a=setInterval(n,100),s(3,c=new Oe({dimensions:new i(15,15),reporter:u=>{var b;s(2,t.t=(b=u==null?void 0:u.t)==null?void 0:b.toFixed(1),t),s(2,t.frameTime=u.frameTime.toFixed(2),t),s(2,t)},enableGravity:!0}));const v=It();for(const u of v.objects)c.addObject(u)},n=()=>{console.log("add ball");const v=Math.random()*c.dimensions.x,u=Math.random()*c.dimensions.y,b=-5+Math.random()*10,B=-5+Math.random()*10,j=$({geometry:{type:"sphere",r:.1},position:new i(v,u),velocity:new i(b,B)});c.addObject(j)},l=v=>typeof v=="number"?v*at:v.clone().multiplyScalar(at);let f,a;const x=v=>{v.setup=()=>{f=v,m();const u=l(c.dimensions);v.createCanvas(u.x,u.y),v.background(0),v.fill(255),v.stroke(255),m()},v.draw=()=>{v.background(0),r||c.step(),He(v,c)}};return Se(()=>{f==null||f.remove(),clearInterval(a)}),[d,r,t,c,m,x,()=>s(0,d=!d),()=>s(1,r=!r)]}class Wt extends fe{constructor(e){super(),me(this,e,Nt,Ft,de,{})}}function Mt(o){let e,s="<span>This page is a list of engine tests. They use the actual engine and allow me to setup different situations and check manually for regressions and bugs.</span> <br/> <span>Use the selection menu to see the different pages</span>",d,r,t,c,m;return c=new ft({props:{tabs:o[0]}}),{c(){e=w("div"),e.innerHTML=s,d=E(),r=w("br"),t=E(),oe(c.$$.fragment)},l(n){e=_(n,"DIV",{"data-svelte-h":!0}),G(e)!=="svelte-11mzr87"&&(e.innerHTML=s),d=S(n),r=_(n,"BR",{}),t=S(n),se(c.$$.fragment,n)},m(n,l){C(n,e,l),C(n,d,l),C(n,r,l),C(n,t,l),re(c,n,l),m=!0},p:xe,i(n){m||(le(c.$$.fragment,n),m=!0)},o(n){ie(c.$$.fragment,n),m=!1},d(n){n&&(p(e),p(d),p(r),p(t)),ce(c,n)}}}function Vt(o){return[[{label:"Obstacles2",value:Wt},{label:"Obstacles",value:Bt},{label:"Test collisions 3",value:Tt},{label:"Test collisions 2",value:_t},{label:"Test collisions",value:bt},{label:"Test engine",value:pt}]]}class Ht extends fe{constructor(e){super(),me(this,e,Vt,Mt,de,{})}}export{Ht as component};
