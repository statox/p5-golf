import{s as D,f as L,a as E,g as C,h as B,d as y,c as M,u as U,j as J,i as b,y as K,L as Q,z as G,M as Z,e as T,E as z,q as H,l as ee,m as te}from"../chunks/scheduler.e421d989.js";import{S as A,i as F,b as x,d as j,m as v,a as $,t as d,e as k,g as O,c as I}from"../chunks/index.52486247.js";import{e as P}from"../chunks/each.e59479a4.js";import{V as m,P as ne,m as oe,a as N,T as se,b as re,c as ce,d as ie}from"../chunks/p5utils.fe4d08ff.js";import{c as _,W as ae}from"../chunks/PhysicObject.b0a0d3c3.js";const le=(u,e)=>{const c=[],t=u.x,s=u.y,l=1,n=5,a=.3,r=4,f=.5,o=.2,i=Math.random()*(t-n),h=s-Math.random()*(s-r),p=Math.random()*n+l,g=Math.random()*r+a,w=Math.random()*f+o;me({x:i,y:h,w:p,h:g,topRatio:w},e).forEach(R=>c.push(R)),ue(u).forEach(R=>c.push(R));const S=fe();return c.push(S),{objects:c,sphere:S}},fe=()=>_({geometry:{type:"sphere",r:.1},position:new m(5,10),velocity:new m(0,0)}),ue=u=>{const e=u.x,c=u.y,t=[],s=_({geometry:{type:"line",vector:new m(e,0)},position:new m(0,0),fixed:!0});t.push(s);const l=_({geometry:{type:"line",vector:new m(0,c*10)},position:new m(0,0),fixed:!0});t.push(l);const n=_({geometry:{type:"line",vector:new m(0,c*10)},position:new m(15,0),fixed:!0});return t.push(n),t},me=(u,e)=>{const{x:c,y:t,h:s,w:l,topRatio:n}=u;if(n<0||n>1)throw new Error("topRatio must be between 0 and 1");const a=l*n/2,r=l*(1-n),f=.1,o=[],i=_({geometry:{type:"line",vector:new m(a,0)},position:new m(c,t+f),fixed:!0});o.push(i);const h=_({geometry:{type:"line",vector:new m(0,-s)},position:new m(c+a,t),fixed:!0});o.push(h);const p=_({geometry:{type:"line",vector:new m(r,0)},position:new m(c+a,t-s-f),fixed:!0});o.push(p);const g=_({geometry:{type:"line",vector:new m(r-2*f,0)},position:new m(c+a+f,t-s+f),fixed:!0,friction:1,restitution:0,collisionListener:e});o.push(g);const w=_({geometry:{type:"line",vector:new m(0,s)},position:new m(c+a+r,t-s),fixed:!0});o.push(w);const S=_({geometry:{type:"line",vector:new m(a,0)},position:new m(c+a+r,t+f),fixed:!0});return o.push(S),o};function he(u){let e,c,t,s,l,n="Reset",a,r,f;return c=new ne({props:{sketch:u[1]}}),{c(){e=L("div"),x(c.$$.fragment),t=E(),s=L("div"),l=L("button"),l.textContent=n,this.h()},l(o){e=C(o,"DIV",{class:!0});var i=B(e);j(c.$$.fragment,i),i.forEach(y),t=M(o),s=C(o,"DIV",{});var h=B(s);l=C(h,"BUTTON",{"data-svelte-h":!0}),U(l)!=="svelte-tlxueg"&&(l.textContent=n),h.forEach(y),this.h()},h(){J(e,"class","d-flex justify-content-center")},m(o,i){b(o,e,i),v(c,e,null),b(o,t,i),b(o,s,i),K(s,l),a=!0,r||(f=Q(l,"click",u[0]),r=!0)},p:G,i(o){a||($(c.$$.fragment,o),a=!0)},o(o){d(c.$$.fragment,o),a=!1},d(o){o&&(y(e),y(t),y(s)),k(c),r=!1,f()}}}const W=60;function pe(u){console.clear();let e,c;const t=()=>{console.log("hit target"),s()},s=()=>{e=new ae({dimensions:new m(15,15),reporter:()=>{},enableGravity:!0});const o=le(e.dimensions,t);c=o.sphere;for(const i of o.objects)e.addObject(i)},l=o=>typeof o=="number"?o*W:o.clone().multiplyScalar(W),n=o=>typeof o=="number"?o/W:o.clone().divideScalar(W),a=(o,i)=>{for(const h of i.objects){o.stroke(h.data.isColliding?"red":"white");const p=o.map(h.position.x,0,i.dimensions.x,0,o.width),g=o.map(h.position.y,0,i.dimensions.y,o.height,0);if(h.geometry.type==="sphere"){const w=l(h.geometry.r*2);o.strokeWeight(w),o.point(p,g)}if(h.geometry.type==="line"){const w=p+o.map(h.geometry.vector.x,0,i.dimensions.x,0,o.width),S=g-o.map(h.geometry.vector.y,0,i.dimensions.y,0,o.height);o.strokeWeight(2),o.line(p,g,w,S)}}};let r;const f=o=>{o.setup=()=>{r=o,s();const p=l(e.dimensions);o.createCanvas(p.x,p.y),o.background(0),o.fill(255),o.stroke(255),s()},o.draw=()=>{o.background(0),oe(o)?c.fixed=!0:c.fixed=!1,e.step(),a(o,e),h(o)};let i;o.mousePressed=()=>{N(o)&&(i=n(new m(o.mouseX,o.height-o.mouseY)),c.position.copy(i))},o.mouseReleased=()=>{if(!N(o)||!i)return;const p=n(new m(o.mouseX,o.height-o.mouseY)),g=i.subtract(p).multiplyScalar(3);i=void 0,c.velocity.copy(g)};const h=p=>{if(!i)return;p.stroke("blue"),p.strokeWeight(2);const g=l(i);p.line(g.x,p.height-g.y,p.mouseX,p.mouseY)}};return Z(()=>{r==null||r.remove()}),[s,f]}class $e extends A{constructor(e){super(),F(this,e,pe,he,D,{})}}function V(u,e,c){const t=u.slice();return t[1]=e[c],t}function X(u,e,c){const t=u.slice();return t[1]=e[c],t}function ge(u){let e=u[1].title+"",c;return{c(){c=ee(e)},l(t){c=te(t,e)},m(t,s){b(t,c,s)},p:G,d(t){t&&y(c)}}}function Y(u){let e,c;return e=new ie({props:{$$slots:{default:[ge]},$$scope:{ctx:u}}}),{c(){x(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){v(e,t,s),c=!0},p(t,s){const l={};s&64&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){c||($(e.$$.fragment,t),c=!0)},o(t){d(e.$$.fragment,t),c=!1},d(t){k(e,t)}}}function de(u){let e,c,t=P(u[0]),s=[];for(let n=0;n<t.length;n+=1)s[n]=Y(X(u,t,n));const l=n=>d(s[n],1,1,()=>{s[n]=null});return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=T()},l(n){for(let a=0;a<s.length;a+=1)s[a].l(n);e=T()},m(n,a){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,a);b(n,e,a),c=!0},p(n,a){if(a&1){t=P(n[0]);let r;for(r=0;r<t.length;r+=1){const f=X(n,t,r);s[r]?(s[r].p(f,a),$(s[r],1)):(s[r]=Y(f),s[r].c(),$(s[r],1),s[r].m(e.parentNode,e))}for(O(),r=t.length;r<s.length;r+=1)l(r);I()}},i(n){if(!c){for(let a=0;a<t.length;a+=1)$(s[a]);c=!0}},o(n){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)d(s[a]);c=!1},d(n){n&&y(e),z(s,n)}}}function _e(u){let e,c,t;var s=u[1].component;function l(n,a){return{}}return s&&(e=H(s,l())),{c(){e&&x(e.$$.fragment),c=E()},l(n){e&&j(e.$$.fragment,n),c=M(n)},m(n,a){e&&v(e,n,a),b(n,c,a),t=!0},p(n,a){if(s!==(s=n[1].component)){if(e){O();const r=e;d(r.$$.fragment,1,0,()=>{k(r,1)}),I()}s?(e=H(s,l()),x(e.$$.fragment),$(e.$$.fragment,1),v(e,c.parentNode,c)):e=null}},i(n){t||(e&&$(e.$$.fragment,n),t=!0)},o(n){e&&d(e.$$.fragment,n),t=!1},d(n){n&&y(c),e&&k(e,n)}}}function q(u){let e,c;return e=new ce({props:{$$slots:{default:[_e]},$$scope:{ctx:u}}}),{c(){x(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){v(e,t,s),c=!0},p(t,s){const l={};s&64&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){c||($(e.$$.fragment,t),c=!0)},o(t){d(e.$$.fragment,t),c=!1},d(t){k(e,t)}}}function ye(u){let e,c,t,s;e=new re({props:{$$slots:{default:[de]},$$scope:{ctx:u}}});let l=P(u[0]),n=[];for(let r=0;r<l.length;r+=1)n[r]=q(V(u,l,r));const a=r=>d(n[r],1,1,()=>{n[r]=null});return{c(){x(e.$$.fragment),c=E();for(let r=0;r<n.length;r+=1)n[r].c();t=T()},l(r){j(e.$$.fragment,r),c=M(r);for(let f=0;f<n.length;f+=1)n[f].l(r);t=T()},m(r,f){v(e,r,f),b(r,c,f);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(r,f);b(r,t,f),s=!0},p(r,f){const o={};if(f&64&&(o.$$scope={dirty:f,ctx:r}),e.$set(o),f&1){l=P(r[0]);let i;for(i=0;i<l.length;i+=1){const h=V(r,l,i);n[i]?(n[i].p(h,f),$(n[i],1)):(n[i]=q(h),n[i].c(),$(n[i],1),n[i].m(t.parentNode,t))}for(O(),i=l.length;i<n.length;i+=1)a(i);I()}},i(r){if(!s){$(e.$$.fragment,r);for(let f=0;f<l.length;f+=1)$(n[f]);s=!0}},o(r){d(e.$$.fragment,r),n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)d(n[f]);s=!1},d(r){r&&(y(c),y(t)),k(e,r),z(n,r)}}}function be(u){let e,c;return e=new se({props:{$$slots:{default:[ye]},$$scope:{ctx:u}}}),{c(){x(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){v(e,t,s),c=!0},p(t,[s]){const l={};s&64&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){c||($(e.$$.fragment,t),c=!0)},o(t){d(e.$$.fragment,t),c=!1},d(t){k(e,t)}}}function we(u){return[[{title:"Golf",component:$e}]]}class We extends A{constructor(e){super(),F(this,e,we,be,D,{})}}export{We as component};
