import{s as q,f as R,a as C,g as L,h as M,d as y,c as E,u as U,j as J,i as b,y as K,L as Q,z as D,M as Z,e as T,E as G,q as B,l as ee,m as te}from"../chunks/scheduler.e421d989.js";import{S as z,i as A,b as x,d as S,m as v,a as $,t as g,e as k,g as O,c as I}from"../chunks/index.52486247.js";import{e as P}from"../chunks/each.e59479a4.js";import{V as h,P as ne,m as oe,a as H,T as se,b as re,c as ce,d as ie}from"../chunks/p5utils.fe4d08ff.js";import{c as _,W as le}from"../chunks/PhysicObject.b0a0d3c3.js";const ae=(u,e)=>{const c=[],t=u.x,s=u.y,a=1,n=5,l=1,r=6,f=.5,o=.2;for(let m=1;m<t-n;m+=t/2)for(let p=s-1;p>r;p-=s/2){const d=Math.random()*n+a,w=Math.random()*r+l,j=Math.random()*f+o;me({x:m,y:p,w:d,h:w,topRatio:j},e).forEach(F=>c.push(F))}ue(u).forEach(m=>c.push(m));const i=fe();return c.push(i),{objects:c,sphere:i}},fe=()=>_({geometry:{type:"sphere",r:.1},position:new h(5,10),velocity:new h(0,0)}),ue=u=>{const e=u.x,c=u.y,t=[],s=_({geometry:{type:"line",vector:new h(e,0)},position:new h(0,0),fixed:!0});t.push(s);const a=_({geometry:{type:"line",vector:new h(0,c*10)},position:new h(0,0),fixed:!0});t.push(a);const n=_({geometry:{type:"line",vector:new h(0,c*10)},position:new h(15,0),fixed:!0});return t.push(n),t},me=(u,e)=>{const{x:c,y:t,h:s,w:a,topRatio:n}=u;if(n<0||n>1)throw new Error("topRatio must be between 0 and 1");const l=a*n/2,r=a*(1-n),f=.1,o=[],i=_({geometry:{type:"line",vector:new h(l,0)},position:new h(c,t+f),fixed:!0});o.push(i);const m=_({geometry:{type:"line",vector:new h(0,-s)},position:new h(c+l,t),fixed:!0});o.push(m);const p=_({geometry:{type:"line",vector:new h(r,0)},position:new h(c+l,t-s-f),fixed:!0});o.push(p);const d=_({geometry:{type:"line",vector:new h(r-2*f,0)},position:new h(c+l+f,t-s/2-f),fixed:!0,friction:1,restitution:0,collisionListener:e});o.push(d);const w=_({geometry:{type:"line",vector:new h(0,s)},position:new h(c+l+r,t-s),fixed:!0});o.push(w);const j=_({geometry:{type:"line",vector:new h(l,0)},position:new h(c+l+r,t+f),fixed:!0});return o.push(j),o};function he(u){let e,c,t,s,a,n="Reset",l,r,f;return c=new ne({props:{sketch:u[1]}}),{c(){e=R("div"),x(c.$$.fragment),t=C(),s=R("div"),a=R("button"),a.textContent=n,this.h()},l(o){e=L(o,"DIV",{class:!0});var i=M(e);S(c.$$.fragment,i),i.forEach(y),t=E(o),s=L(o,"DIV",{});var m=M(s);a=L(m,"BUTTON",{"data-svelte-h":!0}),U(a)!=="svelte-tlxueg"&&(a.textContent=n),m.forEach(y),this.h()},h(){J(e,"class","d-flex justify-content-center")},m(o,i){b(o,e,i),v(c,e,null),b(o,t,i),b(o,s,i),K(s,a),l=!0,r||(f=Q(a,"click",u[0]),r=!0)},p:D,i(o){l||($(c.$$.fragment,o),l=!0)},o(o){g(c.$$.fragment,o),l=!1},d(o){o&&(y(e),y(t),y(s)),k(c),r=!1,f()}}}const W=60;function pe(u){console.clear();let e,c;const t=()=>{console.log("hit target")},s=()=>{e=new le({dimensions:new h(15,15),reporter:()=>{},enableGravity:!0});const o=ae(e.dimensions,t);c=o.sphere;for(const i of o.objects)e.addObject(i)},a=o=>typeof o=="number"?o*W:o.clone().multiplyScalar(W),n=o=>typeof o=="number"?o/W:o.clone().divideScalar(W),l=(o,i)=>{for(const m of i.objects){o.stroke(m.data.isColliding?"red":"white");const p=o.map(m.position.x,0,i.dimensions.x,0,o.width),d=o.map(m.position.y,0,i.dimensions.y,o.height,0);if(m.geometry.type==="sphere"){const w=a(m.geometry.r*2);o.strokeWeight(w),o.point(p,d)}if(m.geometry.type==="line"){const w=p+o.map(m.geometry.vector.x,0,i.dimensions.x,0,o.width),j=d-o.map(m.geometry.vector.y,0,i.dimensions.y,0,o.height);o.strokeWeight(2),o.line(p,d,w,j)}}};let r;const f=o=>{o.setup=()=>{r=o,s();const p=a(e.dimensions);o.createCanvas(p.x,p.y),o.background(0),o.fill(255),o.stroke(255),s()},o.draw=()=>{o.background(0),oe(o)?c.fixed=!0:c.fixed=!1,e.step(),l(o,e),m(o)};let i;o.mousePressed=()=>{H(o)&&(i=n(new h(o.mouseX,o.height-o.mouseY)),c.position.copy(i))},o.mouseReleased=()=>{if(!H(o)||!i)return;const p=n(new h(o.mouseX,o.height-o.mouseY)),d=i.subtract(p).multiplyScalar(3);i=void 0,c.velocity.copy(d)};const m=p=>{if(!i)return;p.stroke("blue"),p.strokeWeight(2);const d=a(i);p.line(d.x,p.height-d.y,p.mouseX,p.mouseY)}};return Z(()=>{r==null||r.remove()}),[s,f]}class $e extends z{constructor(e){super(),A(this,e,pe,he,q,{})}}function N(u,e,c){const t=u.slice();return t[1]=e[c],t}function V(u,e,c){const t=u.slice();return t[1]=e[c],t}function de(u){let e=u[1].title+"",c;return{c(){c=ee(e)},l(t){c=te(t,e)},m(t,s){b(t,c,s)},p:D,d(t){t&&y(c)}}}function X(u){let e,c;return e=new ie({props:{$$slots:{default:[de]},$$scope:{ctx:u}}}),{c(){x(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,s){v(e,t,s),c=!0},p(t,s){const a={};s&64&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){c||($(e.$$.fragment,t),c=!0)},o(t){g(e.$$.fragment,t),c=!1},d(t){k(e,t)}}}function ge(u){let e,c,t=P(u[0]),s=[];for(let n=0;n<t.length;n+=1)s[n]=X(V(u,t,n));const a=n=>g(s[n],1,1,()=>{s[n]=null});return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=T()},l(n){for(let l=0;l<s.length;l+=1)s[l].l(n);e=T()},m(n,l){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,l);b(n,e,l),c=!0},p(n,l){if(l&1){t=P(n[0]);let r;for(r=0;r<t.length;r+=1){const f=V(n,t,r);s[r]?(s[r].p(f,l),$(s[r],1)):(s[r]=X(f),s[r].c(),$(s[r],1),s[r].m(e.parentNode,e))}for(O(),r=t.length;r<s.length;r+=1)a(r);I()}},i(n){if(!c){for(let l=0;l<t.length;l+=1)$(s[l]);c=!0}},o(n){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)g(s[l]);c=!1},d(n){n&&y(e),G(s,n)}}}function _e(u){let e,c,t;var s=u[1].component;function a(n,l){return{}}return s&&(e=B(s,a())),{c(){e&&x(e.$$.fragment),c=C()},l(n){e&&S(e.$$.fragment,n),c=E(n)},m(n,l){e&&v(e,n,l),b(n,c,l),t=!0},p(n,l){if(s!==(s=n[1].component)){if(e){O();const r=e;g(r.$$.fragment,1,0,()=>{k(r,1)}),I()}s?(e=B(s,a()),x(e.$$.fragment),$(e.$$.fragment,1),v(e,c.parentNode,c)):e=null}},i(n){t||(e&&$(e.$$.fragment,n),t=!0)},o(n){e&&g(e.$$.fragment,n),t=!1},d(n){n&&y(c),e&&k(e,n)}}}function Y(u){let e,c;return e=new ce({props:{$$slots:{default:[_e]},$$scope:{ctx:u}}}),{c(){x(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,s){v(e,t,s),c=!0},p(t,s){const a={};s&64&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){c||($(e.$$.fragment,t),c=!0)},o(t){g(e.$$.fragment,t),c=!1},d(t){k(e,t)}}}function ye(u){let e,c,t,s;e=new re({props:{$$slots:{default:[ge]},$$scope:{ctx:u}}});let a=P(u[0]),n=[];for(let r=0;r<a.length;r+=1)n[r]=Y(N(u,a,r));const l=r=>g(n[r],1,1,()=>{n[r]=null});return{c(){x(e.$$.fragment),c=C();for(let r=0;r<n.length;r+=1)n[r].c();t=T()},l(r){S(e.$$.fragment,r),c=E(r);for(let f=0;f<n.length;f+=1)n[f].l(r);t=T()},m(r,f){v(e,r,f),b(r,c,f);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(r,f);b(r,t,f),s=!0},p(r,f){const o={};if(f&64&&(o.$$scope={dirty:f,ctx:r}),e.$set(o),f&1){a=P(r[0]);let i;for(i=0;i<a.length;i+=1){const m=N(r,a,i);n[i]?(n[i].p(m,f),$(n[i],1)):(n[i]=Y(m),n[i].c(),$(n[i],1),n[i].m(t.parentNode,t))}for(O(),i=a.length;i<n.length;i+=1)l(i);I()}},i(r){if(!s){$(e.$$.fragment,r);for(let f=0;f<a.length;f+=1)$(n[f]);s=!0}},o(r){g(e.$$.fragment,r),n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)g(n[f]);s=!1},d(r){r&&(y(c),y(t)),k(e,r),G(n,r)}}}function be(u){let e,c;return e=new se({props:{$$slots:{default:[ye]},$$scope:{ctx:u}}}),{c(){x(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,s){v(e,t,s),c=!0},p(t,[s]){const a={};s&64&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){c||($(e.$$.fragment,t),c=!0)},o(t){g(e.$$.fragment,t),c=!1},d(t){k(e,t)}}}function we(u){return[[{title:"Golf",component:$e}]]}class We extends z{constructor(e){super(),A(this,e,we,be,q,{})}}export{We as component};
