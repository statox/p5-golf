import{s as tt,f as v,a as T,l as I,g as w,h as C,d,c as k,m as N,u as be,j as rt,i as D,y as m,L as Ve,n as q,O as lt,M as it,e as we,E as nt,q as ze,z as at}from"../chunks/scheduler.e421d989.js";import{S as ot,i as st,b as H,d as A,m as U,a as S,t as F,e as X,g as We,c as Be}from"../chunks/index.52486247.js";import{e as xe}from"../chunks/each.e59479a4.js";import{V as u,P as ct,m as ft,a as Je,T as ut,b as mt,c as pt,d as ht}from"../chunks/p5utils.fe4d08ff.js";import{c as x,S as dt,E as _t,W as gt}from"../chunks/Shooter.0cf88a6f.js";const $t=()=>{const i=[],e=x({geometry:{type:"line",vector:new u(15,0)},position:new u(0,0),fixed:!0});i.push(e);const l=x({geometry:{type:"line",vector:new u(0,100)},position:new u(0,0),fixed:!0});i.push(l);const n=x({geometry:{type:"line",vector:new u(0,100)},position:new u(15,0),fixed:!0});i.push(n);const o=x({geometry:{type:"line",vector:new u(3,-3)},position:new u(3.5,8),fixed:!0});i.push(o);const a=x({geometry:{type:"line",vector:new u(3,3)},position:new u(3.5,5),fixed:!0});i.push(a);const t=x({geometry:{type:"line",vector:new u(6,0)},position:new u(2,2),fixed:!0});i.push(t);const c=x({geometry:{type:"line",vector:new u(4,0)},position:new u(3,2.5),fixed:!0});i.push(c);const s=x({geometry:{type:"line",vector:new u(2,0)},position:new u(4,3),fixed:!0});i.push(s);const p=x({geometry:{type:"line",vector:new u(.6,0)},position:new u(4.7,3.5),fixed:!0});i.push(p);const b=x({geometry:{type:"line",vector:new u(1,0)},position:new u(10,10.1),fixed:!0});i.push(b);const _=x({geometry:{type:"line",vector:new u(0,-4)},position:new u(11,10),fixed:!0});i.push(_);const P=x({geometry:{type:"line",vector:new u(0,-4)},position:new u(11.5,10),fixed:!0});i.push(P);const G=x({geometry:{type:"line",vector:new u(0,-4)},position:new u(12,10),fixed:!0});i.push(G);const V=x({geometry:{type:"line",vector:new u(1,0)},position:new u(12,10.1),fixed:!0});i.push(V);for(let R=.2;R<.5;R+=.1)for(let r=0;r<10;r++){const h=x({geometry:{type:"line",vector:new u(0,3)},position:new u(9+r*R,1),fixed:!0});i.push(h)}const z=x({geometry:{type:"sphere",r:.1},position:new u(5,10),velocity:new u(0,0)});return i.push(z),{objects:i,sphere:z}};function yt(i){let e,l,n,o,a,t=i[0]?"Disable":"Enable",c,s,p,b,_=i[1]?"Play":"Pause",P,G,V,z="Reset",R,r,h,g,y,E,O,W,J,Ie="Simulation time/Frame duration",Te,te,ne=i[2].t+"",he,ke,oe,se=i[2].frameTime+"",de,Ee,B,K,Ne="Sphere position",Ce,re,le=i[2].spherePos.x.toFixed(2)+"",_e,Se,ie,ae=i[2].spherePos.y.toFixed(2)+"",ge,Pe,L,Q,Re="Sphere velocity",Fe,ce,fe=i[2].sphereVel.x.toFixed(2)+"",$e,Oe,ue,me=i[2].sphereVel.y.toFixed(2)+"",ye,j,je,Le;return l=new ct({props:{sketch:i[5]}}),r=new dt({props:{onShoot:i[6]}}),g=new _t({props:{world:i[3]}}),{c(){e=v("div"),H(l.$$.fragment),n=T(),o=v("div"),a=v("button"),c=I(t),s=I(" pause on collision"),p=T(),b=v("button"),P=I(_),G=T(),V=v("button"),V.textContent=z,R=T(),H(r.$$.fragment),h=T(),H(g.$$.fragment),y=T(),E=v("table"),O=v("tbody"),W=v("tr"),J=v("th"),J.textContent=Ie,Te=T(),te=v("td"),he=I(ne),ke=T(),oe=v("td"),de=I(se),Ee=T(),B=v("tr"),K=v("th"),K.textContent=Ne,Ce=T(),re=v("td"),_e=I(le),Se=T(),ie=v("td"),ge=I(ae),Pe=T(),L=v("tr"),Q=v("th"),Q.textContent=Re,Fe=T(),ce=v("td"),$e=I(fe),Oe=T(),ue=v("td"),ye=I(me),this.h()},l(f){e=w(f,"DIV",{class:!0});var $=C(e);A(l.$$.fragment,$),$.forEach(d),n=k(f),o=w(f,"DIV",{});var Y=C(o);a=w(Y,"BUTTON",{});var De=C(a);c=N(De,t),s=N(De," pause on collision"),De.forEach(d),p=k(Y),b=w(Y,"BUTTON",{});var Ye=C(b);P=N(Ye,_),Ye.forEach(d),G=k(Y),V=w(Y,"BUTTON",{"data-svelte-h":!0}),be(V)!=="svelte-tlxueg"&&(V.textContent=z),Y.forEach(d),R=k(f),A(r.$$.fragment,f),h=k(f),A(g.$$.fragment,f),y=k(f),E=w(f,"TABLE",{});var He=C(E);O=w(He,"TBODY",{});var pe=C(O);W=w(pe,"TR",{});var Z=C(W);J=w(Z,"TH",{"data-svelte-h":!0}),be(J)!=="svelte-rirgm4"&&(J.textContent=Ie),Te=k(Z),te=w(Z,"TD",{});var Ue=C(te);he=N(Ue,ne),Ue.forEach(d),ke=k(Z),oe=w(Z,"TD",{});var Xe=C(oe);de=N(Xe,se),Xe.forEach(d),Z.forEach(d),Ee=k(pe),B=w(pe,"TR",{});var M=C(B);K=w(M,"TH",{"data-svelte-h":!0}),be(K)!=="svelte-1y1nif6"&&(K.textContent=Ne),Ce=k(M),re=w(M,"TD",{});var qe=C(re);_e=N(qe,le),qe.forEach(d),Se=k(M),ie=w(M,"TD",{});var Ae=C(ie);ge=N(Ae,ae),Ae.forEach(d),Pe=k(M),M.forEach(d),L=w(pe,"TR",{});var ee=C(L);Q=w(ee,"TH",{"data-svelte-h":!0}),be(Q)!=="svelte-1uw1fs2"&&(Q.textContent=Re),Fe=k(ee),ce=w(ee,"TD",{});var Ge=C(ce);$e=N(Ge,fe),Ge.forEach(d),Oe=k(ee),ue=w(ee,"TD",{});var Me=C(ue);ye=N(Me,me),Me.forEach(d),ee.forEach(d),pe.forEach(d),He.forEach(d),this.h()},h(){rt(e,"class","d-flex justify-content-center")},m(f,$){D(f,e,$),U(l,e,null),D(f,n,$),D(f,o,$),m(o,a),m(a,c),m(a,s),m(o,p),m(o,b),m(b,P),m(o,G),m(o,V),D(f,R,$),U(r,f,$),D(f,h,$),U(g,f,$),D(f,y,$),D(f,E,$),m(E,O),m(O,W),m(W,J),m(W,Te),m(W,te),m(te,he),m(W,ke),m(W,oe),m(oe,de),m(O,Ee),m(O,B),m(B,K),m(B,Ce),m(B,re),m(re,_e),m(B,Se),m(B,ie),m(ie,ge),m(B,Pe),m(O,L),m(L,Q),m(L,Fe),m(L,ce),m(ce,$e),m(L,Oe),m(L,ue),m(ue,ye),j=!0,je||(Le=[Ve(a,"click",i[7]),Ve(b,"click",i[8]),Ve(V,"click",i[4])],je=!0)},p(f,[$]){(!j||$&1)&&t!==(t=f[0]?"Disable":"Enable")&&q(c,t),(!j||$&2)&&_!==(_=f[1]?"Play":"Pause")&&q(P,_);const Y={};$&8&&(Y.world=f[3]),g.$set(Y),(!j||$&4)&&ne!==(ne=f[2].t+"")&&q(he,ne),(!j||$&4)&&se!==(se=f[2].frameTime+"")&&q(de,se),(!j||$&4)&&le!==(le=f[2].spherePos.x.toFixed(2)+"")&&q(_e,le),(!j||$&4)&&ae!==(ae=f[2].spherePos.y.toFixed(2)+"")&&q(ge,ae),(!j||$&4)&&fe!==(fe=f[2].sphereVel.x.toFixed(2)+"")&&q($e,fe),(!j||$&4)&&me!==(me=f[2].sphereVel.y.toFixed(2)+"")&&q(ye,me)},i(f){j||(S(l.$$.fragment,f),S(r.$$.fragment,f),S(g.$$.fragment,f),j=!0)},o(f){F(l.$$.fragment,f),F(r.$$.fragment,f),F(g.$$.fragment,f),j=!1},d(f){f&&(d(e),d(n),d(o),d(R),d(h),d(y),d(E)),X(l),X(r,f),X(g,f),je=!1,lt(Le)}}}const ve=60;function bt(i,e,l){console.clear();let n=!1,o=!1,a={t:"0",frameTime:"0",spherePos:new u(0,0),sphereVel:new u(0,0),ballIsColliding:!1},t,c;const s=()=>{l(3,t=new gt({dimensions:new u(15,15),reporter:h=>{var g;l(2,a.t=(g=h==null?void 0:h.t)==null?void 0:g.toFixed(1),a),a.spherePos.copy(c.position).unfloat(),a.sphereVel.copy(c.velocity).unfloat(),l(2,a.frameTime=h.frameTime.toFixed(2),a),l(2,a),l(2,a.ballIsColliding=c.data.isColliding,a),n&&c.data.isColliding&&!o&&l(1,o=!0)},enableGravity:!0}));const r=$t();c=r.sphere;for(const h of r.objects)t.addObject(h)},p=r=>typeof r=="number"?r*ve:r.clone().multiplyScalar(ve),b=r=>typeof r=="number"?r/ve:r.clone().divideScalar(ve),_=(r,h)=>{for(const g of h.objects){r.stroke(g.data.isColliding?"red":"white");const y=r.map(g.position.x,0,h.dimensions.x,0,r.width),E=r.map(g.position.y,0,h.dimensions.y,r.height,0);if(g.geometry.type==="sphere"){const O=p(g.geometry.r*2);r.strokeWeight(O),r.point(y,E)}if(g.geometry.type==="line"){const O=y+r.map(g.geometry.vector.x,0,h.dimensions.x,0,r.width),W=E-r.map(g.geometry.vector.y,0,h.dimensions.y,0,r.height);r.strokeWeight(2),r.line(y,E,O,W)}}};let P;const G=r=>{r.setup=()=>{P=r,s();const y=p(t.dimensions);r.createCanvas(y.x,y.y),r.background(0),r.fill(255),r.stroke(255),s()},r.draw=()=>{r.background(0),ft(r)?c.fixed=!0:c.fixed=!1,o||t.step(),_(r,t),g(r)};let h;r.mousePressed=()=>{Je(r)&&(h=b(new u(r.mouseX,r.height-r.mouseY)),c.position.copy(h))},r.mouseReleased=()=>{if(!Je(r)||!h)return;const y=b(new u(r.mouseX,r.height-r.mouseY)),E=h.subtract(y).multiplyScalar(3);h=void 0,c.velocity.copy(E)};const g=y=>{if(!h)return;y.stroke("blue"),y.strokeWeight(2);const E=p(h);y.line(E.x,y.height-E.y,y.mouseX,y.mouseY)}},V=r=>{r.multiplyScalar(1e4),t.applyForce(c,r)};return it(()=>{P==null||P.remove()}),[n,o,a,t,s,G,V,()=>l(0,n=!n),()=>l(1,o=!o)]}class vt extends ot{constructor(e){super(),st(this,e,bt,yt,tt,{})}}function Ke(i,e,l){const n=i.slice();return n[1]=e[l],n}function Qe(i,e,l){const n=i.slice();return n[1]=e[l],n}function wt(i){let e=i[1].title+"",l;return{c(){l=I(e)},l(n){l=N(n,e)},m(n,o){D(n,l,o)},p:at,d(n){n&&d(l)}}}function Ze(i){let e,l;return e=new ht({props:{$$slots:{default:[wt]},$$scope:{ctx:i}}}),{c(){H(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,o){U(e,n,o),l=!0},p(n,o){const a={};o&64&&(a.$$scope={dirty:o,ctx:n}),e.$set(a)},i(n){l||(S(e.$$.fragment,n),l=!0)},o(n){F(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function xt(i){let e,l,n=xe(i[0]),o=[];for(let t=0;t<n.length;t+=1)o[t]=Ze(Qe(i,n,t));const a=t=>F(o[t],1,1,()=>{o[t]=null});return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=we()},l(t){for(let c=0;c<o.length;c+=1)o[c].l(t);e=we()},m(t,c){for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(t,c);D(t,e,c),l=!0},p(t,c){if(c&1){n=xe(t[0]);let s;for(s=0;s<n.length;s+=1){const p=Qe(t,n,s);o[s]?(o[s].p(p,c),S(o[s],1)):(o[s]=Ze(p),o[s].c(),S(o[s],1),o[s].m(e.parentNode,e))}for(We(),s=n.length;s<o.length;s+=1)a(s);Be()}},i(t){if(!l){for(let c=0;c<n.length;c+=1)S(o[c]);l=!0}},o(t){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)F(o[c]);l=!1},d(t){t&&d(e),nt(o,t)}}}function Tt(i){let e,l,n;var o=i[1].component;function a(t,c){return{}}return o&&(e=ze(o,a())),{c(){e&&H(e.$$.fragment),l=T()},l(t){e&&A(e.$$.fragment,t),l=k(t)},m(t,c){e&&U(e,t,c),D(t,l,c),n=!0},p(t,c){if(o!==(o=t[1].component)){if(e){We();const s=e;F(s.$$.fragment,1,0,()=>{X(s,1)}),Be()}o?(e=ze(o,a()),H(e.$$.fragment),S(e.$$.fragment,1),U(e,l.parentNode,l)):e=null}},i(t){n||(e&&S(e.$$.fragment,t),n=!0)},o(t){e&&F(e.$$.fragment,t),n=!1},d(t){t&&d(l),e&&X(e,t)}}}function et(i){let e,l;return e=new pt({props:{$$slots:{default:[Tt]},$$scope:{ctx:i}}}),{c(){H(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,o){U(e,n,o),l=!0},p(n,o){const a={};o&64&&(a.$$scope={dirty:o,ctx:n}),e.$set(a)},i(n){l||(S(e.$$.fragment,n),l=!0)},o(n){F(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function kt(i){let e,l,n,o;e=new mt({props:{$$slots:{default:[xt]},$$scope:{ctx:i}}});let a=xe(i[0]),t=[];for(let s=0;s<a.length;s+=1)t[s]=et(Ke(i,a,s));const c=s=>F(t[s],1,1,()=>{t[s]=null});return{c(){H(e.$$.fragment),l=T();for(let s=0;s<t.length;s+=1)t[s].c();n=we()},l(s){A(e.$$.fragment,s),l=k(s);for(let p=0;p<t.length;p+=1)t[p].l(s);n=we()},m(s,p){U(e,s,p),D(s,l,p);for(let b=0;b<t.length;b+=1)t[b]&&t[b].m(s,p);D(s,n,p),o=!0},p(s,p){const b={};if(p&64&&(b.$$scope={dirty:p,ctx:s}),e.$set(b),p&1){a=xe(s[0]);let _;for(_=0;_<a.length;_+=1){const P=Ke(s,a,_);t[_]?(t[_].p(P,p),S(t[_],1)):(t[_]=et(P),t[_].c(),S(t[_],1),t[_].m(n.parentNode,n))}for(We(),_=a.length;_<t.length;_+=1)c(_);Be()}},i(s){if(!o){S(e.$$.fragment,s);for(let p=0;p<a.length;p+=1)S(t[p]);o=!0}},o(s){F(e.$$.fragment,s),t=t.filter(Boolean);for(let p=0;p<t.length;p+=1)F(t[p]);o=!1},d(s){s&&(d(l),d(n)),X(e,s),nt(t,s)}}}function Et(i){let e,l;return e=new ut({props:{$$slots:{default:[kt]},$$scope:{ctx:i}}}),{c(){H(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,o){U(e,n,o),l=!0},p(n,[o]){const a={};o&64&&(a.$$scope={dirty:o,ctx:n}),e.$set(a)},i(n){l||(S(e.$$.fragment,n),l=!0)},o(n){F(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Ct(i){return[[{title:"Golf",component:vt}]]}class Dt extends ot{constructor(e){super(),st(this,e,Ct,Et,tt,{})}}export{Dt as component};
