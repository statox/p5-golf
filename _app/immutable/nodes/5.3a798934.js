import{s as X,f as R,a as C,g as T,h as I,d as _,c as E,u as F,j as U,i as y,y as J,L as K,z as Y,M as Q,e as W,E as q,q as M,l as Z,m as ee}from"../chunks/scheduler.e421d989.js";import{S as G,i as z,b as w,d as k,m as x,a as p,t as d,e as v,g as L,c as O}from"../chunks/index.52486247.js";import{e as P}from"../chunks/each.e59479a4.js";import{V as h,P as te,m as ne,a as B,T as oe,b as se,c as re,d as ce}from"../chunks/p5utils.fe4d08ff.js";import{c as g,W as ie}from"../chunks/PhysicObject.d19d6eec.js";const le=u=>{const e=[],c=u.x,t=u.y,r=1,f=5,o=1,i=6,s=.5,n=.2;for(let a=1;a<c-f;a+=c/2)for(let m=t-1;m>i;m-=t/2){const $=Math.random()*f+r,b=Math.random()*i+o,S=Math.random()*s+n;ue({x:a,y:m,w:$,h:b,topRatio:S}).forEach(A=>e.push(A))}fe().forEach(a=>e.push(a));const l=ae();return e.push(l),{objects:e,sphere:l}},ae=()=>g({geometry:{type:"sphere",r:.1},position:new h(5,10),velocity:new h(0,0)}),fe=()=>{const u=[],e=g({geometry:{type:"line",vector:new h(15,0)},position:new h(0,0),fixed:!0});u.push(e);const c=g({geometry:{type:"line",vector:new h(0,100)},position:new h(0,0),fixed:!0});u.push(c);const t=g({geometry:{type:"line",vector:new h(0,100)},position:new h(15,0),fixed:!0});return u.push(t),u},ue=u=>{const{x:e,y:c,h:t,w:r,topRatio:f}=u;if(f<0||f>1)throw new Error("topRatio must be between 0 and 1");const o=r*f/2,i=r*(1-f),s=.1,n=[],l=g({geometry:{type:"line",vector:new h(o,0)},position:new h(e,c+s),fixed:!0});n.push(l);const a=g({geometry:{type:"line",vector:new h(0,-t)},position:new h(e+o,c),fixed:!0});n.push(a);const m=g({geometry:{type:"line",vector:new h(i,0)},position:new h(e+o,c-t-s),fixed:!0});n.push(m);const $=g({geometry:{type:"line",vector:new h(i-2*s,0)},position:new h(e+o+s,c-t/2-s),fixed:!0});n.push($);const b=g({geometry:{type:"line",vector:new h(0,t)},position:new h(e+o+i,c-t),fixed:!0});n.push(b);const S=g({geometry:{type:"line",vector:new h(o,0)},position:new h(e+o+i,c+s),fixed:!0});return n.push(S),n};function me(u){let e,c,t,r,f,o="Reset",i,s,n;return c=new te({props:{sketch:u[1]}}),{c(){e=R("div"),w(c.$$.fragment),t=C(),r=R("div"),f=R("button"),f.textContent=o,this.h()},l(l){e=T(l,"DIV",{class:!0});var a=I(e);k(c.$$.fragment,a),a.forEach(_),t=E(l),r=T(l,"DIV",{});var m=I(r);f=T(m,"BUTTON",{"data-svelte-h":!0}),F(f)!=="svelte-tlxueg"&&(f.textContent=o),m.forEach(_),this.h()},h(){U(e,"class","d-flex justify-content-center")},m(l,a){y(l,e,a),x(c,e,null),y(l,t,a),y(l,r,a),J(r,f),i=!0,s||(n=K(f,"click",u[0]),s=!0)},p:Y,i(l){i||(p(c.$$.fragment,l),i=!0)},o(l){d(c.$$.fragment,l),i=!1},d(l){l&&(_(e),_(t),_(r)),v(c),s=!1,n()}}}const j=60;function he(u){console.clear();let e,c;const t=()=>{e=new ie({dimensions:new h(15,15),reporter:()=>{},enableGravity:!0});const n=le(e.dimensions);c=n.sphere;for(const l of n.objects)e.addObject(l)},r=n=>typeof n=="number"?n*j:n.clone().multiplyScalar(j),f=n=>typeof n=="number"?n/j:n.clone().divideScalar(j),o=(n,l)=>{for(const a of l.objects){n.stroke(a.data.isColliding?"red":"white");const m=n.map(a.position.x,0,l.dimensions.x,0,n.width),$=n.map(a.position.y,0,l.dimensions.y,n.height,0);if(a.geometry.type==="sphere"){const b=r(a.geometry.r*2);n.strokeWeight(b),n.point(m,$)}if(a.geometry.type==="line"){const b=m+n.map(a.geometry.vector.x,0,l.dimensions.x,0,n.width),S=$-n.map(a.geometry.vector.y,0,l.dimensions.y,0,n.height);n.strokeWeight(2),n.line(m,$,b,S)}}};let i;const s=n=>{n.setup=()=>{i=n,t();const m=r(e.dimensions);n.createCanvas(m.x,m.y),n.background(0),n.fill(255),n.stroke(255),t()},n.draw=()=>{n.background(0),ne(n)?c.fixed=!0:c.fixed=!1,e.step(),o(n,e),a(n)};let l;n.mousePressed=()=>{B(n)&&(l=f(new h(n.mouseX,n.height-n.mouseY)),c.position.copy(l))},n.mouseReleased=()=>{if(!B(n)||!l)return;const m=f(new h(n.mouseX,n.height-n.mouseY)),$=l.subtract(m).multiplyScalar(3);l=void 0,c.velocity.copy($)};const a=m=>{if(!l)return;m.stroke("blue"),m.strokeWeight(2);const $=r(l);m.line($.x,m.height-$.y,m.mouseX,m.mouseY)}};return Q(()=>{i==null||i.remove()}),[t,s]}class pe extends G{constructor(e){super(),z(this,e,he,me,X,{})}}function D(u,e,c){const t=u.slice();return t[1]=e[c],t}function N(u,e,c){const t=u.slice();return t[1]=e[c],t}function $e(u){let e=u[1].title+"",c;return{c(){c=Z(e)},l(t){c=ee(t,e)},m(t,r){y(t,c,r)},p:Y,d(t){t&&_(c)}}}function V(u){let e,c;return e=new ce({props:{$$slots:{default:[$e]},$$scope:{ctx:u}}}),{c(){w(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){x(e,t,r),c=!0},p(t,r){const f={};r&64&&(f.$$scope={dirty:r,ctx:t}),e.$set(f)},i(t){c||(p(e.$$.fragment,t),c=!0)},o(t){d(e.$$.fragment,t),c=!1},d(t){v(e,t)}}}function de(u){let e,c,t=P(u[0]),r=[];for(let o=0;o<t.length;o+=1)r[o]=V(N(u,t,o));const f=o=>d(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=W()},l(o){for(let i=0;i<r.length;i+=1)r[i].l(o);e=W()},m(o,i){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(o,i);y(o,e,i),c=!0},p(o,i){if(i&1){t=P(o[0]);let s;for(s=0;s<t.length;s+=1){const n=N(o,t,s);r[s]?(r[s].p(n,i),p(r[s],1)):(r[s]=V(n),r[s].c(),p(r[s],1),r[s].m(e.parentNode,e))}for(L(),s=t.length;s<r.length;s+=1)f(s);O()}},i(o){if(!c){for(let i=0;i<t.length;i+=1)p(r[i]);c=!0}},o(o){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)d(r[i]);c=!1},d(o){o&&_(e),q(r,o)}}}function ge(u){let e,c,t;var r=u[1].component;function f(o,i){return{}}return r&&(e=M(r,f())),{c(){e&&w(e.$$.fragment),c=C()},l(o){e&&k(e.$$.fragment,o),c=E(o)},m(o,i){e&&x(e,o,i),y(o,c,i),t=!0},p(o,i){if(r!==(r=o[1].component)){if(e){L();const s=e;d(s.$$.fragment,1,0,()=>{v(s,1)}),O()}r?(e=M(r,f()),w(e.$$.fragment),p(e.$$.fragment,1),x(e,c.parentNode,c)):e=null}},i(o){t||(e&&p(e.$$.fragment,o),t=!0)},o(o){e&&d(e.$$.fragment,o),t=!1},d(o){o&&_(c),e&&v(e,o)}}}function H(u){let e,c;return e=new re({props:{$$slots:{default:[ge]},$$scope:{ctx:u}}}),{c(){w(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){x(e,t,r),c=!0},p(t,r){const f={};r&64&&(f.$$scope={dirty:r,ctx:t}),e.$set(f)},i(t){c||(p(e.$$.fragment,t),c=!0)},o(t){d(e.$$.fragment,t),c=!1},d(t){v(e,t)}}}function _e(u){let e,c,t,r;e=new se({props:{$$slots:{default:[de]},$$scope:{ctx:u}}});let f=P(u[0]),o=[];for(let s=0;s<f.length;s+=1)o[s]=H(D(u,f,s));const i=s=>d(o[s],1,1,()=>{o[s]=null});return{c(){w(e.$$.fragment),c=C();for(let s=0;s<o.length;s+=1)o[s].c();t=W()},l(s){k(e.$$.fragment,s),c=E(s);for(let n=0;n<o.length;n+=1)o[n].l(s);t=W()},m(s,n){x(e,s,n),y(s,c,n);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(s,n);y(s,t,n),r=!0},p(s,n){const l={};if(n&64&&(l.$$scope={dirty:n,ctx:s}),e.$set(l),n&1){f=P(s[0]);let a;for(a=0;a<f.length;a+=1){const m=D(s,f,a);o[a]?(o[a].p(m,n),p(o[a],1)):(o[a]=H(m),o[a].c(),p(o[a],1),o[a].m(t.parentNode,t))}for(L(),a=f.length;a<o.length;a+=1)i(a);O()}},i(s){if(!r){p(e.$$.fragment,s);for(let n=0;n<f.length;n+=1)p(o[n]);r=!0}},o(s){d(e.$$.fragment,s),o=o.filter(Boolean);for(let n=0;n<o.length;n+=1)d(o[n]);r=!1},d(s){s&&(_(c),_(t)),v(e,s),q(o,s)}}}function ye(u){let e,c;return e=new oe({props:{$$slots:{default:[_e]},$$scope:{ctx:u}}}),{c(){w(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){x(e,t,r),c=!0},p(t,[r]){const f={};r&64&&(f.$$scope={dirty:r,ctx:t}),e.$set(f)},i(t){c||(p(e.$$.fragment,t),c=!0)},o(t){d(e.$$.fragment,t),c=!1},d(t){v(e,t)}}}function be(u){return[[{title:"Golf",component:pe}]]}class je extends G{constructor(e){super(),z(this,e,be,ye,X,{})}}export{je as component};
