import{s as ne,f as _,a as P,l as L,g as x,h as E,d as p,c as W,m as M,u as z,j as be,i as C,y as b,L as oe,n as U,M as ve,z as Ue,O as ht,e as De,E as dt,q as lt}from"../chunks/scheduler.e421d989.js";import{S as se,i as re,b as V,d as R,m as I,a as D,t as B,e as Y,g as He,c as qe}from"../chunks/index.52486247.js";import{e as Fe}from"../chunks/each.e59479a4.js";import{P as we,V as d,m as mt,a as Be,T as yt,b as gt,c as pt,d as $t}from"../chunks/p5utils.fe4d08ff.js";import{W as _e,c as k,S as bt,E as vt}from"../chunks/Shooter.0cf88a6f.js";function wt(u){let e,i,o,n,c=u[0][u[0].length-1]+"",s,f,a,t="New ball",r,l,y;return i=new we({props:{sketch:u[2]}}),{c(){e=_("div"),V(i.$$.fragment),o=P(),n=_("p"),s=L(c),f=P(),a=_("button"),a.textContent=t,this.h()},l(m){e=x(m,"DIV",{class:!0});var g=E(e);R(i.$$.fragment,g),g.forEach(p),o=W(m),n=x(m,"P",{});var $=E(n);s=M($,c),$.forEach(p),f=W(m),a=x(m,"BUTTON",{"data-svelte-h":!0}),z(a)!=="svelte-1jwbm46"&&(a.textContent=t),this.h()},h(){be(e,"class","d-flex justify-content-center")},m(m,g){C(m,e,g),I(i,e,null),C(m,o,g),C(m,n,g),b(n,s),C(m,f,g),C(m,a,g),r=!0,l||(y=oe(a,"click",u[1]),l=!0)},p(m,[g]){(!r||g&1)&&c!==(c=m[0][m[0].length-1]+"")&&U(s,c)},i(m){r||(D(i.$$.fragment,m),r=!0)},o(m){B(i.$$.fragment,m),r=!1},d(m){m&&(p(e),p(o),p(n),p(f),p(a)),Y(i),l=!1,y()}}}function _t(u,e,i){console.clear();let o=[];const n=t=>{const r=t.objects[t.objects.length-1],l=r.position.clone().toFixed(2),y=r.velocity.clone().toFixed(2);o.push(`${t.t.toFixed(2)} - pos: ${l} - vel: ${y}`),o.length>50&&o.shift(),i(0,o)},c=new _e({reporter:n,enableGravity:!0}),s=()=>{for(;c.objects.length;)c.objects.pop();const t=k({geometry:{type:"line",vector:new d(100,0)},position:new d(0,0),fixed:!0});c.addObject(t);for(let r=0;r<1;r++){const l=k({geometry:{type:"sphere",r:5},position:new d(20,50),velocity:new d(Math.random()*5-2.5,Math.random()*20)});c.addObject(l)}};let f;const a=t=>{t.setup=()=>{f=t,t.createCanvas(900,600),t.background(0),t.fill(255),t.stroke(255),s()},t.draw=()=>{t.background(0),c.step();for(const r of c.objects){const l=t.map(r.position.x,0,c.dimensions.x,0,t.width),y=t.map(r.position.y,0,c.dimensions.y,t.height,0);if(r.geometry.type==="sphere"&&(t.strokeWeight(r.geometry.r*2),t.point(l,y)),r.geometry.type==="line"){const m=l+t.map(r.geometry.vector.x,0,c.dimensions.x,0,t.width),g=y+t.map(r.geometry.vector.y,0,c.dimensions.y,0,t.height);t.strokeWeight(2),t.line(l,y,m,g)}}}};return ve(()=>{f==null||f.remove()}),[o,s,a]}class xt extends se{constructor(e){super(),re(this,e,_t,wt,ne,{})}}function kt(u){let e,i,o,n,c=u[0][u[0].length-1]+"",s,f,a,t="New ball",r,l,y;return i=new we({props:{sketch:u[2]}}),{c(){e=_("div"),V(i.$$.fragment),o=P(),n=_("p"),s=L(c),f=P(),a=_("button"),a.textContent=t,this.h()},l(m){e=x(m,"DIV",{class:!0});var g=E(e);R(i.$$.fragment,g),g.forEach(p),o=W(m),n=x(m,"P",{});var $=E(n);s=M($,c),$.forEach(p),f=W(m),a=x(m,"BUTTON",{"data-svelte-h":!0}),z(a)!=="svelte-1jwbm46"&&(a.textContent=t),this.h()},h(){be(e,"class","d-flex justify-content-center")},m(m,g){C(m,e,g),I(i,e,null),C(m,o,g),C(m,n,g),b(n,s),C(m,f,g),C(m,a,g),r=!0,l||(y=oe(a,"click",u[1]),l=!0)},p(m,[g]){(!r||g&1)&&c!==(c=m[0][m[0].length-1]+"")&&U(s,c)},i(m){r||(D(i.$$.fragment,m),r=!0)},o(m){B(i.$$.fragment,m),r=!1},d(m){m&&(p(e),p(o),p(n),p(f),p(a)),Y(i),l=!1,y()}}}const Ee=6;function Tt(u,e,i){console.clear();let o=[];const n=l=>{const y=l.objects[l.objects.length-1],m=y.position.clone().toFixed(2),g=y.velocity.clone().toFixed(2);o.push(`${l.t.toFixed(2)} - pos: ${m} - vel: ${g}`),o.length>50&&o.shift(),i(0,o)},c=new _e({reporter:n,enableGravity:!0});let s,f;const a=()=>{for(;c.objects.length;)c.objects.pop();f=k({geometry:{type:"line",vector:new d(40,40)},position:new d(30,30),fixed:!0}),c.addObject(f),s=k({geometry:{type:"sphere",r:10},position:new d(20,50),velocity:new d(2.5,2.5),fixed:!0}),c.addObject(s)};let t;const r=l=>{const y=$=>typeof $=="number"?$*Ee:$.clone().multiplyScalar(Ee),m=$=>typeof $=="number"?$/Ee:$.clone().divideScalar(Ee);l.setup=()=>{t=l;const $=y(c.dimensions);l.createCanvas($.x,$.y),l.background(0),l.fill(255),l.stroke(255),a()};let g;l.draw=()=>{if(l.background(0),c.step(),l.mouseIsPressed){const $=m(new d(l.mouseX,l.height-l.mouseY));if(g||($.distance(s.position)<2?g="sphere":$.distance(f.position)<2?g="wallstart":$.distance(f.geometry.vector.clone().add(f.position))<2&&(g="wallend")),g==="sphere"&&s.position.copy($),g==="wallstart"&&f.position.copy($),g==="wallend"){const T=$.clone().subtract(f.position);f.geometry.vector.copy(T)}}else g=void 0;for(const $ of c.objects){l.stroke(s.data.isColliding?"red":"white");const T=l.map($.position.x,0,c.dimensions.x,0,l.width),h=l.map($.position.y,0,c.dimensions.y,l.height,0);if($.geometry.type==="sphere"){const w=y($.geometry.r*2);l.strokeWeight(w),l.point(T,h)}if($.geometry.type==="line"){const w=T+l.map($.geometry.vector.x,0,c.dimensions.x,0,l.width),j=h-l.map($.geometry.vector.y,0,c.dimensions.y,0,l.height);l.strokeWeight(2),l.line(T,h,w,j)}}}};return ve(()=>{t==null||t.remove()}),[o,a,r]}class jt extends se{constructor(e){super(),re(this,e,Tt,kt,ne,{})}}function Ct(u){let e,i,o;return i=new we({props:{sketch:u[0]}}),{c(){e=_("div"),V(i.$$.fragment),this.h()},l(n){e=x(n,"DIV",{class:!0});var c=E(e);R(i.$$.fragment,c),c.forEach(p),this.h()},h(){be(e,"class","d-flex justify-content-center")},m(n,c){C(n,e,c),I(i,e,null),o=!0},p:Ue,i(n){o||(D(i.$$.fragment,n),o=!0)},o(n){B(i.$$.fragment,n),o=!1},d(n){n&&p(e),Y(i)}}}const Oe=6;function St(u){console.clear();const e=new _e({reporter:()=>{},enableGravity:!0});let i;const o=()=>{for(;e.objects.length;)e.objects.pop();i=k({geometry:{type:"sphere",r:5},position:new d(20,50),velocity:new d(Math.random()*5-2.5,Math.random()*20)}),e.addObject(i);const t=k({geometry:{type:"line",vector:new d(100,0)},position:new d(0,2),fixed:!0});e.addObject(t);const r=k({geometry:{type:"line",vector:new d(100,0)},position:new d(0,98),fixed:!0});e.addObject(r);const l=k({geometry:{type:"line",vector:new d(0,100)},position:new d(2,0),fixed:!0});e.addObject(l);const y=k({geometry:{type:"line",vector:new d(0,100)},position:new d(98,0),fixed:!0});e.addObject(y);const m=k({geometry:{type:"line",vector:new d(50,50)},position:new d(20,10),fixed:!0});e.addObject(m)},n=t=>typeof t=="number"?t*Oe:t.clone().multiplyScalar(Oe),c=t=>typeof t=="number"?t/Oe:t.clone().divideScalar(Oe),s=(t,r)=>{for(const l of r.objects){t.stroke(l.data.isColliding?"red":"white");const y=t.map(l.position.x,0,r.dimensions.x,0,t.width),m=t.map(l.position.y,0,r.dimensions.y,t.height,0);if(l.geometry.type==="sphere"){const g=n(l.geometry.r*2);t.strokeWeight(g),t.point(y,m)}if(t.stroke(l.data.isColliding?"orange":"white"),l.geometry.type==="line"){const g=y+t.map(l.geometry.vector.x,0,r.dimensions.x,0,t.width),$=m-t.map(l.geometry.vector.y,0,r.dimensions.y,0,t.height);t.strokeWeight(2),t.line(y,m,g,$)}}};let f;const a=t=>{t.setup=()=>{f=t;const l=n(e.dimensions);t.createCanvas(l.x,l.y),t.background(0),t.fill(255),t.stroke(255),o()},t.draw=()=>{if(t.background(0),t.mouseIsPressed){i.fixed=!0;const l=c(new d(t.mouseX,t.height-t.mouseY));i.position.copy(l)}else i.fixed=!1;e.step(),s(t,e)};let r;t.mousePressed=()=>{r=c(new d(t.mouseX,t.height-t.mouseY))},t.mouseReleased=()=>{const l=c(new d(t.mouseX,t.height-t.mouseY)),y=r.subtract(l);i.position.copy(l),i.velocity.copy(y)}};return ve(()=>{f==null||f.remove()}),[a]}class Et extends se{constructor(e){super(),re(this,e,St,Ct,ne,{})}}function Ot(u){let e,i,o,n,c,s,f,a="Gravity",t,r,l,y="Toggle",m,g,$;return i=new we({props:{sketch:u[1]}}),{c(){e=_("div"),V(i.$$.fragment),o=P(),n=_("table"),c=_("tbody"),s=_("tr"),f=_("th"),f.textContent=a,t=P(),r=_("td"),l=_("button"),l.textContent=y,this.h()},l(T){e=x(T,"DIV",{class:!0});var h=E(e);R(i.$$.fragment,h),h.forEach(p),o=W(T),n=x(T,"TABLE",{});var w=E(n);c=x(w,"TBODY",{});var j=E(c);s=x(j,"TR",{});var S=E(s);f=x(S,"TH",{"data-svelte-h":!0}),z(f)!=="svelte-vy75us"&&(f.textContent=a),t=W(S),r=x(S,"TD",{});var F=E(r);l=x(F,"BUTTON",{"data-svelte-h":!0}),z(l)!=="svelte-18lc94l"&&(l.textContent=y),F.forEach(p),S.forEach(p),j.forEach(p),w.forEach(p),this.h()},h(){be(e,"class","d-flex justify-content-center")},m(T,h){C(T,e,h),I(i,e,null),C(T,o,h),C(T,n,h),b(n,c),b(c,s),b(s,f),b(s,t),b(s,r),b(r,l),m=!0,g||($=oe(l,"click",u[2]),g=!0)},p:Ue,i(T){m||(D(i.$$.fragment,T),m=!0)},o(T){B(i.$$.fragment,T),m=!1},d(T){T&&(p(e),p(o),p(n)),Y(i),g=!1,$()}}}const Pe=6;function Pt(u){console.clear();const e=new _e({reporter:()=>{},enableGravity:!0});let i;const o=()=>{for(;e.objects.length;)e.objects.pop();const r=k({geometry:{type:"line",vector:new d(100,0)},position:new d(0,0),fixed:!0});e.addObject(r);const l=k({geometry:{type:"line",vector:new d(100,0)},position:new d(0,100),fixed:!0});e.addObject(l);const y=k({geometry:{type:"line",vector:new d(0,100)},position:new d(0,0),fixed:!0});e.addObject(y);const m=k({geometry:{type:"line",vector:new d(0,100)},position:new d(100,0),fixed:!0});e.addObject(m);const g=k({geometry:{type:"line",vector:new d(50,50)},position:new d(20,10),fixed:!0});e.addObject(g),i=k({geometry:{type:"sphere",r:2},position:new d(20,50),velocity:new d(Math.random()*5-2.5,Math.random()*20)}),e.addObject(i)},n=r=>typeof r=="number"?r*Pe:r.clone().multiplyScalar(Pe),c=r=>typeof r=="number"?r/Pe:r.clone().divideScalar(Pe),s=(r,l)=>{for(const y of l.objects){r.stroke(y.data.isColliding?"red":"white");const m=r.map(y.position.x,0,l.dimensions.x,0,r.width),g=r.map(y.position.y,0,l.dimensions.y,r.height,0);if(y.geometry.type==="sphere"){const $=n(y.geometry.r*2);r.strokeWeight($),r.point(m,g)}if(y.geometry.type==="line"){const $=m+r.map(y.geometry.vector.x,0,l.dimensions.x,0,r.width),T=g-r.map(y.geometry.vector.y,0,l.dimensions.y,0,r.height);r.strokeWeight(2),r.line(m,g,$,T)}}};let f;const a=r=>{r.setup=()=>{f=r;const y=n(e.dimensions);r.createCanvas(y.x,y.y),r.background(0),r.fill(255),r.stroke(255),o()},r.draw=()=>{if(r.background(0),mt(r)){i.fixed=!0;const y=c(new d(r.mouseX,r.height-r.mouseY));i.position.copy(y)}else i.fixed=!1;e.step(),s(r,e)};let l;r.mousePressed=()=>{Be(r)&&(l=c(new d(r.mouseX,r.height-r.mouseY)))},r.mouseReleased=()=>{if(!Be(r))return;const y=c(new d(r.mouseX,r.height-r.mouseY)),m=l.subtract(y);i.position.copy(y),i.velocity.copy(m)}};return ve(()=>{f==null||f.remove()}),[e,a,()=>e.toggleGravity()]}class Wt extends se{constructor(e){super(),re(this,e,Pt,Ot,ne,{})}}const Dt=()=>{const u=[],e=k({geometry:{type:"line",vector:new d(15,0)},position:new d(0,0),fixed:!0});u.push(e);const i=k({geometry:{type:"line",vector:new d(0,100)},position:new d(0,0),fixed:!0});u.push(i);const o=k({geometry:{type:"line",vector:new d(0,100)},position:new d(15,0),fixed:!0});u.push(o);const n=k({geometry:{type:"line",vector:new d(3,-3)},position:new d(3.5,8),fixed:!0});u.push(n);const c=k({geometry:{type:"line",vector:new d(3,3)},position:new d(3.5,5),fixed:!0});u.push(c);const s=k({geometry:{type:"line",vector:new d(6,0)},position:new d(2,2),fixed:!0});u.push(s);const f=k({geometry:{type:"line",vector:new d(4,0)},position:new d(3,2.5),fixed:!0});u.push(f);const a=k({geometry:{type:"line",vector:new d(2,0)},position:new d(4,3),fixed:!0});u.push(a);const t=k({geometry:{type:"line",vector:new d(.6,0)},position:new d(4.7,3.5),fixed:!0});u.push(t);const r=k({geometry:{type:"line",vector:new d(1,0)},position:new d(10,10.1),fixed:!0});u.push(r);const l=k({geometry:{type:"line",vector:new d(0,-4)},position:new d(11,10),fixed:!0});u.push(l);const y=k({geometry:{type:"line",vector:new d(0,-4)},position:new d(11.5,10),fixed:!0});u.push(y);const m=k({geometry:{type:"line",vector:new d(0,-4)},position:new d(12,10),fixed:!0});u.push(m);const g=k({geometry:{type:"line",vector:new d(1,0)},position:new d(12,10.1),fixed:!0});u.push(g);for(let T=.2;T<.5;T+=.1)for(let h=0;h<10;h++){const w=k({geometry:{type:"line",vector:new d(0,3)},position:new d(9+h*T,1),fixed:!0});u.push(w)}const $=k({geometry:{type:"sphere",r:.1},position:new d(5,10),velocity:new d(0,0)});return u.push($),{objects:u,sphere:$}};function Ft(u){let e,i,o,n,c,s=u[0]?"Disable":"Enable",f,a,t,r,l=u[1]?"Play":"Pause",y,m,g,$="Reset",T,h,w,j,S,F,N,G,K,ze="Simulation time/Frame duration",Ve,ie,le=u[2].t+"",xe,Ie,ce,ae=u[2].frameTime+"",ke,Ye,A,Q,Je="Sphere position",Ne,fe,ue=u[2].spherePos.x.toFixed(2)+"",Te,Xe,de,me=u[2].spherePos.y.toFixed(2)+"",je,Le,H,Z,Ke="Sphere velocity",Me,he,ye=u[2].sphereVel.x.toFixed(2)+"",Ce,Re,ge,pe=u[2].sphereVel.y.toFixed(2)+"",Se,X,Ge,Qe;return i=new we({props:{sketch:u[5]}}),h=new bt({props:{onShoot:u[6]}}),j=new vt({props:{world:u[3]}}),{c(){e=_("div"),V(i.$$.fragment),o=P(),n=_("div"),c=_("button"),f=L(s),a=L(" pause on collision"),t=P(),r=_("button"),y=L(l),m=P(),g=_("button"),g.textContent=$,T=P(),V(h.$$.fragment),w=P(),V(j.$$.fragment),S=P(),F=_("table"),N=_("tbody"),G=_("tr"),K=_("th"),K.textContent=ze,Ve=P(),ie=_("td"),xe=L(le),Ie=P(),ce=_("td"),ke=L(ae),Ye=P(),A=_("tr"),Q=_("th"),Q.textContent=Je,Ne=P(),fe=_("td"),Te=L(ue),Xe=P(),de=_("td"),je=L(me),Le=P(),H=_("tr"),Z=_("th"),Z.textContent=Ke,Me=P(),he=_("td"),Ce=L(ye),Re=P(),ge=_("td"),Se=L(pe),this.h()},l(v){e=x(v,"DIV",{class:!0});var O=E(e);R(i.$$.fragment,O),O.forEach(p),o=W(v),n=x(v,"DIV",{});var q=E(n);c=x(q,"BUTTON",{});var Ae=E(c);f=M(Ae,s),a=M(Ae," pause on collision"),Ae.forEach(p),t=W(q),r=x(q,"BUTTON",{});var Ze=E(r);y=M(Ze,l),Ze.forEach(p),m=W(q),g=x(q,"BUTTON",{"data-svelte-h":!0}),z(g)!=="svelte-tlxueg"&&(g.textContent=$),q.forEach(p),T=W(v),R(h.$$.fragment,v),w=W(v),R(j.$$.fragment,v),S=W(v),F=x(v,"TABLE",{});var et=E(F);N=x(et,"TBODY",{});var $e=E(N);G=x($e,"TR",{});var ee=E(G);K=x(ee,"TH",{"data-svelte-h":!0}),z(K)!=="svelte-rirgm4"&&(K.textContent=ze),Ve=W(ee),ie=x(ee,"TD",{});var tt=E(ie);xe=M(tt,le),tt.forEach(p),Ie=W(ee),ce=x(ee,"TD",{});var ot=E(ce);ke=M(ot,ae),ot.forEach(p),ee.forEach(p),Ye=W($e),A=x($e,"TR",{});var J=E(A);Q=x(J,"TH",{"data-svelte-h":!0}),z(Q)!=="svelte-1y1nif6"&&(Q.textContent=Je),Ne=W(J),fe=x(J,"TD",{});var nt=E(fe);Te=M(nt,ue),nt.forEach(p),Xe=W(J),de=x(J,"TD",{});var st=E(de);je=M(st,me),st.forEach(p),Le=W(J),J.forEach(p),H=x($e,"TR",{});var te=E(H);Z=x(te,"TH",{"data-svelte-h":!0}),z(Z)!=="svelte-1uw1fs2"&&(Z.textContent=Ke),Me=W(te),he=x(te,"TD",{});var rt=E(he);Ce=M(rt,ye),rt.forEach(p),Re=W(te),ge=x(te,"TD",{});var it=E(ge);Se=M(it,pe),it.forEach(p),te.forEach(p),$e.forEach(p),et.forEach(p),this.h()},h(){be(e,"class","d-flex justify-content-center")},m(v,O){C(v,e,O),I(i,e,null),C(v,o,O),C(v,n,O),b(n,c),b(c,f),b(c,a),b(n,t),b(n,r),b(r,y),b(n,m),b(n,g),C(v,T,O),I(h,v,O),C(v,w,O),I(j,v,O),C(v,S,O),C(v,F,O),b(F,N),b(N,G),b(G,K),b(G,Ve),b(G,ie),b(ie,xe),b(G,Ie),b(G,ce),b(ce,ke),b(N,Ye),b(N,A),b(A,Q),b(A,Ne),b(A,fe),b(fe,Te),b(A,Xe),b(A,de),b(de,je),b(A,Le),b(N,H),b(H,Z),b(H,Me),b(H,he),b(he,Ce),b(H,Re),b(H,ge),b(ge,Se),X=!0,Ge||(Qe=[oe(c,"click",u[7]),oe(r,"click",u[8]),oe(g,"click",u[4])],Ge=!0)},p(v,[O]){(!X||O&1)&&s!==(s=v[0]?"Disable":"Enable")&&U(f,s),(!X||O&2)&&l!==(l=v[1]?"Play":"Pause")&&U(y,l);const q={};O&8&&(q.world=v[3]),j.$set(q),(!X||O&4)&&le!==(le=v[2].t+"")&&U(xe,le),(!X||O&4)&&ae!==(ae=v[2].frameTime+"")&&U(ke,ae),(!X||O&4)&&ue!==(ue=v[2].spherePos.x.toFixed(2)+"")&&U(Te,ue),(!X||O&4)&&me!==(me=v[2].spherePos.y.toFixed(2)+"")&&U(je,me),(!X||O&4)&&ye!==(ye=v[2].sphereVel.x.toFixed(2)+"")&&U(Ce,ye),(!X||O&4)&&pe!==(pe=v[2].sphereVel.y.toFixed(2)+"")&&U(Se,pe)},i(v){X||(D(i.$$.fragment,v),D(h.$$.fragment,v),D(j.$$.fragment,v),X=!0)},o(v){B(i.$$.fragment,v),B(h.$$.fragment,v),B(j.$$.fragment,v),X=!1},d(v){v&&(p(e),p(o),p(n),p(T),p(w),p(S),p(F)),Y(i),Y(h,v),Y(j,v),Ge=!1,ht(Qe)}}}const We=60;function Bt(u,e,i){console.clear();let o=!1,n=!1,c={t:"0",frameTime:"0",spherePos:new d(0,0),sphereVel:new d(0,0),ballIsColliding:!1},s,f;const a=()=>{i(3,s=new _e({dimensions:new d(15,15),reporter:w=>{var j;i(2,c.t=(j=w==null?void 0:w.t)==null?void 0:j.toFixed(1),c),c.spherePos.copy(f.position).unfloat(),c.sphereVel.copy(f.velocity).unfloat(),i(2,c.frameTime=w.frameTime.toFixed(2),c),i(2,c),i(2,c.ballIsColliding=f.data.isColliding,c),o&&f.data.isColliding&&!n&&i(1,n=!0)},enableGravity:!0}));const h=Dt();f=h.sphere;for(const w of h.objects)s.addObject(w)},t=h=>typeof h=="number"?h*We:h.clone().multiplyScalar(We),r=h=>typeof h=="number"?h/We:h.clone().divideScalar(We),l=(h,w)=>{for(const j of w.objects){h.stroke(j.data.isColliding?"red":"white");const S=h.map(j.position.x,0,w.dimensions.x,0,h.width),F=h.map(j.position.y,0,w.dimensions.y,h.height,0);if(j.geometry.type==="sphere"){const N=t(j.geometry.r*2);h.strokeWeight(N),h.point(S,F)}if(j.geometry.type==="line"){const N=S+h.map(j.geometry.vector.x,0,w.dimensions.x,0,h.width),G=F-h.map(j.geometry.vector.y,0,w.dimensions.y,0,h.height);h.strokeWeight(2),h.line(S,F,N,G)}}};let y;const m=h=>{h.setup=()=>{y=h,a();const S=t(s.dimensions);h.createCanvas(S.x,S.y),h.background(0),h.fill(255),h.stroke(255),a()},h.draw=()=>{h.background(0),mt(h)?f.fixed=!0:f.fixed=!1,n||s.step(),l(h,s),j(h)};let w;h.mousePressed=()=>{Be(h)&&(w=r(new d(h.mouseX,h.height-h.mouseY)),f.position.copy(w))},h.mouseReleased=()=>{if(!Be(h)||!w)return;const S=r(new d(h.mouseX,h.height-h.mouseY)),F=w.subtract(S).multiplyScalar(3);w=void 0,f.velocity.copy(F)};const j=S=>{if(!w)return;S.stroke("blue"),S.strokeWeight(2);const F=t(w);S.line(F.x,S.height-F.y,S.mouseX,S.mouseY)}},g=h=>{h.multiplyScalar(1e4),s.applyForce(f,h)};return ve(()=>{y==null||y.remove()}),[o,n,c,s,a,m,g,()=>i(0,o=!o),()=>i(1,n=!n)]}class Vt extends se{constructor(e){super(),re(this,e,Bt,Ft,ne,{})}}function ct(u,e,i){const o=u.slice();return o[1]=e[i],o}function at(u,e,i){const o=u.slice();return o[1]=e[i],o}function It(u){let e=u[1].title+"",i;return{c(){i=L(e)},l(o){i=M(o,e)},m(o,n){C(o,i,n)},p:Ue,d(o){o&&p(i)}}}function ft(u){let e,i;return e=new $t({props:{$$slots:{default:[It]},$$scope:{ctx:u}}}),{c(){V(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,n){I(e,o,n),i=!0},p(o,n){const c={};n&64&&(c.$$scope={dirty:n,ctx:o}),e.$set(c)},i(o){i||(D(e.$$.fragment,o),i=!0)},o(o){B(e.$$.fragment,o),i=!1},d(o){Y(e,o)}}}function Yt(u){let e,i,o=Fe(u[0]),n=[];for(let s=0;s<o.length;s+=1)n[s]=ft(at(u,o,s));const c=s=>B(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=De()},l(s){for(let f=0;f<n.length;f+=1)n[f].l(s);e=De()},m(s,f){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(s,f);C(s,e,f),i=!0},p(s,f){if(f&1){o=Fe(s[0]);let a;for(a=0;a<o.length;a+=1){const t=at(s,o,a);n[a]?(n[a].p(t,f),D(n[a],1)):(n[a]=ft(t),n[a].c(),D(n[a],1),n[a].m(e.parentNode,e))}for(He(),a=o.length;a<n.length;a+=1)c(a);qe()}},i(s){if(!i){for(let f=0;f<o.length;f+=1)D(n[f]);i=!0}},o(s){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)B(n[f]);i=!1},d(s){s&&p(e),dt(n,s)}}}function Nt(u){let e,i,o;var n=u[1].component;function c(s,f){return{}}return n&&(e=lt(n,c())),{c(){e&&V(e.$$.fragment),i=P()},l(s){e&&R(e.$$.fragment,s),i=W(s)},m(s,f){e&&I(e,s,f),C(s,i,f),o=!0},p(s,f){if(n!==(n=s[1].component)){if(e){He();const a=e;B(a.$$.fragment,1,0,()=>{Y(a,1)}),qe()}n?(e=lt(n,c()),V(e.$$.fragment),D(e.$$.fragment,1),I(e,i.parentNode,i)):e=null}},i(s){o||(e&&D(e.$$.fragment,s),o=!0)},o(s){e&&B(e.$$.fragment,s),o=!1},d(s){s&&p(i),e&&Y(e,s)}}}function ut(u){let e,i;return e=new pt({props:{$$slots:{default:[Nt]},$$scope:{ctx:u}}}),{c(){V(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,n){I(e,o,n),i=!0},p(o,n){const c={};n&64&&(c.$$scope={dirty:n,ctx:o}),e.$set(c)},i(o){i||(D(e.$$.fragment,o),i=!0)},o(o){B(e.$$.fragment,o),i=!1},d(o){Y(e,o)}}}function Xt(u){let e,i,o,n;e=new gt({props:{$$slots:{default:[Yt]},$$scope:{ctx:u}}});let c=Fe(u[0]),s=[];for(let a=0;a<c.length;a+=1)s[a]=ut(ct(u,c,a));const f=a=>B(s[a],1,1,()=>{s[a]=null});return{c(){V(e.$$.fragment),i=P();for(let a=0;a<s.length;a+=1)s[a].c();o=De()},l(a){R(e.$$.fragment,a),i=W(a);for(let t=0;t<s.length;t+=1)s[t].l(a);o=De()},m(a,t){I(e,a,t),C(a,i,t);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(a,t);C(a,o,t),n=!0},p(a,t){const r={};if(t&64&&(r.$$scope={dirty:t,ctx:a}),e.$set(r),t&1){c=Fe(a[0]);let l;for(l=0;l<c.length;l+=1){const y=ct(a,c,l);s[l]?(s[l].p(y,t),D(s[l],1)):(s[l]=ut(y),s[l].c(),D(s[l],1),s[l].m(o.parentNode,o))}for(He(),l=c.length;l<s.length;l+=1)f(l);qe()}},i(a){if(!n){D(e.$$.fragment,a);for(let t=0;t<c.length;t+=1)D(s[t]);n=!0}},o(a){B(e.$$.fragment,a),s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)B(s[t]);n=!1},d(a){a&&(p(i),p(o)),Y(e,a),dt(s,a)}}}function Lt(u){let e,i;return e=new yt({props:{$$slots:{default:[Xt]},$$scope:{ctx:u}}}),{c(){V(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,n){I(e,o,n),i=!0},p(o,[n]){const c={};n&64&&(c.$$scope={dirty:n,ctx:o}),e.$set(c)},i(o){i||(D(e.$$.fragment,o),i=!0)},o(o){B(e.$$.fragment,o),i=!1},d(o){Y(e,o)}}}function Mt(u){return[[{title:"Obstacles",component:Vt},{title:"Test collisions 3",component:Wt},{title:"Test collisions 2",component:Et},{title:"Test collisions",component:jt},{title:"Test engine",component:xt}]]}class qt extends se{constructor(e){super(),re(this,e,Mt,Lt,ne,{})}}export{qt as component};
