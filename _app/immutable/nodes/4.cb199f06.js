import{s as fe,f as w,a as S,l as H,g as _,h as E,d as m,c as j,m as X,u as G,j as W,i as T,y,L as q,n as Q,M as Se,z as Ce,e as Ae,P as ge,Q as Ee,O as He,p as mt,q as at,R as ht}from"../chunks/scheduler.34360529.js";import{S as de,i as me,b as te,d as ie,m as ne,a as oe,t as se,e as re,f as pt,c as yt,g as vt}from"../chunks/index.9ac5b350.js";import{P as je,c as x,V as a,d as Xe,m as ft,a as Ye,S as gt}from"../chunks/PhysicObject.79f6f347.js";import{W as Oe}from"../chunks/World.ed9f41e2.js";function bt(s){let e,l,d,r,t=s[0][s[0].length-1]+"",i,h,u,n="New ball",f,c,$;return l=new je({props:{sketch:s[2]}}),{c(){e=w("div"),te(l.$$.fragment),d=S(),r=w("p"),i=H(t),h=S(),u=w("button"),u.textContent=n,this.h()},l(v){e=_(v,"DIV",{class:!0});var b=E(e);ie(l.$$.fragment,b),b.forEach(m),d=j(v),r=_(v,"P",{});var g=E(r);i=X(g,t),g.forEach(m),h=j(v),u=_(v,"BUTTON",{"data-svelte-h":!0}),G(u)!=="svelte-1jwbm46"&&(u.textContent=n),this.h()},h(){W(e,"class","d-flex justify-content-center")},m(v,b){T(v,e,b),ne(l,e,null),T(v,d,b),T(v,r,b),y(r,i),T(v,h,b),T(v,u,b),f=!0,c||($=q(u,"click",s[1]),c=!0)},p(v,[b]){(!f||b&1)&&t!==(t=v[0][v[0].length-1]+"")&&Q(i,t)},i(v){f||(oe(l.$$.fragment,v),f=!0)},o(v){se(l.$$.fragment,v),f=!1},d(v){v&&(m(e),m(d),m(r),m(h),m(u)),re(l),c=!1,$()}}}function wt(s,e,l){console.clear();let d=[];const r=n=>{const f=n.objects[n.objects.length-1],c=f.position.clone().toFixed(2),$=f.velocity.clone().toFixed(2);d.push(`${n.t.toFixed(2)} - pos: ${c} - vel: ${$}`),d.length>50&&d.shift(),l(0,d)},t=new Oe({reporter:r,enableGravity:!0}),i=()=>{for(;t.objects.length;)t.objects.pop();const n=x({geometry:{type:"line",vector:new a(100,0)},position:new a(0,0),fixed:!0});t.addObject(n);for(let f=0;f<1;f++){const c=x({geometry:{type:"sphere",r:5},position:new a(20,50),velocity:new a(Math.random()*5-2.5,Math.random()*20)});t.addObject(c)}};let h;const u=n=>{n.setup=()=>{h=n,n.createCanvas(900,600),n.background(0),n.fill(255),n.stroke(255),i()},n.draw=()=>{n.background(0),t.step();for(const f of t.objects){const c=n.map(f.position.x,0,t.dimensions.x,0,n.width),$=n.map(f.position.y,0,t.dimensions.y,n.height,0);if(f.geometry.type==="sphere"&&(n.strokeWeight(f.geometry.r*2),n.point(c,$)),f.geometry.type==="line"){const v=c+n.map(f.geometry.vector.x,0,t.dimensions.x,0,n.width),b=$+n.map(f.geometry.vector.y,0,t.dimensions.y,0,n.height);n.strokeWeight(2),n.line(c,$,v,b)}}}};return Se(()=>{h==null||h.remove()}),[d,i,u]}class _t extends de{constructor(e){super(),me(this,e,wt,bt,fe,{})}}function $t(s){let e,l,d,r,t=s[0][s[0].length-1]+"",i,h,u,n="New ball",f,c,$;return l=new je({props:{sketch:s[2]}}),{c(){e=w("div"),te(l.$$.fragment),d=S(),r=w("p"),i=H(t),h=S(),u=w("button"),u.textContent=n,this.h()},l(v){e=_(v,"DIV",{class:!0});var b=E(e);ie(l.$$.fragment,b),b.forEach(m),d=j(v),r=_(v,"P",{});var g=E(r);i=X(g,t),g.forEach(m),h=j(v),u=_(v,"BUTTON",{"data-svelte-h":!0}),G(u)!=="svelte-1jwbm46"&&(u.textContent=n),this.h()},h(){W(e,"class","d-flex justify-content-center")},m(v,b){T(v,e,b),ne(l,e,null),T(v,d,b),T(v,r,b),y(r,i),T(v,h,b),T(v,u,b),f=!0,c||($=q(u,"click",s[1]),c=!0)},p(v,[b]){(!f||b&1)&&t!==(t=v[0][v[0].length-1]+"")&&Q(i,t)},i(v){f||(oe(l.$$.fragment,v),f=!0)},o(v){se(l.$$.fragment,v),f=!1},d(v){v&&(m(e),m(d),m(r),m(h),m(u)),re(l),c=!1,$()}}}const Ve=6;function xt(s,e,l){console.clear();let d=[];const r=c=>{const $=c.objects[c.objects.length-1],v=$.position.clone().toFixed(2),b=$.velocity.clone().toFixed(2);d.push(`${c.t.toFixed(2)} - pos: ${v} - vel: ${b}`),d.length>50&&d.shift(),l(0,d)},t=new Oe({reporter:r,enableGravity:!0});let i,h;const u=()=>{for(;t.objects.length;)t.objects.pop();h=x({geometry:{type:"line",vector:new a(40,40)},position:new a(30,30),fixed:!0}),t.addObject(h),i=x({geometry:{type:"sphere",r:10},position:new a(20,50),velocity:new a(2.5,2.5),fixed:!0}),t.addObject(i)};let n;const f=c=>{const $=g=>typeof g=="number"?g*Ve:g.clone().multiplyScalar(Ve),v=g=>typeof g=="number"?g/Ve:g.clone().divideScalar(Ve);c.setup=()=>{n=c;const g=$(t.dimensions);c.createCanvas(g.x,g.y),c.background(0),c.fill(255),c.stroke(255),u()};let b;c.draw=()=>{if(c.background(0),t.step(),c.mouseIsPressed){const g=v(new a(c.mouseX,c.height-c.mouseY));if(b||(g.distance(i.position)<2?b="sphere":g.distance(h.position)<2?b="wallstart":g.distance(h.geometry.vector.clone().add(h.position))<2&&(b="wallend")),b==="sphere"&&i.position.copy(g),b==="wallstart"&&h.position.copy(g),b==="wallend"){const o=g.clone().subtract(h.position);h.geometry.vector.copy(o)}}else b=void 0;for(const g of t.objects.sort((o,p)=>o.geometry.type<p.geometry.type?1:-1)){c.stroke(i.data.isColliding?"red":"white");const o=c.map(g.position.x,0,t.dimensions.x,0,c.width),p=c.map(g.position.y,0,t.dimensions.y,c.height,0);if(g.geometry.type==="sphere"){const D=$(g.geometry.r*2);c.strokeWeight(D),c.point(o,p)}if(g.geometry.type==="line"){const D=o+c.map(g.geometry.vector.x,0,t.dimensions.x,0,c.width),k=p-c.map(g.geometry.vector.y,0,t.dimensions.y,0,c.height);c.stroke("blue"),c.strokeWeight(2),c.line(o,p,D,k)}}}};return Se(()=>{n==null||n.remove()}),[d,u,f]}class Tt extends de{constructor(e){super(),me(this,e,xt,$t,fe,{})}}function kt(s){let e,l,d;return l=new je({props:{sketch:s[0]}}),{c(){e=w("div"),te(l.$$.fragment),this.h()},l(r){e=_(r,"DIV",{class:!0});var t=E(e);ie(l.$$.fragment,t),t.forEach(m),this.h()},h(){W(e,"class","d-flex justify-content-center")},m(r,t){T(r,e,t),ne(l,e,null),d=!0},p:Ce,i(r){d||(oe(l.$$.fragment,r),d=!0)},o(r){se(l.$$.fragment,r),d=!1},d(r){r&&m(e),re(l)}}}const Le=6;function Ct(s){console.clear();const e=new Oe({reporter:()=>{},enableGravity:!0});let l;const d=()=>{for(;e.objects.length;)e.objects.pop();l=x({geometry:{type:"sphere",r:5},position:new a(20,50),velocity:new a(Math.random()*5-2.5,Math.random()*20)}),e.addObject(l);const u=x({geometry:{type:"line",vector:new a(100,0)},position:new a(0,2),fixed:!0});e.addObject(u);const n=x({geometry:{type:"line",vector:new a(100,0)},position:new a(0,98),fixed:!0});e.addObject(n);const f=x({geometry:{type:"line",vector:new a(0,100)},position:new a(2,0),fixed:!0});e.addObject(f);const c=x({geometry:{type:"line",vector:new a(0,100)},position:new a(98,0),fixed:!0});e.addObject(c);const $=x({geometry:{type:"line",vector:new a(50,50)},position:new a(20,10),fixed:!0});e.addObject($)},r=u=>typeof u=="number"?u*Le:u.clone().multiplyScalar(Le),t=u=>typeof u=="number"?u/Le:u.clone().divideScalar(Le);let i;const h=u=>{u.setup=()=>{i=u;const f=r(e.dimensions);u.createCanvas(f.x,f.y),u.background(0),u.fill(255),u.stroke(255),d()},u.draw=()=>{if(u.background(0),u.mouseIsPressed){l.fixed=!0;const f=t(new a(u.mouseX,u.height-u.mouseY));l.position.copy(f)}else l.fixed=!1;e.step(),Xe(u,e)};let n;u.mousePressed=()=>{n=t(new a(u.mouseX,u.height-u.mouseY))},u.mouseReleased=()=>{const f=t(new a(u.mouseX,u.height-u.mouseY)),c=n.subtract(f);l.position.copy(f),l.velocity.copy(c)}};return Se(()=>{i==null||i.remove()}),[h]}class Et extends de{constructor(e){super(),me(this,e,Ct,kt,fe,{})}}function St(s){let e,l,d,r,t,i,h,u="Gravity",n,f,c,$="Toggle",v,b,g;return l=new je({props:{sketch:s[1]}}),{c(){e=w("div"),te(l.$$.fragment),d=S(),r=w("table"),t=w("tbody"),i=w("tr"),h=w("th"),h.textContent=u,n=S(),f=w("td"),c=w("button"),c.textContent=$,this.h()},l(o){e=_(o,"DIV",{class:!0});var p=E(e);ie(l.$$.fragment,p),p.forEach(m),d=j(o),r=_(o,"TABLE",{});var D=E(r);t=_(D,"TBODY",{});var k=E(t);i=_(k,"TR",{});var F=E(i);h=_(F,"TH",{"data-svelte-h":!0}),G(h)!=="svelte-vy75us"&&(h.textContent=u),n=j(F),f=_(F,"TD",{});var I=E(f);c=_(I,"BUTTON",{"data-svelte-h":!0}),G(c)!=="svelte-18lc94l"&&(c.textContent=$),I.forEach(m),F.forEach(m),k.forEach(m),D.forEach(m),this.h()},h(){W(e,"class","d-flex justify-content-center")},m(o,p){T(o,e,p),ne(l,e,null),T(o,d,p),T(o,r,p),y(r,t),y(t,i),y(i,h),y(i,n),y(i,f),y(f,c),v=!0,b||(g=q(c,"click",s[2]),b=!0)},p:Ce,i(o){v||(oe(l.$$.fragment,o),v=!0)},o(o){se(l.$$.fragment,o),v=!1},d(o){o&&(m(e),m(d),m(r)),re(l),b=!1,g()}}}const Re=6;function jt(s){console.clear();const e=new Oe({reporter:()=>{},enableGravity:!0});let l;const d=()=>{for(;e.objects.length;)e.objects.pop();const n=x({geometry:{type:"line",vector:new a(100,0)},position:new a(0,0),fixed:!0});e.addObject(n);const f=x({geometry:{type:"line",vector:new a(100,0)},position:new a(0,100),fixed:!0});e.addObject(f);const c=x({geometry:{type:"line",vector:new a(0,100)},position:new a(0,0),fixed:!0});e.addObject(c);const $=x({geometry:{type:"line",vector:new a(0,100)},position:new a(100,0),fixed:!0});e.addObject($);const v=x({geometry:{type:"line",vector:new a(50,50)},position:new a(20,10),fixed:!0});e.addObject(v),l=x({geometry:{type:"sphere",r:2},position:new a(20,50),velocity:new a(Math.random()*5-2.5,Math.random()*20)}),e.addObject(l)},r=n=>typeof n=="number"?n*Re:n.clone().multiplyScalar(Re),t=n=>typeof n=="number"?n/Re:n.clone().divideScalar(Re);let i;const h=n=>{n.setup=()=>{i=n;const c=r(e.dimensions);n.createCanvas(c.x,c.y),n.background(0),n.fill(255),n.stroke(255),d()},n.draw=()=>{if(n.background(0),ft(n)){l.fixed=!0;const c=t(new a(n.mouseX,n.height-n.mouseY));l.position.copy(c)}else l.fixed=!1;e.step(),Xe(n,e)};let f;n.mousePressed=()=>{Ye(n)&&(f=t(new a(n.mouseX,n.height-n.mouseY)))},n.mouseReleased=()=>{if(!Ye(n))return;const c=t(new a(n.mouseX,n.height-n.mouseY)),$=f.subtract(c);l.position.copy(c),l.velocity.copy($)}};return Se(()=>{i==null||i.remove()}),[e,h,()=>e.toggleGravity()]}class Ot extends de{constructor(e){super(),me(this,e,jt,St,fe,{})}}function ct(s){let e,l,d,r,t="dt",i,h,u,n,f,c,$="drag",v,b,g,o,p,D,k="gravity enabled",F,I,N,M,z;return{c(){e=w("table"),l=w("tbody"),d=w("tr"),r=w("th"),r.textContent=t,i=S(),h=w("td"),u=w("input"),n=S(),f=w("tr"),c=w("th"),c.textContent=$,v=S(),b=w("td"),g=w("input"),o=S(),p=w("tr"),D=w("th"),D.textContent=k,F=S(),I=w("td"),N=w("input"),this.h()},l(V){e=_(V,"TABLE",{});var U=E(e);l=_(U,"TBODY",{});var C=E(l);d=_(C,"TR",{});var B=E(d);r=_(B,"TH",{"data-svelte-h":!0}),G(r)!=="svelte-16dheti"&&(r.textContent=t),i=j(B),h=_(B,"TD",{});var A=E(h);u=_(A,"INPUT",{type:!0,min:!0,max:!0,step:!0}),A.forEach(m),B.forEach(m),n=j(C),f=_(C,"TR",{});var J=E(f);c=_(J,"TH",{"data-svelte-h":!0}),G(c)!=="svelte-2hq5g"&&(c.textContent=$),v=j(J),b=_(J,"TD",{});var K=E(b);g=_(K,"INPUT",{type:!0,min:!0,max:!0,step:!0}),K.forEach(m),J.forEach(m),o=j(C),p=_(C,"TR",{});var Y=E(p);D=_(Y,"TH",{"data-svelte-h":!0}),G(D)!=="svelte-ic0r87"&&(D.textContent=k),F=j(Y),I=_(Y,"TD",{});var le=E(I);N=_(le,"INPUT",{type:!0}),le.forEach(m),Y.forEach(m),C.forEach(m),U.forEach(m),this.h()},h(){W(u,"type","number"),W(u,"min","0"),W(u,"max","0.5"),W(u,"step","0.001"),W(g,"type","number"),W(g,"min","0"),W(g,"max","0.01"),W(g,"step","0.001"),W(N,"type","checkbox")},m(V,U){T(V,e,U),y(e,l),y(l,d),y(d,r),y(d,i),y(d,h),y(h,u),ge(u,s[0].dt),y(l,n),y(l,f),y(f,c),y(f,v),y(f,b),y(b,g),ge(g,s[0].drag),y(l,o),y(l,p),y(p,D),y(p,F),y(p,I),y(I,N),N.checked=s[0].gravityEnabled,M||(z=[q(u,"input",s[1]),q(g,"input",s[2]),q(N,"change",s[3])],M=!0)},p(V,U){U&1&&Ee(u.value)!==V[0].dt&&ge(u,V[0].dt),U&1&&Ee(g.value)!==V[0].drag&&ge(g,V[0].drag),U&1&&(N.checked=V[0].gravityEnabled)},d(V){V&&m(e),M=!1,He(z)}}}function Pt(s){let e,l="Engine settings",d,r,t=s[0]&&ct(s);return{c(){e=w("p"),e.textContent=l,d=S(),t&&t.c(),r=Ae(),this.h()},l(i){e=_(i,"P",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-gf3gek"&&(e.textContent=l),d=j(i),t&&t.l(i),r=Ae(),this.h()},h(){W(e,"class","title svelte-g74uk9")},m(i,h){T(i,e,h),T(i,d,h),t&&t.m(i,h),T(i,r,h)},p(i,[h]){i[0]?t?t.p(i,h):(t=ct(i),t.c(),t.m(r.parentNode,r)):t&&(t.d(1),t=null)},i:Ce,o:Ce,d(i){i&&(m(e),m(d),m(r)),t&&t.d(i)}}}function Dt(s,e,l){let{world:d}=e;function r(){d.dt=Ee(this.value),l(0,d)}function t(){d.drag=Ee(this.value),l(0,d)}function i(){d.gravityEnabled=this.checked,l(0,d)}return s.$$set=h=>{"world"in h&&l(0,d=h.world)},[d,r,t,i]}class dt extends de{constructor(e){super(),me(this,e,Dt,Pt,fe,{world:0})}}function Bt(s){let e,l="Shooter",d,r,t,i="Angle",h,u,n,f,c,$,v,b,g="Magnitude",o,p,D,k,F,I,N,M,z="Shoot",V,U;return{c(){e=w("p"),e.textContent=l,d=S(),r=w("span"),t=w("label"),t.textContent=i,h=S(),u=w("input"),n=S(),f=H(s[0]),c=H(" deg"),$=S(),v=w("span"),b=w("label"),b.textContent=g,o=S(),p=w("input"),D=S(),k=H(s[1]),F=S(),I=w("br"),N=S(),M=w("button"),M.textContent=z,this.h()},l(C){e=_(C,"P",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-198ugk3"&&(e.textContent=l),d=j(C),r=_(C,"SPAN",{});var B=E(r);t=_(B,"LABEL",{for:!0,"data-svelte-h":!0}),G(t)!=="svelte-lab87n"&&(t.textContent=i),h=j(B),u=_(B,"INPUT",{id:!0,type:!0,min:!0,max:!0}),n=j(B),f=X(B,s[0]),c=X(B," deg"),B.forEach(m),$=j(C),v=_(C,"SPAN",{});var A=E(v);b=_(A,"LABEL",{for:!0,"data-svelte-h":!0}),G(b)!=="svelte-1vc5oxa"&&(b.textContent=g),o=j(A),p=_(A,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0}),D=j(A),k=X(A,s[1]),A.forEach(m),F=j(C),I=_(C,"BR",{}),N=j(C),M=_(C,"BUTTON",{"data-svelte-h":!0}),G(M)!=="svelte-8jpwxr"&&(M.textContent=z),this.h()},h(){W(e,"class","title svelte-g74uk9"),W(t,"for","angleSlider"),W(u,"id","angleSlider"),W(u,"type","range"),W(u,"min","0"),W(u,"max","360"),W(b,"for","magSlider"),W(p,"id","magSlider"),W(p,"type","range"),W(p,"min","0"),W(p,"max","1"),W(p,"step","0.01")},m(C,B){T(C,e,B),T(C,d,B),T(C,r,B),y(r,t),y(r,h),y(r,u),ge(u,s[0]),y(r,n),y(r,f),y(r,c),T(C,$,B),T(C,v,B),y(v,b),y(v,o),y(v,p),ge(p,s[1]),y(v,D),y(v,k),T(C,F,B),T(C,I,B),T(C,N,B),T(C,M,B),V||(U=[q(u,"change",s[4]),q(u,"input",s[4]),q(p,"change",s[5]),q(p,"input",s[5]),q(M,"click",s[6])],V=!0)},p(C,[B]){B&1&&ge(u,C[0]),B&1&&Q(f,C[0]),B&2&&ge(p,C[1]),B&2&&Q(k,C[1])},i:Ce,o:Ce,d(C){C&&(m(e),m(d),m(r),m($),m(v),m(F),m(I),m(N),m(M)),V=!1,He(U)}}}function It(s,e,l){let{onShoot:d}=e,r=0,t=.5;const i=()=>{const f=new a(1,0);f.rotateDeg(r),f.multiplyScalar(t),d(f)};function h(){r=Ee(this.value),l(0,r)}function u(){t=Ee(this.value),l(1,t)}const n=()=>i();return s.$$set=f=>{"onShoot"in f&&l(3,d=f.onShoot)},[r,t,i,d,h,u,n]}class Ft extends de{constructor(e){super(),me(this,e,It,Bt,fe,{onShoot:3})}}const Nt=()=>{const s=[],e=x({geometry:{type:"line",vector:new a(15,0)},position:new a(0,0),fixed:!0});s.push(e);const l=x({geometry:{type:"line",vector:new a(0,100)},position:new a(0,0),fixed:!0});s.push(l);const d=x({geometry:{type:"line",vector:new a(0,100)},position:new a(15,0),fixed:!0});s.push(d);const r=x({geometry:{type:"line",vector:new a(3,-3)},position:new a(3.5,8),fixed:!0});s.push(r);const t=x({geometry:{type:"line",vector:new a(3,3)},position:new a(3.5,5),fixed:!0});s.push(t);const i=x({geometry:{type:"line",vector:new a(6,0)},position:new a(2,2),fixed:!0});s.push(i);const h=x({geometry:{type:"line",vector:new a(4,0)},position:new a(3,2.5),fixed:!0});s.push(h);const u=x({geometry:{type:"line",vector:new a(2,0)},position:new a(4,3),fixed:!0});s.push(u);const n=x({geometry:{type:"line",vector:new a(.6,0)},position:new a(4.7,3.5),fixed:!0});s.push(n);const f=x({geometry:{type:"line",vector:new a(1,0)},position:new a(10,10.1),fixed:!0});s.push(f);const c=x({geometry:{type:"line",vector:new a(0,-4)},position:new a(11,10),fixed:!0});s.push(c);const $=x({geometry:{type:"line",vector:new a(0,-4)},position:new a(11.5,10),fixed:!0});s.push($);const v=x({geometry:{type:"line",vector:new a(0,-4)},position:new a(12,10),fixed:!0});s.push(v);const b=x({geometry:{type:"line",vector:new a(1,0)},position:new a(12,10.1),fixed:!0});s.push(b);for(let o=.2;o<.5;o+=.1)for(let p=0;p<10;p++){const D=x({geometry:{type:"line",vector:new a(0,3)},position:new a(9+p*o,1),fixed:!0});s.push(D)}const g=x({geometry:{type:"sphere",r:.1},position:new a(5,10),velocity:new a(0,0)});return s.push(g),{objects:s,sphere:g}};function Wt(s){let e,l,d,r,t,i=s[0]?"Disable":"Enable",h,u,n,f,c=s[1]?"Play":"Pause",$,v,b,g="Reset",o,p,D,k,F,I,N,M,z,V="Simulation time/Frame duration",U,C,B=s[2].t+"",A,J,K,Y=s[2].frameTime+"",le,$e,O,L,Z="Sphere position",be,he,pe=s[2].spherePos.x.toFixed(2)+"",we,ae,ye,ve=s[2].spherePos.y.toFixed(2)+"",Ne,Ge,ce,xe,Ke="Sphere velocity",qe,Pe,De=s[2].sphereVel.x.toFixed(2)+"",We,ze,Be,Ie=s[2].sphereVel.y.toFixed(2)+"",Me,ee,Qe,Ze;return l=new je({props:{sketch:s[5]}}),p=new Ft({props:{onShoot:s[6]}}),k=new dt({props:{world:s[3]}}),{c(){e=w("div"),te(l.$$.fragment),d=S(),r=w("div"),t=w("button"),h=H(i),u=H(" pause on collision"),n=S(),f=w("button"),$=H(c),v=S(),b=w("button"),b.textContent=g,o=S(),te(p.$$.fragment),D=S(),te(k.$$.fragment),F=S(),I=w("table"),N=w("tbody"),M=w("tr"),z=w("th"),z.textContent=V,U=S(),C=w("td"),A=H(B),J=S(),K=w("td"),le=H(Y),$e=S(),O=w("tr"),L=w("th"),L.textContent=Z,be=S(),he=w("td"),we=H(pe),ae=S(),ye=w("td"),Ne=H(ve),Ge=S(),ce=w("tr"),xe=w("th"),xe.textContent=Ke,qe=S(),Pe=w("td"),We=H(De),ze=S(),Be=w("td"),Me=H(Ie),this.h()},l(P){e=_(P,"DIV",{class:!0});var R=E(e);ie(l.$$.fragment,R),R.forEach(m),d=j(P),r=_(P,"DIV",{});var ue=E(r);t=_(ue,"BUTTON",{});var Je=E(t);h=X(Je,i),u=X(Je," pause on collision"),Je.forEach(m),n=j(ue),f=_(ue,"BUTTON",{});var et=E(f);$=X(et,c),et.forEach(m),v=j(ue),b=_(ue,"BUTTON",{"data-svelte-h":!0}),G(b)!=="svelte-tlxueg"&&(b.textContent=g),ue.forEach(m),o=j(P),ie(p.$$.fragment,P),D=j(P),ie(k.$$.fragment,P),F=j(P),I=_(P,"TABLE",{});var tt=E(I);N=_(tt,"TBODY",{});var Fe=E(N);M=_(Fe,"TR",{});var Te=E(M);z=_(Te,"TH",{"data-svelte-h":!0}),G(z)!=="svelte-rirgm4"&&(z.textContent=V),U=j(Te),C=_(Te,"TD",{});var nt=E(C);A=X(nt,B),nt.forEach(m),J=j(Te),K=_(Te,"TD",{});var ot=E(K);le=X(ot,Y),ot.forEach(m),Te.forEach(m),$e=j(Fe),O=_(Fe,"TR",{});var _e=E(O);L=_(_e,"TH",{"data-svelte-h":!0}),G(L)!=="svelte-1y1nif6"&&(L.textContent=Z),be=j(_e),he=_(_e,"TD",{});var st=E(he);we=X(st,pe),st.forEach(m),ae=j(_e),ye=_(_e,"TD",{});var rt=E(ye);Ne=X(rt,ve),rt.forEach(m),Ge=j(_e),_e.forEach(m),ce=_(Fe,"TR",{});var ke=E(ce);xe=_(ke,"TH",{"data-svelte-h":!0}),G(xe)!=="svelte-1uw1fs2"&&(xe.textContent=Ke),qe=j(ke),Pe=_(ke,"TD",{});var lt=E(Pe);We=X(lt,De),lt.forEach(m),ze=j(ke),Be=_(ke,"TD",{});var it=E(Be);Me=X(it,Ie),it.forEach(m),ke.forEach(m),Fe.forEach(m),tt.forEach(m),this.h()},h(){W(e,"class","d-flex justify-content-center")},m(P,R){T(P,e,R),ne(l,e,null),T(P,d,R),T(P,r,R),y(r,t),y(t,h),y(t,u),y(r,n),y(r,f),y(f,$),y(r,v),y(r,b),T(P,o,R),ne(p,P,R),T(P,D,R),ne(k,P,R),T(P,F,R),T(P,I,R),y(I,N),y(N,M),y(M,z),y(M,U),y(M,C),y(C,A),y(M,J),y(M,K),y(K,le),y(N,$e),y(N,O),y(O,L),y(O,be),y(O,he),y(he,we),y(O,ae),y(O,ye),y(ye,Ne),y(O,Ge),y(N,ce),y(ce,xe),y(ce,qe),y(ce,Pe),y(Pe,We),y(ce,ze),y(ce,Be),y(Be,Me),ee=!0,Qe||(Ze=[q(t,"click",s[7]),q(f,"click",s[8]),q(b,"click",s[4])],Qe=!0)},p(P,[R]){(!ee||R&1)&&i!==(i=P[0]?"Disable":"Enable")&&Q(h,i),(!ee||R&2)&&c!==(c=P[1]?"Play":"Pause")&&Q($,c);const ue={};R&8&&(ue.world=P[3]),k.$set(ue),(!ee||R&4)&&B!==(B=P[2].t+"")&&Q(A,B),(!ee||R&4)&&Y!==(Y=P[2].frameTime+"")&&Q(le,Y),(!ee||R&4)&&pe!==(pe=P[2].spherePos.x.toFixed(2)+"")&&Q(we,pe),(!ee||R&4)&&ve!==(ve=P[2].spherePos.y.toFixed(2)+"")&&Q(Ne,ve),(!ee||R&4)&&De!==(De=P[2].sphereVel.x.toFixed(2)+"")&&Q(We,De),(!ee||R&4)&&Ie!==(Ie=P[2].sphereVel.y.toFixed(2)+"")&&Q(Me,Ie)},i(P){ee||(oe(l.$$.fragment,P),oe(p.$$.fragment,P),oe(k.$$.fragment,P),ee=!0)},o(P){se(l.$$.fragment,P),se(p.$$.fragment,P),se(k.$$.fragment,P),ee=!1},d(P){P&&(m(e),m(d),m(r),m(o),m(D),m(F),m(I)),re(l),re(p,P),re(k,P),Qe=!1,He(Ze)}}}const Ue=60;function Mt(s,e,l){console.clear();let d=!1,r=!1,t={t:"0",frameTime:"0",spherePos:new a(0,0),sphereVel:new a(0,0),ballIsColliding:!1},i,h;const u=()=>{l(3,i=new Oe({dimensions:new a(15,15),reporter:p=>{var D;l(2,t.t=(D=p==null?void 0:p.t)==null?void 0:D.toFixed(1),t),t.spherePos.copy(h.position).unfloat(),t.sphereVel.copy(h.velocity).unfloat(),l(2,t.frameTime=p.frameTime.toFixed(2),t),l(2,t),l(2,t.ballIsColliding=h.data.isColliding,t),d&&h.data.isColliding&&!r&&l(1,r=!0)},enableGravity:!0}));const o=Nt();h=o.sphere;for(const p of o.objects)i.addObject(p)},n=o=>typeof o=="number"?o*Ue:o.clone().multiplyScalar(Ue),f=o=>typeof o=="number"?o/Ue:o.clone().divideScalar(Ue);let c;const $=o=>{o.setup=()=>{c=o,u();const k=n(i.dimensions);o.createCanvas(k.x,k.y),o.background(0),o.fill(255),o.stroke(255),u()},o.draw=()=>{o.background(0),ft(o)?h.fixed=!0:h.fixed=!1,r||i.step(),Xe(o,i),D(o)};let p;o.mousePressed=()=>{Ye(o)&&(p=f(new a(o.mouseX,o.height-o.mouseY)),h.position.copy(p))},o.mouseReleased=()=>{if(!Ye(o)||!p)return;const k=f(new a(o.mouseX,o.height-o.mouseY)),F=p.subtract(k).multiplyScalar(3);p=void 0,h.velocity.copy(F)};const D=k=>{if(!p)return;k.stroke("blue"),k.strokeWeight(2);const F=n(p);k.line(F.x,k.height-F.y,k.mouseX,k.mouseY)}},v=o=>{o.multiplyScalar(1e4),i.applyForce(h,o)};return Se(()=>{c==null||c.remove()}),[d,r,t,i,u,$,v,()=>l(0,d=!d),()=>l(1,r=!r)]}let Vt=class extends de{constructor(e){super(),me(this,e,Mt,Wt,fe,{})}};const Lt=()=>{const s=[],e=x({geometry:{type:"line",vector:new a(15,0)},position:new a(0,0),fixed:!0});s.push(e);const l=x({geometry:{type:"line",vector:new a(0,100)},position:new a(0,0),fixed:!0});s.push(l);const d=x({geometry:{type:"line",vector:new a(0,100)},position:new a(15,0),fixed:!0});s.push(d);const r=x({geometry:{type:"line",vector:new a(3,-3)},position:new a(3.5,8),fixed:!0});s.push(r);const t=x({geometry:{type:"line",vector:new a(3,3)},position:new a(3.5,5),fixed:!0});s.push(t);const i=x({geometry:{type:"line",vector:new a(6,0)},position:new a(2,2),fixed:!0});s.push(i);const h=x({geometry:{type:"line",vector:new a(4,0)},position:new a(3,2.5),fixed:!0});s.push(h);const u=x({geometry:{type:"line",vector:new a(2,0)},position:new a(4,3),fixed:!0});s.push(u);const n=x({geometry:{type:"line",vector:new a(.6,0)},position:new a(4.7,3.5),fixed:!0});s.push(n);const f=x({geometry:{type:"line",vector:new a(1,0)},position:new a(10,10.1),fixed:!0});s.push(f);const c=x({geometry:{type:"line",vector:new a(0,-4)},position:new a(11,10),fixed:!0});s.push(c);const $=x({geometry:{type:"line",vector:new a(0,-4)},position:new a(11.5,10),fixed:!0});s.push($);const v=x({geometry:{type:"line",vector:new a(0,-4)},position:new a(12,10),fixed:!0});s.push(v);const b=x({geometry:{type:"line",vector:new a(1,0)},position:new a(12,10.1),fixed:!0});s.push(b);for(let g=.2;g<.5;g+=.1)for(let o=0;o<10;o++){const p=x({geometry:{type:"line",vector:new a(0,3)},position:new a(9+o*g,1),fixed:!0});s.push(p)}return{objects:s}};function Rt(s){let e,l,d,r,t,i=s[0]?"Disable":"Enable",h,u,n,f,c=s[1]?"Play":"Pause",$,v,b,g="Reset",o,p,D,k,F,I,N,M="Simulation time/Frame duration",z,V,U=s[2].t+"",C,B,A,J=s[2].frameTime+"",K,Y,le,$e;return l=new je({props:{sketch:s[5]}}),p=new dt({props:{world:s[3]}}),{c(){e=w("div"),te(l.$$.fragment),d=S(),r=w("div"),t=w("button"),h=H(i),u=H(" pause on collision"),n=S(),f=w("button"),$=H(c),v=S(),b=w("button"),b.textContent=g,o=S(),te(p.$$.fragment),D=S(),k=w("table"),F=w("tbody"),I=w("tr"),N=w("th"),N.textContent=M,z=S(),V=w("td"),C=H(U),B=S(),A=w("td"),K=H(J),this.h()},l(O){e=_(O,"DIV",{class:!0});var L=E(e);ie(l.$$.fragment,L),L.forEach(m),d=j(O),r=_(O,"DIV",{});var Z=E(r);t=_(Z,"BUTTON",{});var be=E(t);h=X(be,i),u=X(be," pause on collision"),be.forEach(m),n=j(Z),f=_(Z,"BUTTON",{});var he=E(f);$=X(he,c),he.forEach(m),v=j(Z),b=_(Z,"BUTTON",{"data-svelte-h":!0}),G(b)!=="svelte-tlxueg"&&(b.textContent=g),Z.forEach(m),o=j(O),ie(p.$$.fragment,O),D=j(O),k=_(O,"TABLE",{});var pe=E(k);F=_(pe,"TBODY",{});var we=E(F);I=_(we,"TR",{});var ae=E(I);N=_(ae,"TH",{"data-svelte-h":!0}),G(N)!=="svelte-rirgm4"&&(N.textContent=M),z=j(ae),V=_(ae,"TD",{});var ye=E(V);C=X(ye,U),ye.forEach(m),B=j(ae),A=_(ae,"TD",{});var ve=E(A);K=X(ve,J),ve.forEach(m),ae.forEach(m),we.forEach(m),pe.forEach(m),this.h()},h(){W(e,"class","d-flex justify-content-center")},m(O,L){T(O,e,L),ne(l,e,null),T(O,d,L),T(O,r,L),y(r,t),y(t,h),y(t,u),y(r,n),y(r,f),y(f,$),y(r,v),y(r,b),T(O,o,L),ne(p,O,L),T(O,D,L),T(O,k,L),y(k,F),y(F,I),y(I,N),y(I,z),y(I,V),y(V,C),y(I,B),y(I,A),y(A,K),Y=!0,le||($e=[q(t,"click",s[6]),q(f,"click",s[7]),q(b,"click",s[4])],le=!0)},p(O,[L]){(!Y||L&1)&&i!==(i=O[0]?"Disable":"Enable")&&Q(h,i),(!Y||L&2)&&c!==(c=O[1]?"Play":"Pause")&&Q($,c);const Z={};L&8&&(Z.world=O[3]),p.$set(Z),(!Y||L&4)&&U!==(U=O[2].t+"")&&Q(C,U),(!Y||L&4)&&J!==(J=O[2].frameTime+"")&&Q(K,J)},i(O){Y||(oe(l.$$.fragment,O),oe(p.$$.fragment,O),Y=!0)},o(O){se(l.$$.fragment,O),se(p.$$.fragment,O),Y=!1},d(O){O&&(m(e),m(d),m(r),m(o),m(D),m(k)),re(l),re(p,O),le=!1,He($e)}}}const ut=60;function Ut(s,e,l){console.clear();let d=!1,r=!1,t={t:"0",frameTime:"0"},i;const h=()=>{clearInterval(c),c=setInterval(u,100),l(3,i=new Oe({dimensions:new a(15,15),reporter:o=>{var p;l(2,t.t=(p=o==null?void 0:o.t)==null?void 0:p.toFixed(1),t),l(2,t.frameTime=o.frameTime.toFixed(2),t),l(2,t)},enableGravity:!0}));const g=Lt();for(const o of g.objects)i.addObject(o)},u=()=>{console.log("add ball");const g=Math.random()*i.dimensions.x,o=Math.random()*i.dimensions.y,p=-5+Math.random()*10,D=-5+Math.random()*10,k=x({geometry:{type:"sphere",r:.1},position:new a(g,o),velocity:new a(p,D)});i.addObject(k)},n=g=>typeof g=="number"?g*ut:g.clone().multiplyScalar(ut);let f,c;const $=g=>{g.setup=()=>{f=g,h();const o=n(i.dimensions);g.createCanvas(o.x,o.y),g.background(0),g.fill(255),g.stroke(255),h()},g.draw=()=>{g.background(0),r||i.step(),Xe(g,i)}};return Se(()=>{f==null||f.remove(),clearInterval(c)}),[d,r,t,i,h,$,()=>l(0,d=!d),()=>l(1,r=!r)]}class At extends de{constructor(e){super(),me(this,e,Ut,Rt,fe,{})}}function Yt(s){let e,l="<span>This page is a list of engine tests. They use the actual engine and allow me to setup different situations and check manually for regressions and bugs.</span> <br/> <span>Use the selection menu to see the different pages</span>",d,r,t,i,h,u,n,f,c;function $(o){s[2](o)}let v={items:s[1],showChevron:!0};s[0]!==void 0&&(v.value=s[0]),i=new gt({props:v}),mt.push(()=>pt(i,"value",$));var b=s[0].value;function g(o,p){return{}}return b&&(n=at(b,g())),{c(){e=w("div"),e.innerHTML=l,d=S(),r=w("br"),t=S(),te(i.$$.fragment),u=S(),n&&te(n.$$.fragment),f=Ae()},l(o){e=_(o,"DIV",{"data-svelte-h":!0}),G(e)!=="svelte-11mzr87"&&(e.innerHTML=l),d=j(o),r=_(o,"BR",{}),t=j(o),ie(i.$$.fragment,o),u=j(o),n&&ie(n.$$.fragment,o),f=Ae()},m(o,p){T(o,e,p),T(o,d,p),T(o,r,p),T(o,t,p),ne(i,o,p),T(o,u,p),n&&ne(n,o,p),T(o,f,p),c=!0},p(o,[p]){const D={};if(!h&&p&1&&(h=!0,D.value=o[0],ht(()=>h=!1)),i.$set(D),p&1&&b!==(b=o[0].value)){if(n){vt();const k=n;se(k.$$.fragment,1,0,()=>{re(k,1)}),yt()}b?(n=at(b,g()),te(n.$$.fragment),oe(n.$$.fragment,1),ne(n,f.parentNode,f)):n=null}},i(o){c||(oe(i.$$.fragment,o),n&&oe(n.$$.fragment,o),c=!0)},o(o){se(i.$$.fragment,o),n&&se(n.$$.fragment,o),c=!1},d(o){o&&(m(e),m(d),m(r),m(t),m(u),m(f)),re(i,o),n&&re(n,o)}}}function Ht(s,e,l){const d=[{label:"Obstacles2",value:At},{label:"Obstacles",value:Vt},{label:"Test collisions 3",value:Ot},{label:"Test collisions 2",value:Et},{label:"Test collisions",value:Tt},{label:"Test engine",value:_t}];let r=d[0];function t(i){r=i,l(0,r)}return[r,d,t]}class Jt extends de{constructor(e){super(),me(this,e,Ht,Yt,fe,{})}}export{Jt as component};
