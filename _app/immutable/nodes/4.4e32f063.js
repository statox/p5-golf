import{s as ce,f as b,a as E,l as X,g as $,h as P,d as g,c as S,m as M,u as R,j as N,i as C,y,L as H,n as Z,M as je,z as me,e as ve,P as le,Q as _e,O as Qe,E as gt,q as ut}from"../chunks/scheduler.e421d989.js";import{S as ae,i as ue,b as q,d as ee,m as z,a as L,t as A,e as Q,g as Je,c as Ke}from"../chunks/index.52486247.js";import{e as Ye}from"../chunks/each.e59479a4.js";import{P as Pe,V as h,m as yt,a as Ae,T as vt,b as _t,c as bt,d as $t}from"../chunks/p5utils.fe4d08ff.js";import{W as Oe,c as W}from"../chunks/PhysicObject.b0a0d3c3.js";function wt(u){let e,s,n,t,l=u[0][u[0].length-1]+"",o,f,c,r="New ball",i,a,v;return s=new Pe({props:{sketch:u[2]}}),{c(){e=b("div"),q(s.$$.fragment),n=E(),t=b("p"),o=X(l),f=E(),c=b("button"),c.textContent=r,this.h()},l(m){e=$(m,"DIV",{class:!0});var p=P(e);ee(s.$$.fragment,p),p.forEach(g),n=S(m),t=$(m,"P",{});var _=P(t);o=M(_,l),_.forEach(g),f=S(m),c=$(m,"BUTTON",{"data-svelte-h":!0}),R(c)!=="svelte-1jwbm46"&&(c.textContent=r),this.h()},h(){N(e,"class","d-flex justify-content-center")},m(m,p){C(m,e,p),z(s,e,null),C(m,n,p),C(m,t,p),y(t,o),C(m,f,p),C(m,c,p),i=!0,a||(v=H(c,"click",u[1]),a=!0)},p(m,[p]){(!i||p&1)&&l!==(l=m[0][m[0].length-1]+"")&&Z(o,l)},i(m){i||(L(s.$$.fragment,m),i=!0)},o(m){A(s.$$.fragment,m),i=!1},d(m){m&&(g(e),g(n),g(t),g(f),g(c)),Q(s),a=!1,v()}}}function xt(u,e,s){console.clear();let n=[];const t=r=>{const i=r.objects[r.objects.length-1],a=i.position.clone().toFixed(2),v=i.velocity.clone().toFixed(2);n.push(`${r.t.toFixed(2)} - pos: ${a} - vel: ${v}`),n.length>50&&n.shift(),s(0,n)},l=new Oe({reporter:t,enableGravity:!0}),o=()=>{for(;l.objects.length;)l.objects.pop();const r=W({geometry:{type:"line",vector:new h(100,0)},position:new h(0,0),fixed:!0});l.addObject(r);for(let i=0;i<1;i++){const a=W({geometry:{type:"sphere",r:5},position:new h(20,50),velocity:new h(Math.random()*5-2.5,Math.random()*20)});l.addObject(a)}};let f;const c=r=>{r.setup=()=>{f=r,r.createCanvas(900,600),r.background(0),r.fill(255),r.stroke(255),o()},r.draw=()=>{r.background(0),l.step();for(const i of l.objects){const a=r.map(i.position.x,0,l.dimensions.x,0,r.width),v=r.map(i.position.y,0,l.dimensions.y,r.height,0);if(i.geometry.type==="sphere"&&(r.strokeWeight(i.geometry.r*2),r.point(a,v)),i.geometry.type==="line"){const m=a+r.map(i.geometry.vector.x,0,l.dimensions.x,0,r.width),p=v+r.map(i.geometry.vector.y,0,l.dimensions.y,0,r.height);r.strokeWeight(2),r.line(a,v,m,p)}}}};return je(()=>{f==null||f.remove()}),[n,o,c]}class kt extends ae{constructor(e){super(),ue(this,e,xt,wt,ce,{})}}function Tt(u){let e,s,n,t,l=u[0][u[0].length-1]+"",o,f,c,r="New ball",i,a,v;return s=new Pe({props:{sketch:u[2]}}),{c(){e=b("div"),q(s.$$.fragment),n=E(),t=b("p"),o=X(l),f=E(),c=b("button"),c.textContent=r,this.h()},l(m){e=$(m,"DIV",{class:!0});var p=P(e);ee(s.$$.fragment,p),p.forEach(g),n=S(m),t=$(m,"P",{});var _=P(t);o=M(_,l),_.forEach(g),f=S(m),c=$(m,"BUTTON",{"data-svelte-h":!0}),R(c)!=="svelte-1jwbm46"&&(c.textContent=r),this.h()},h(){N(e,"class","d-flex justify-content-center")},m(m,p){C(m,e,p),z(s,e,null),C(m,n,p),C(m,t,p),y(t,o),C(m,f,p),C(m,c,p),i=!0,a||(v=H(c,"click",u[1]),a=!0)},p(m,[p]){(!i||p&1)&&l!==(l=m[0][m[0].length-1]+"")&&Z(o,l)},i(m){i||(L(s.$$.fragment,m),i=!0)},o(m){A(s.$$.fragment,m),i=!1},d(m){m&&(g(e),g(n),g(t),g(f),g(c)),Q(s),a=!1,v()}}}const Fe=6;function Ct(u,e,s){console.clear();let n=[];const t=a=>{const v=a.objects[a.objects.length-1],m=v.position.clone().toFixed(2),p=v.velocity.clone().toFixed(2);n.push(`${a.t.toFixed(2)} - pos: ${m} - vel: ${p}`),n.length>50&&n.shift(),s(0,n)},l=new Oe({reporter:t,enableGravity:!0});let o,f;const c=()=>{for(;l.objects.length;)l.objects.pop();f=W({geometry:{type:"line",vector:new h(40,40)},position:new h(30,30),fixed:!0}),l.addObject(f),o=W({geometry:{type:"sphere",r:10},position:new h(20,50),velocity:new h(2.5,2.5),fixed:!0}),l.addObject(o)};let r;const i=a=>{const v=_=>typeof _=="number"?_*Fe:_.clone().multiplyScalar(Fe),m=_=>typeof _=="number"?_/Fe:_.clone().divideScalar(Fe);a.setup=()=>{r=a;const _=v(l.dimensions);a.createCanvas(_.x,_.y),a.background(0),a.fill(255),a.stroke(255),c()};let p;a.draw=()=>{if(a.background(0),l.step(),a.mouseIsPressed){const _=m(new h(a.mouseX,a.height-a.mouseY));if(p||(_.distance(o.position)<2?p="sphere":_.distance(f.position)<2?p="wallstart":_.distance(f.geometry.vector.clone().add(f.position))<2&&(p="wallend")),p==="sphere"&&o.position.copy(_),p==="wallstart"&&f.position.copy(_),p==="wallend"){const k=_.clone().subtract(f.position);f.geometry.vector.copy(k)}}else p=void 0;for(const _ of l.objects){a.stroke(o.data.isColliding?"red":"white");const k=a.map(_.position.x,0,l.dimensions.x,0,a.width),d=a.map(_.position.y,0,l.dimensions.y,a.height,0);if(_.geometry.type==="sphere"){const w=v(_.geometry.r*2);a.strokeWeight(w),a.point(k,d)}if(_.geometry.type==="line"){const w=k+a.map(_.geometry.vector.x,0,l.dimensions.x,0,a.width),j=d-a.map(_.geometry.vector.y,0,l.dimensions.y,0,a.height);a.strokeWeight(2),a.line(k,d,w,j)}}}};return je(()=>{r==null||r.remove()}),[n,c,i]}class Et extends ae{constructor(e){super(),ue(this,e,Ct,Tt,ce,{})}}function St(u){let e,s,n;return s=new Pe({props:{sketch:u[0]}}),{c(){e=b("div"),q(s.$$.fragment),this.h()},l(t){e=$(t,"DIV",{class:!0});var l=P(e);ee(s.$$.fragment,l),l.forEach(g),this.h()},h(){N(e,"class","d-flex justify-content-center")},m(t,l){C(t,e,l),z(s,e,null),n=!0},p:me,i(t){n||(L(s.$$.fragment,t),n=!0)},o(t){A(s.$$.fragment,t),n=!1},d(t){t&&g(e),Q(s)}}}const Ie=6;function jt(u){console.clear();const e=new Oe({reporter:()=>{},enableGravity:!0});let s;const n=()=>{for(;e.objects.length;)e.objects.pop();s=W({geometry:{type:"sphere",r:5},position:new h(20,50),velocity:new h(Math.random()*5-2.5,Math.random()*20)}),e.addObject(s);const r=W({geometry:{type:"line",vector:new h(100,0)},position:new h(0,2),fixed:!0});e.addObject(r);const i=W({geometry:{type:"line",vector:new h(100,0)},position:new h(0,98),fixed:!0});e.addObject(i);const a=W({geometry:{type:"line",vector:new h(0,100)},position:new h(2,0),fixed:!0});e.addObject(a);const v=W({geometry:{type:"line",vector:new h(0,100)},position:new h(98,0),fixed:!0});e.addObject(v);const m=W({geometry:{type:"line",vector:new h(50,50)},position:new h(20,10),fixed:!0});e.addObject(m)},t=r=>typeof r=="number"?r*Ie:r.clone().multiplyScalar(Ie),l=r=>typeof r=="number"?r/Ie:r.clone().divideScalar(Ie),o=(r,i)=>{for(const a of i.objects){r.stroke(a.data.isColliding?"red":"white");const v=r.map(a.position.x,0,i.dimensions.x,0,r.width),m=r.map(a.position.y,0,i.dimensions.y,r.height,0);if(a.geometry.type==="sphere"){const p=t(a.geometry.r*2);r.strokeWeight(p),r.point(v,m)}if(r.stroke(a.data.isColliding?"orange":"white"),a.geometry.type==="line"){const p=v+r.map(a.geometry.vector.x,0,i.dimensions.x,0,r.width),_=m-r.map(a.geometry.vector.y,0,i.dimensions.y,0,r.height);r.strokeWeight(2),r.line(v,m,p,_)}}};let f;const c=r=>{r.setup=()=>{f=r;const a=t(e.dimensions);r.createCanvas(a.x,a.y),r.background(0),r.fill(255),r.stroke(255),n()},r.draw=()=>{if(r.background(0),r.mouseIsPressed){s.fixed=!0;const a=l(new h(r.mouseX,r.height-r.mouseY));s.position.copy(a)}else s.fixed=!1;e.step(),o(r,e)};let i;r.mousePressed=()=>{i=l(new h(r.mouseX,r.height-r.mouseY))},r.mouseReleased=()=>{const a=l(new h(r.mouseX,r.height-r.mouseY)),v=i.subtract(a);s.position.copy(a),s.velocity.copy(v)}};return je(()=>{f==null||f.remove()}),[c]}class Pt extends ae{constructor(e){super(),ue(this,e,jt,St,ce,{})}}function Ot(u){let e,s,n,t,l,o,f,c="Gravity",r,i,a,v="Toggle",m,p,_;return s=new Pe({props:{sketch:u[1]}}),{c(){e=b("div"),q(s.$$.fragment),n=E(),t=b("table"),l=b("tbody"),o=b("tr"),f=b("th"),f.textContent=c,r=E(),i=b("td"),a=b("button"),a.textContent=v,this.h()},l(k){e=$(k,"DIV",{class:!0});var d=P(e);ee(s.$$.fragment,d),d.forEach(g),n=S(k),t=$(k,"TABLE",{});var w=P(t);l=$(w,"TBODY",{});var j=P(l);o=$(j,"TR",{});var O=P(o);f=$(O,"TH",{"data-svelte-h":!0}),R(f)!=="svelte-vy75us"&&(f.textContent=c),r=S(O),i=$(O,"TD",{});var B=P(i);a=$(B,"BUTTON",{"data-svelte-h":!0}),R(a)!=="svelte-18lc94l"&&(a.textContent=v),B.forEach(g),O.forEach(g),j.forEach(g),w.forEach(g),this.h()},h(){N(e,"class","d-flex justify-content-center")},m(k,d){C(k,e,d),z(s,e,null),C(k,n,d),C(k,t,d),y(t,l),y(l,o),y(o,f),y(o,r),y(o,i),y(i,a),m=!0,p||(_=H(a,"click",u[2]),p=!0)},p:me,i(k){m||(L(s.$$.fragment,k),m=!0)},o(k){A(s.$$.fragment,k),m=!1},d(k){k&&(g(e),g(n),g(t)),Q(s),p=!1,_()}}}const Ve=6;function Dt(u){console.clear();const e=new Oe({reporter:()=>{},enableGravity:!0});let s;const n=()=>{for(;e.objects.length;)e.objects.pop();const i=W({geometry:{type:"line",vector:new h(100,0)},position:new h(0,0),fixed:!0});e.addObject(i);const a=W({geometry:{type:"line",vector:new h(100,0)},position:new h(0,100),fixed:!0});e.addObject(a);const v=W({geometry:{type:"line",vector:new h(0,100)},position:new h(0,0),fixed:!0});e.addObject(v);const m=W({geometry:{type:"line",vector:new h(0,100)},position:new h(100,0),fixed:!0});e.addObject(m);const p=W({geometry:{type:"line",vector:new h(50,50)},position:new h(20,10),fixed:!0});e.addObject(p),s=W({geometry:{type:"sphere",r:2},position:new h(20,50),velocity:new h(Math.random()*5-2.5,Math.random()*20)}),e.addObject(s)},t=i=>typeof i=="number"?i*Ve:i.clone().multiplyScalar(Ve),l=i=>typeof i=="number"?i/Ve:i.clone().divideScalar(Ve),o=(i,a)=>{for(const v of a.objects){i.stroke(v.data.isColliding?"red":"white");const m=i.map(v.position.x,0,a.dimensions.x,0,i.width),p=i.map(v.position.y,0,a.dimensions.y,i.height,0);if(v.geometry.type==="sphere"){const _=t(v.geometry.r*2);i.strokeWeight(_),i.point(m,p)}if(v.geometry.type==="line"){const _=m+i.map(v.geometry.vector.x,0,a.dimensions.x,0,i.width),k=p-i.map(v.geometry.vector.y,0,a.dimensions.y,0,i.height);i.strokeWeight(2),i.line(m,p,_,k)}}};let f;const c=i=>{i.setup=()=>{f=i;const v=t(e.dimensions);i.createCanvas(v.x,v.y),i.background(0),i.fill(255),i.stroke(255),n()},i.draw=()=>{if(i.background(0),yt(i)){s.fixed=!0;const v=l(new h(i.mouseX,i.height-i.mouseY));s.position.copy(v)}else s.fixed=!1;e.step(),o(i,e)};let a;i.mousePressed=()=>{Ae(i)&&(a=l(new h(i.mouseX,i.height-i.mouseY)))},i.mouseReleased=()=>{if(!Ae(i))return;const v=l(new h(i.mouseX,i.height-i.mouseY)),m=a.subtract(v);s.position.copy(v),s.velocity.copy(m)}};return je(()=>{f==null||f.remove()}),[e,c,()=>e.toggleGravity()]}class Wt extends ae{constructor(e){super(),ue(this,e,Dt,Ot,ce,{})}}function ft(u){let e,s,n,t,l="dt",o,f,c,r,i,a,v="drag",m,p,_,k,d,w,j="gravity enabled",O,B,F,I,J;return{c(){e=b("table"),s=b("tbody"),n=b("tr"),t=b("th"),t.textContent=l,o=E(),f=b("td"),c=b("input"),r=E(),i=b("tr"),a=b("th"),a.textContent=v,m=E(),p=b("td"),_=b("input"),k=E(),d=b("tr"),w=b("th"),w.textContent=j,O=E(),B=b("td"),F=b("input"),this.h()},l(Y){e=$(Y,"TABLE",{});var U=P(e);s=$(U,"TBODY",{});var T=P(s);n=$(T,"TR",{});var D=P(n);t=$(D,"TH",{"data-svelte-h":!0}),R(t)!=="svelte-16dheti"&&(t.textContent=l),o=S(D),f=$(D,"TD",{});var G=P(f);c=$(G,"INPUT",{type:!0,min:!0,max:!0,step:!0}),G.forEach(g),D.forEach(g),r=S(T),i=$(T,"TR",{});var re=P(i);a=$(re,"TH",{"data-svelte-h":!0}),R(a)!=="svelte-2hq5g"&&(a.textContent=v),m=S(re),p=$(re,"TD",{});var ie=P(p);_=$(ie,"INPUT",{type:!0,min:!0,max:!0,step:!0}),ie.forEach(g),re.forEach(g),k=S(T),d=$(T,"TR",{});var te=P(d);w=$(te,"TH",{"data-svelte-h":!0}),R(w)!=="svelte-ic0r87"&&(w.textContent=j),O=S(te),B=$(te,"TD",{});var fe=P(B);F=$(fe,"INPUT",{type:!0}),fe.forEach(g),te.forEach(g),T.forEach(g),U.forEach(g),this.h()},h(){N(c,"type","number"),N(c,"min","0"),N(c,"max","0.5"),N(c,"step","0.001"),N(_,"type","number"),N(_,"min","0"),N(_,"max","0.01"),N(_,"step","0.001"),N(F,"type","checkbox")},m(Y,U){C(Y,e,U),y(e,s),y(s,n),y(n,t),y(n,o),y(n,f),y(f,c),le(c,u[0].dt),y(s,r),y(s,i),y(i,a),y(i,m),y(i,p),y(p,_),le(_,u[0].drag),y(s,k),y(s,d),y(d,w),y(d,O),y(d,B),y(B,F),F.checked=u[0].gravityEnabled,I||(J=[H(c,"input",u[1]),H(_,"input",u[2]),H(F,"change",u[3])],I=!0)},p(Y,U){U&1&&_e(c.value)!==Y[0].dt&&le(c,Y[0].dt),U&1&&_e(_.value)!==Y[0].drag&&le(_,Y[0].drag),U&1&&(F.checked=Y[0].gravityEnabled)},d(Y){Y&&g(e),I=!1,Qe(J)}}}function Bt(u){let e,s="Engine settings",n,t,l=u[0]&&ft(u);return{c(){e=b("p"),e.textContent=s,n=E(),l&&l.c(),t=ve(),this.h()},l(o){e=$(o,"P",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-gf3gek"&&(e.textContent=s),n=S(o),l&&l.l(o),t=ve(),this.h()},h(){N(e,"class","title svelte-g74uk9")},m(o,f){C(o,e,f),C(o,n,f),l&&l.m(o,f),C(o,t,f)},p(o,[f]){o[0]?l?l.p(o,f):(l=ft(o),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i:me,o:me,d(o){o&&(g(e),g(n),g(t)),l&&l.d(o)}}}function Nt(u,e,s){let{world:n}=e;function t(){n.dt=_e(this.value),s(0,n)}function l(){n.drag=_e(this.value),s(0,n)}function o(){n.gravityEnabled=this.checked,s(0,n)}return u.$$set=f=>{"world"in f&&s(0,n=f.world)},[n,t,l,o]}class Ft extends ae{constructor(e){super(),ue(this,e,Nt,Bt,ce,{world:0})}}function It(u){let e,s="Shooter",n,t,l,o="Angle",f,c,r,i,a,v,m,p,_="Magnitude",k,d,w,j,O,B,F,I,J="Shoot",Y,U;return{c(){e=b("p"),e.textContent=s,n=E(),t=b("span"),l=b("label"),l.textContent=o,f=E(),c=b("input"),r=E(),i=X(u[0]),a=X(" deg"),v=E(),m=b("span"),p=b("label"),p.textContent=_,k=E(),d=b("input"),w=E(),j=X(u[1]),O=E(),B=b("br"),F=E(),I=b("button"),I.textContent=J,this.h()},l(T){e=$(T,"P",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-198ugk3"&&(e.textContent=s),n=S(T),t=$(T,"SPAN",{});var D=P(t);l=$(D,"LABEL",{for:!0,"data-svelte-h":!0}),R(l)!=="svelte-lab87n"&&(l.textContent=o),f=S(D),c=$(D,"INPUT",{id:!0,type:!0,min:!0,max:!0}),r=S(D),i=M(D,u[0]),a=M(D," deg"),D.forEach(g),v=S(T),m=$(T,"SPAN",{});var G=P(m);p=$(G,"LABEL",{for:!0,"data-svelte-h":!0}),R(p)!=="svelte-1vc5oxa"&&(p.textContent=_),k=S(G),d=$(G,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0}),w=S(G),j=M(G,u[1]),G.forEach(g),O=S(T),B=$(T,"BR",{}),F=S(T),I=$(T,"BUTTON",{"data-svelte-h":!0}),R(I)!=="svelte-8jpwxr"&&(I.textContent=J),this.h()},h(){N(e,"class","title svelte-g74uk9"),N(l,"for","angleSlider"),N(c,"id","angleSlider"),N(c,"type","range"),N(c,"min","0"),N(c,"max","360"),N(p,"for","magSlider"),N(d,"id","magSlider"),N(d,"type","range"),N(d,"min","0"),N(d,"max","1"),N(d,"step","0.01")},m(T,D){C(T,e,D),C(T,n,D),C(T,t,D),y(t,l),y(t,f),y(t,c),le(c,u[0]),y(t,r),y(t,i),y(t,a),C(T,v,D),C(T,m,D),y(m,p),y(m,k),y(m,d),le(d,u[1]),y(m,w),y(m,j),C(T,O,D),C(T,B,D),C(T,F,D),C(T,I,D),Y||(U=[H(c,"change",u[4]),H(c,"input",u[4]),H(d,"change",u[5]),H(d,"input",u[5]),H(I,"click",u[6])],Y=!0)},p(T,[D]){D&1&&le(c,T[0]),D&1&&Z(i,T[0]),D&2&&le(d,T[1]),D&2&&Z(j,T[1])},i:me,o:me,d(T){T&&(g(e),g(n),g(t),g(v),g(m),g(O),g(B),g(F),g(I)),Y=!1,Qe(U)}}}function Vt(u,e,s){let{onShoot:n}=e,t=0,l=.5;const o=()=>{const i=new h(1,0);i.rotateDeg(t),i.multiplyScalar(l),n(i)};function f(){t=_e(this.value),s(0,t)}function c(){l=_e(this.value),s(1,l)}const r=()=>o();return u.$$set=i=>{"onShoot"in i&&s(3,n=i.onShoot)},[t,l,o,n,f,c,r]}class Lt extends ae{constructor(e){super(),ue(this,e,Vt,It,ce,{onShoot:3})}}const Yt=()=>{const u=[],e=W({geometry:{type:"line",vector:new h(15,0)},position:new h(0,0),fixed:!0});u.push(e);const s=W({geometry:{type:"line",vector:new h(0,100)},position:new h(0,0),fixed:!0});u.push(s);const n=W({geometry:{type:"line",vector:new h(0,100)},position:new h(15,0),fixed:!0});u.push(n);const t=W({geometry:{type:"line",vector:new h(3,-3)},position:new h(3.5,8),fixed:!0});u.push(t);const l=W({geometry:{type:"line",vector:new h(3,3)},position:new h(3.5,5),fixed:!0});u.push(l);const o=W({geometry:{type:"line",vector:new h(6,0)},position:new h(2,2),fixed:!0});u.push(o);const f=W({geometry:{type:"line",vector:new h(4,0)},position:new h(3,2.5),fixed:!0});u.push(f);const c=W({geometry:{type:"line",vector:new h(2,0)},position:new h(4,3),fixed:!0});u.push(c);const r=W({geometry:{type:"line",vector:new h(.6,0)},position:new h(4.7,3.5),fixed:!0});u.push(r);const i=W({geometry:{type:"line",vector:new h(1,0)},position:new h(10,10.1),fixed:!0});u.push(i);const a=W({geometry:{type:"line",vector:new h(0,-4)},position:new h(11,10),fixed:!0});u.push(a);const v=W({geometry:{type:"line",vector:new h(0,-4)},position:new h(11.5,10),fixed:!0});u.push(v);const m=W({geometry:{type:"line",vector:new h(0,-4)},position:new h(12,10),fixed:!0});u.push(m);const p=W({geometry:{type:"line",vector:new h(1,0)},position:new h(12,10.1),fixed:!0});u.push(p);for(let k=.2;k<.5;k+=.1)for(let d=0;d<10;d++){const w=W({geometry:{type:"line",vector:new h(0,3)},position:new h(9+d*k,1),fixed:!0});u.push(w)}const _=W({geometry:{type:"sphere",r:.1},position:new h(5,10),velocity:new h(0,0)});return u.push(_),{objects:u,sphere:_}};function At(u){let e,s,n,t,l,o=u[0]?"Disable":"Enable",f,c,r,i,a=u[1]?"Play":"Pause",v,m,p,_="Reset",k,d,w,j,O,B,F,I,J,Y="Simulation time/Frame duration",U,T,D=u[2].t+"",G,re,ie,te=u[2].frameTime+"",fe,Re,ne,he,Ze="Sphere position",Ue,be,$e=u[2].spherePos.x.toFixed(2)+"",De,Xe,we,xe=u[2].spherePos.y.toFixed(2)+"",We,Me,oe,pe,et="Sphere velocity",Ge,ke,Te=u[2].sphereVel.x.toFixed(2)+"",Be,He,Ce,Ee=u[2].sphereVel.y.toFixed(2)+"",Ne,K,qe,tt;return s=new Pe({props:{sketch:u[5]}}),d=new Lt({props:{onShoot:u[6]}}),j=new Ft({props:{world:u[3]}}),{c(){e=b("div"),q(s.$$.fragment),n=E(),t=b("div"),l=b("button"),f=X(o),c=X(" pause on collision"),r=E(),i=b("button"),v=X(a),m=E(),p=b("button"),p.textContent=_,k=E(),q(d.$$.fragment),w=E(),q(j.$$.fragment),O=E(),B=b("table"),F=b("tbody"),I=b("tr"),J=b("th"),J.textContent=Y,U=E(),T=b("td"),G=X(D),re=E(),ie=b("td"),fe=X(te),Re=E(),ne=b("tr"),he=b("th"),he.textContent=Ze,Ue=E(),be=b("td"),De=X($e),Xe=E(),we=b("td"),We=X(xe),Me=E(),oe=b("tr"),pe=b("th"),pe.textContent=et,Ge=E(),ke=b("td"),Be=X(Te),He=E(),Ce=b("td"),Ne=X(Ee),this.h()},l(x){e=$(x,"DIV",{class:!0});var V=P(e);ee(s.$$.fragment,V),V.forEach(g),n=S(x),t=$(x,"DIV",{});var se=P(t);l=$(se,"BUTTON",{});var ze=P(l);f=M(ze,o),c=M(ze," pause on collision"),ze.forEach(g),r=S(se),i=$(se,"BUTTON",{});var nt=P(i);v=M(nt,a),nt.forEach(g),m=S(se),p=$(se,"BUTTON",{"data-svelte-h":!0}),R(p)!=="svelte-tlxueg"&&(p.textContent=_),se.forEach(g),k=S(x),ee(d.$$.fragment,x),w=S(x),ee(j.$$.fragment,x),O=S(x),B=$(x,"TABLE",{});var ot=P(B);F=$(ot,"TBODY",{});var Se=P(F);I=$(Se,"TR",{});var ge=P(I);J=$(ge,"TH",{"data-svelte-h":!0}),R(J)!=="svelte-rirgm4"&&(J.textContent=Y),U=S(ge),T=$(ge,"TD",{});var st=P(T);G=M(st,D),st.forEach(g),re=S(ge),ie=$(ge,"TD",{});var rt=P(ie);fe=M(rt,te),rt.forEach(g),ge.forEach(g),Re=S(Se),ne=$(Se,"TR",{});var de=P(ne);he=$(de,"TH",{"data-svelte-h":!0}),R(he)!=="svelte-1y1nif6"&&(he.textContent=Ze),Ue=S(de),be=$(de,"TD",{});var it=P(be);De=M(it,$e),it.forEach(g),Xe=S(de),we=$(de,"TD",{});var lt=P(we);We=M(lt,xe),lt.forEach(g),Me=S(de),de.forEach(g),oe=$(Se,"TR",{});var ye=P(oe);pe=$(ye,"TH",{"data-svelte-h":!0}),R(pe)!=="svelte-1uw1fs2"&&(pe.textContent=et),Ge=S(ye),ke=$(ye,"TD",{});var ct=P(ke);Be=M(ct,Te),ct.forEach(g),He=S(ye),Ce=$(ye,"TD",{});var at=P(Ce);Ne=M(at,Ee),at.forEach(g),ye.forEach(g),Se.forEach(g),ot.forEach(g),this.h()},h(){N(e,"class","d-flex justify-content-center")},m(x,V){C(x,e,V),z(s,e,null),C(x,n,V),C(x,t,V),y(t,l),y(l,f),y(l,c),y(t,r),y(t,i),y(i,v),y(t,m),y(t,p),C(x,k,V),z(d,x,V),C(x,w,V),z(j,x,V),C(x,O,V),C(x,B,V),y(B,F),y(F,I),y(I,J),y(I,U),y(I,T),y(T,G),y(I,re),y(I,ie),y(ie,fe),y(F,Re),y(F,ne),y(ne,he),y(ne,Ue),y(ne,be),y(be,De),y(ne,Xe),y(ne,we),y(we,We),y(ne,Me),y(F,oe),y(oe,pe),y(oe,Ge),y(oe,ke),y(ke,Be),y(oe,He),y(oe,Ce),y(Ce,Ne),K=!0,qe||(tt=[H(l,"click",u[7]),H(i,"click",u[8]),H(p,"click",u[4])],qe=!0)},p(x,[V]){(!K||V&1)&&o!==(o=x[0]?"Disable":"Enable")&&Z(f,o),(!K||V&2)&&a!==(a=x[1]?"Play":"Pause")&&Z(v,a);const se={};V&8&&(se.world=x[3]),j.$set(se),(!K||V&4)&&D!==(D=x[2].t+"")&&Z(G,D),(!K||V&4)&&te!==(te=x[2].frameTime+"")&&Z(fe,te),(!K||V&4)&&$e!==($e=x[2].spherePos.x.toFixed(2)+"")&&Z(De,$e),(!K||V&4)&&xe!==(xe=x[2].spherePos.y.toFixed(2)+"")&&Z(We,xe),(!K||V&4)&&Te!==(Te=x[2].sphereVel.x.toFixed(2)+"")&&Z(Be,Te),(!K||V&4)&&Ee!==(Ee=x[2].sphereVel.y.toFixed(2)+"")&&Z(Ne,Ee)},i(x){K||(L(s.$$.fragment,x),L(d.$$.fragment,x),L(j.$$.fragment,x),K=!0)},o(x){A(s.$$.fragment,x),A(d.$$.fragment,x),A(j.$$.fragment,x),K=!1},d(x){x&&(g(e),g(n),g(t),g(k),g(w),g(O),g(B)),Q(s),Q(d,x),Q(j,x),qe=!1,Qe(tt)}}}const Le=60;function Rt(u,e,s){console.clear();let n=!1,t=!1,l={t:"0",frameTime:"0",spherePos:new h(0,0),sphereVel:new h(0,0),ballIsColliding:!1},o,f;const c=()=>{s(3,o=new Oe({dimensions:new h(15,15),reporter:w=>{var j;s(2,l.t=(j=w==null?void 0:w.t)==null?void 0:j.toFixed(1),l),l.spherePos.copy(f.position).unfloat(),l.sphereVel.copy(f.velocity).unfloat(),s(2,l.frameTime=w.frameTime.toFixed(2),l),s(2,l),s(2,l.ballIsColliding=f.data.isColliding,l),n&&f.data.isColliding&&!t&&s(1,t=!0)},enableGravity:!0}));const d=Yt();f=d.sphere;for(const w of d.objects)o.addObject(w)},r=d=>typeof d=="number"?d*Le:d.clone().multiplyScalar(Le),i=d=>typeof d=="number"?d/Le:d.clone().divideScalar(Le),a=(d,w)=>{for(const j of w.objects){d.stroke(j.data.isColliding?"red":"white");const O=d.map(j.position.x,0,w.dimensions.x,0,d.width),B=d.map(j.position.y,0,w.dimensions.y,d.height,0);if(j.geometry.type==="sphere"){const F=r(j.geometry.r*2);d.strokeWeight(F),d.point(O,B)}if(j.geometry.type==="line"){const F=O+d.map(j.geometry.vector.x,0,w.dimensions.x,0,d.width),I=B-d.map(j.geometry.vector.y,0,w.dimensions.y,0,d.height);d.strokeWeight(2),d.line(O,B,F,I)}}};let v;const m=d=>{d.setup=()=>{v=d,c();const O=r(o.dimensions);d.createCanvas(O.x,O.y),d.background(0),d.fill(255),d.stroke(255),c()},d.draw=()=>{d.background(0),yt(d)?f.fixed=!0:f.fixed=!1,t||o.step(),a(d,o),j(d)};let w;d.mousePressed=()=>{Ae(d)&&(w=i(new h(d.mouseX,d.height-d.mouseY)),f.position.copy(w))},d.mouseReleased=()=>{if(!Ae(d)||!w)return;const O=i(new h(d.mouseX,d.height-d.mouseY)),B=w.subtract(O).multiplyScalar(3);w=void 0,f.velocity.copy(B)};const j=O=>{if(!w)return;O.stroke("blue"),O.strokeWeight(2);const B=r(w);O.line(B.x,O.height-B.y,O.mouseX,O.mouseY)}},p=d=>{d.multiplyScalar(1e4),o.applyForce(f,d)};return je(()=>{v==null||v.remove()}),[n,t,l,o,c,m,p,()=>s(0,n=!n),()=>s(1,t=!t)]}class Ut extends ae{constructor(e){super(),ue(this,e,Rt,At,ce,{})}}function dt(u,e,s){const n=u.slice();return n[1]=e[s],n}function mt(u,e,s){const n=u.slice();return n[1]=e[s],n}function Xt(u){let e=u[1].title+"",s;return{c(){s=X(e)},l(n){s=M(n,e)},m(n,t){C(n,s,t)},p:me,d(n){n&&g(s)}}}function ht(u){let e,s;return e=new $t({props:{$$slots:{default:[Xt]},$$scope:{ctx:u}}}),{c(){q(e.$$.fragment)},l(n){ee(e.$$.fragment,n)},m(n,t){z(e,n,t),s=!0},p(n,t){const l={};t&64&&(l.$$scope={dirty:t,ctx:n}),e.$set(l)},i(n){s||(L(e.$$.fragment,n),s=!0)},o(n){A(e.$$.fragment,n),s=!1},d(n){Q(e,n)}}}function Mt(u){let e,s,n=Ye(u[0]),t=[];for(let o=0;o<n.length;o+=1)t[o]=ht(mt(u,n,o));const l=o=>A(t[o],1,1,()=>{t[o]=null});return{c(){for(let o=0;o<t.length;o+=1)t[o].c();e=ve()},l(o){for(let f=0;f<t.length;f+=1)t[f].l(o);e=ve()},m(o,f){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(o,f);C(o,e,f),s=!0},p(o,f){if(f&1){n=Ye(o[0]);let c;for(c=0;c<n.length;c+=1){const r=mt(o,n,c);t[c]?(t[c].p(r,f),L(t[c],1)):(t[c]=ht(r),t[c].c(),L(t[c],1),t[c].m(e.parentNode,e))}for(Je(),c=n.length;c<t.length;c+=1)l(c);Ke()}},i(o){if(!s){for(let f=0;f<n.length;f+=1)L(t[f]);s=!0}},o(o){t=t.filter(Boolean);for(let f=0;f<t.length;f+=1)A(t[f]);s=!1},d(o){o&&g(e),gt(t,o)}}}function Gt(u){let e,s,n;var t=u[1].component;function l(o,f){return{}}return t&&(e=ut(t,l())),{c(){e&&q(e.$$.fragment),s=E()},l(o){e&&ee(e.$$.fragment,o),s=S(o)},m(o,f){e&&z(e,o,f),C(o,s,f),n=!0},p(o,f){if(t!==(t=o[1].component)){if(e){Je();const c=e;A(c.$$.fragment,1,0,()=>{Q(c,1)}),Ke()}t?(e=ut(t,l()),q(e.$$.fragment),L(e.$$.fragment,1),z(e,s.parentNode,s)):e=null}},i(o){n||(e&&L(e.$$.fragment,o),n=!0)},o(o){e&&A(e.$$.fragment,o),n=!1},d(o){o&&g(s),e&&Q(e,o)}}}function pt(u){let e,s;return e=new bt({props:{$$slots:{default:[Gt]},$$scope:{ctx:u}}}),{c(){q(e.$$.fragment)},l(n){ee(e.$$.fragment,n)},m(n,t){z(e,n,t),s=!0},p(n,t){const l={};t&64&&(l.$$scope={dirty:t,ctx:n}),e.$set(l)},i(n){s||(L(e.$$.fragment,n),s=!0)},o(n){A(e.$$.fragment,n),s=!1},d(n){Q(e,n)}}}function Ht(u){let e,s,n,t;e=new _t({props:{$$slots:{default:[Mt]},$$scope:{ctx:u}}});let l=Ye(u[0]),o=[];for(let c=0;c<l.length;c+=1)o[c]=pt(dt(u,l,c));const f=c=>A(o[c],1,1,()=>{o[c]=null});return{c(){q(e.$$.fragment),s=E();for(let c=0;c<o.length;c+=1)o[c].c();n=ve()},l(c){ee(e.$$.fragment,c),s=S(c);for(let r=0;r<o.length;r+=1)o[r].l(c);n=ve()},m(c,r){z(e,c,r),C(c,s,r);for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(c,r);C(c,n,r),t=!0},p(c,r){const i={};if(r&64&&(i.$$scope={dirty:r,ctx:c}),e.$set(i),r&1){l=Ye(c[0]);let a;for(a=0;a<l.length;a+=1){const v=dt(c,l,a);o[a]?(o[a].p(v,r),L(o[a],1)):(o[a]=pt(v),o[a].c(),L(o[a],1),o[a].m(n.parentNode,n))}for(Je(),a=l.length;a<o.length;a+=1)f(a);Ke()}},i(c){if(!t){L(e.$$.fragment,c);for(let r=0;r<l.length;r+=1)L(o[r]);t=!0}},o(c){A(e.$$.fragment,c),o=o.filter(Boolean);for(let r=0;r<o.length;r+=1)A(o[r]);t=!1},d(c){c&&(g(s),g(n)),Q(e,c),gt(o,c)}}}function qt(u){let e,s;return e=new vt({props:{$$slots:{default:[Ht]},$$scope:{ctx:u}}}),{c(){q(e.$$.fragment)},l(n){ee(e.$$.fragment,n)},m(n,t){z(e,n,t),s=!0},p(n,[t]){const l={};t&64&&(l.$$scope={dirty:t,ctx:n}),e.$set(l)},i(n){s||(L(e.$$.fragment,n),s=!0)},o(n){A(e.$$.fragment,n),s=!1},d(n){Q(e,n)}}}function zt(u){return[[{title:"Obstacles",component:Ut},{title:"Test collisions 3",component:Wt},{title:"Test collisions 2",component:Pt},{title:"Test collisions",component:Et},{title:"Test engine",component:kt}]]}class tn extends ae{constructor(e){super(),ue(this,e,zt,qt,ce,{})}}export{tn as component};
