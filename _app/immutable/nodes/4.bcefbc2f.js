import{s as fe,f as _,a as E,l as X,g as w,h as C,d as p,c as S,m as G,u as z,j as W,i as T,y as h,L as Q,n as K,M as je,z as $e,e as Ee,P as ve,Q as Se,O as Ge,E as vt,q as ft}from"../chunks/scheduler.e421d989.js";import{S as de,i as me,b as Z,d as oe,m as ee,a as R,t as q,e as te,g as Ze,c as et}from"../chunks/index.52486247.js";import{e as Ye}from"../chunks/each.e59479a4.js";import{P as Oe,V as f,e as He,m as bt,a as Xe,T as wt,b as $t,c as xt,d as Tt}from"../chunks/p5utils.1e02467a.js";import{W as Pe,c as x}from"../chunks/PhysicObject.57929aea.js";function kt(i){let e,r,s,n,l=i[0][i[0].length-1]+"",t,u,o,c="New ball",d,a,$;return r=new Oe({props:{sketch:i[2]}}),{c(){e=_("div"),Z(r.$$.fragment),s=E(),n=_("p"),t=X(l),u=E(),o=_("button"),o.textContent=c,this.h()},l(g){e=w(g,"DIV",{class:!0});var v=C(e);oe(r.$$.fragment,v),v.forEach(p),s=S(g),n=w(g,"P",{});var y=C(n);t=G(y,l),y.forEach(p),u=S(g),o=w(g,"BUTTON",{"data-svelte-h":!0}),z(o)!=="svelte-1jwbm46"&&(o.textContent=c),this.h()},h(){W(e,"class","d-flex justify-content-center")},m(g,v){T(g,e,v),ee(r,e,null),T(g,s,v),T(g,n,v),h(n,t),T(g,u,v),T(g,o,v),d=!0,a||($=Q(o,"click",i[1]),a=!0)},p(g,[v]){(!d||v&1)&&l!==(l=g[0][g[0].length-1]+"")&&K(t,l)},i(g){d||(R(r.$$.fragment,g),d=!0)},o(g){q(r.$$.fragment,g),d=!1},d(g){g&&(p(e),p(s),p(n),p(u),p(o)),te(r),a=!1,$()}}}function Ct(i,e,r){console.clear();let s=[];const n=c=>{const d=c.objects[c.objects.length-1],a=d.position.clone().toFixed(2),$=d.velocity.clone().toFixed(2);s.push(`${c.t.toFixed(2)} - pos: ${a} - vel: ${$}`),s.length>50&&s.shift(),r(0,s)},l=new Pe({reporter:n,enableGravity:!0}),t=()=>{for(;l.objects.length;)l.objects.pop();const c=x({geometry:{type:"line",vector:new f(100,0)},position:new f(0,0),fixed:!0});l.addObject(c);for(let d=0;d<1;d++){const a=x({geometry:{type:"sphere",r:5},position:new f(20,50),velocity:new f(Math.random()*5-2.5,Math.random()*20)});l.addObject(a)}};let u;const o=c=>{c.setup=()=>{u=c,c.createCanvas(900,600),c.background(0),c.fill(255),c.stroke(255),t()},c.draw=()=>{c.background(0),l.step();for(const d of l.objects){const a=c.map(d.position.x,0,l.dimensions.x,0,c.width),$=c.map(d.position.y,0,l.dimensions.y,c.height,0);if(d.geometry.type==="sphere"&&(c.strokeWeight(d.geometry.r*2),c.point(a,$)),d.geometry.type==="line"){const g=a+c.map(d.geometry.vector.x,0,l.dimensions.x,0,c.width),v=$+c.map(d.geometry.vector.y,0,l.dimensions.y,0,c.height);c.strokeWeight(2),c.line(a,$,g,v)}}}};return je(()=>{u==null||u.remove()}),[s,t,o]}class Et extends de{constructor(e){super(),me(this,e,Ct,kt,fe,{})}}function St(i){let e,r,s,n,l=i[0][i[0].length-1]+"",t,u,o,c="New ball",d,a,$;return r=new Oe({props:{sketch:i[2]}}),{c(){e=_("div"),Z(r.$$.fragment),s=E(),n=_("p"),t=X(l),u=E(),o=_("button"),o.textContent=c,this.h()},l(g){e=w(g,"DIV",{class:!0});var v=C(e);oe(r.$$.fragment,v),v.forEach(p),s=S(g),n=w(g,"P",{});var y=C(n);t=G(y,l),y.forEach(p),u=S(g),o=w(g,"BUTTON",{"data-svelte-h":!0}),z(o)!=="svelte-1jwbm46"&&(o.textContent=c),this.h()},h(){W(e,"class","d-flex justify-content-center")},m(g,v){T(g,e,v),ee(r,e,null),T(g,s,v),T(g,n,v),h(n,t),T(g,u,v),T(g,o,v),d=!0,a||($=Q(o,"click",i[1]),a=!0)},p(g,[v]){(!d||v&1)&&l!==(l=g[0][g[0].length-1]+"")&&K(t,l)},i(g){d||(R(r.$$.fragment,g),d=!0)},o(g){q(r.$$.fragment,g),d=!1},d(g){g&&(p(e),p(s),p(n),p(u),p(o)),te(r),a=!1,$()}}}const Me=6;function jt(i,e,r){console.clear();let s=[];const n=a=>{const $=a.objects[a.objects.length-1],g=$.position.clone().toFixed(2),v=$.velocity.clone().toFixed(2);s.push(`${a.t.toFixed(2)} - pos: ${g} - vel: ${v}`),s.length>50&&s.shift(),r(0,s)},l=new Pe({reporter:n,enableGravity:!0});let t,u;const o=()=>{for(;l.objects.length;)l.objects.pop();u=x({geometry:{type:"line",vector:new f(40,40)},position:new f(30,30),fixed:!0}),l.addObject(u),t=x({geometry:{type:"sphere",r:10},position:new f(20,50),velocity:new f(2.5,2.5),fixed:!0}),l.addObject(t)};let c;const d=a=>{const $=y=>typeof y=="number"?y*Me:y.clone().multiplyScalar(Me),g=y=>typeof y=="number"?y/Me:y.clone().divideScalar(Me);a.setup=()=>{c=a;const y=$(l.dimensions);a.createCanvas(y.x,y.y),a.background(0),a.fill(255),a.stroke(255),o()};let v;a.draw=()=>{if(a.background(0),l.step(),a.mouseIsPressed){const y=g(new f(a.mouseX,a.height-a.mouseY));if(v||(y.distance(t.position)<2?v="sphere":y.distance(u.position)<2?v="wallstart":y.distance(u.geometry.vector.clone().add(u.position))<2&&(v="wallend")),v==="sphere"&&t.position.copy(y),v==="wallstart"&&u.position.copy(y),v==="wallend"){const m=y.clone().subtract(u.position);u.geometry.vector.copy(m)}}else v=void 0;for(const y of l.objects){a.stroke(t.data.isColliding?"red":"white");const m=a.map(y.position.x,0,l.dimensions.x,0,a.width),b=a.map(y.position.y,0,l.dimensions.y,a.height,0);if(y.geometry.type==="sphere"){const B=$(y.geometry.r*2);a.strokeWeight(B),a.point(m,b)}if(y.geometry.type==="line"){const B=m+a.map(y.geometry.vector.x,0,l.dimensions.x,0,a.width),j=b-a.map(y.geometry.vector.y,0,l.dimensions.y,0,a.height);a.strokeWeight(2),a.line(m,b,B,j)}}}};return je(()=>{c==null||c.remove()}),[s,o,d]}class Ot extends de{constructor(e){super(),me(this,e,jt,St,fe,{})}}function Pt(i){let e,r,s;return r=new Oe({props:{sketch:i[0]}}),{c(){e=_("div"),Z(r.$$.fragment),this.h()},l(n){e=w(n,"DIV",{class:!0});var l=C(e);oe(r.$$.fragment,l),l.forEach(p),this.h()},h(){W(e,"class","d-flex justify-content-center")},m(n,l){T(n,e,l),ee(r,e,null),s=!0},p:$e,i(n){s||(R(r.$$.fragment,n),s=!0)},o(n){q(r.$$.fragment,n),s=!1},d(n){n&&p(e),te(r)}}}const Ue=6;function Dt(i){console.clear();const e=new Pe({reporter:()=>{},enableGravity:!0});let r;const s=()=>{for(;e.objects.length;)e.objects.pop();r=x({geometry:{type:"sphere",r:5},position:new f(20,50),velocity:new f(Math.random()*5-2.5,Math.random()*20)}),e.addObject(r);const o=x({geometry:{type:"line",vector:new f(100,0)},position:new f(0,2),fixed:!0});e.addObject(o);const c=x({geometry:{type:"line",vector:new f(100,0)},position:new f(0,98),fixed:!0});e.addObject(c);const d=x({geometry:{type:"line",vector:new f(0,100)},position:new f(2,0),fixed:!0});e.addObject(d);const a=x({geometry:{type:"line",vector:new f(0,100)},position:new f(98,0),fixed:!0});e.addObject(a);const $=x({geometry:{type:"line",vector:new f(50,50)},position:new f(20,10),fixed:!0});e.addObject($)},n=o=>typeof o=="number"?o*Ue:o.clone().multiplyScalar(Ue),l=o=>typeof o=="number"?o/Ue:o.clone().divideScalar(Ue);let t;const u=o=>{o.setup=()=>{t=o;const d=n(e.dimensions);o.createCanvas(d.x,d.y),o.background(0),o.fill(255),o.stroke(255),s()},o.draw=()=>{if(o.background(0),o.mouseIsPressed){r.fixed=!0;const d=l(new f(o.mouseX,o.height-o.mouseY));r.position.copy(d)}else r.fixed=!1;e.step(),He(o,e)};let c;o.mousePressed=()=>{c=l(new f(o.mouseX,o.height-o.mouseY))},o.mouseReleased=()=>{const d=l(new f(o.mouseX,o.height-o.mouseY)),a=c.subtract(d);r.position.copy(d),r.velocity.copy(a)}};return je(()=>{t==null||t.remove()}),[u]}class Bt extends de{constructor(e){super(),me(this,e,Dt,Pt,fe,{})}}function It(i){let e,r,s,n,l,t,u,o="Gravity",c,d,a,$="Toggle",g,v,y;return r=new Oe({props:{sketch:i[1]}}),{c(){e=_("div"),Z(r.$$.fragment),s=E(),n=_("table"),l=_("tbody"),t=_("tr"),u=_("th"),u.textContent=o,c=E(),d=_("td"),a=_("button"),a.textContent=$,this.h()},l(m){e=w(m,"DIV",{class:!0});var b=C(e);oe(r.$$.fragment,b),b.forEach(p),s=S(m),n=w(m,"TABLE",{});var B=C(n);l=w(B,"TBODY",{});var j=C(l);t=w(j,"TR",{});var N=C(t);u=w(N,"TH",{"data-svelte-h":!0}),z(u)!=="svelte-vy75us"&&(u.textContent=o),c=S(N),d=w(N,"TD",{});var I=C(d);a=w(I,"BUTTON",{"data-svelte-h":!0}),z(a)!=="svelte-18lc94l"&&(a.textContent=$),I.forEach(p),N.forEach(p),j.forEach(p),B.forEach(p),this.h()},h(){W(e,"class","d-flex justify-content-center")},m(m,b){T(m,e,b),ee(r,e,null),T(m,s,b),T(m,n,b),h(n,l),h(l,t),h(t,u),h(t,c),h(t,d),h(d,a),g=!0,v||(y=Q(a,"click",i[2]),v=!0)},p:$e,i(m){g||(R(r.$$.fragment,m),g=!0)},o(m){q(r.$$.fragment,m),g=!1},d(m){m&&(p(e),p(s),p(n)),te(r),v=!1,y()}}}const Ae=6;function Nt(i){console.clear();const e=new Pe({reporter:()=>{},enableGravity:!0});let r;const s=()=>{for(;e.objects.length;)e.objects.pop();const c=x({geometry:{type:"line",vector:new f(100,0)},position:new f(0,0),fixed:!0});e.addObject(c);const d=x({geometry:{type:"line",vector:new f(100,0)},position:new f(0,100),fixed:!0});e.addObject(d);const a=x({geometry:{type:"line",vector:new f(0,100)},position:new f(0,0),fixed:!0});e.addObject(a);const $=x({geometry:{type:"line",vector:new f(0,100)},position:new f(100,0),fixed:!0});e.addObject($);const g=x({geometry:{type:"line",vector:new f(50,50)},position:new f(20,10),fixed:!0});e.addObject(g),r=x({geometry:{type:"sphere",r:2},position:new f(20,50),velocity:new f(Math.random()*5-2.5,Math.random()*20)}),e.addObject(r)},n=c=>typeof c=="number"?c*Ae:c.clone().multiplyScalar(Ae),l=c=>typeof c=="number"?c/Ae:c.clone().divideScalar(Ae);let t;const u=c=>{c.setup=()=>{t=c;const a=n(e.dimensions);c.createCanvas(a.x,a.y),c.background(0),c.fill(255),c.stroke(255),s()},c.draw=()=>{if(c.background(0),bt(c)){r.fixed=!0;const a=l(new f(c.mouseX,c.height-c.mouseY));r.position.copy(a)}else r.fixed=!1;e.step(),He(c,e)};let d;c.mousePressed=()=>{Xe(c)&&(d=l(new f(c.mouseX,c.height-c.mouseY)))},c.mouseReleased=()=>{if(!Xe(c))return;const a=l(new f(c.mouseX,c.height-c.mouseY)),$=d.subtract(a);r.position.copy(a),r.velocity.copy($)}};return je(()=>{t==null||t.remove()}),[e,u,()=>e.toggleGravity()]}class Ft extends de{constructor(e){super(),me(this,e,Nt,It,fe,{})}}function dt(i){let e,r,s,n,l="dt",t,u,o,c,d,a,$="drag",g,v,y,m,b,B,j="gravity enabled",N,I,F,V,J;return{c(){e=_("table"),r=_("tbody"),s=_("tr"),n=_("th"),n.textContent=l,t=E(),u=_("td"),o=_("input"),c=E(),d=_("tr"),a=_("th"),a.textContent=$,g=E(),v=_("td"),y=_("input"),m=E(),b=_("tr"),B=_("th"),B.textContent=j,N=E(),I=_("td"),F=_("input"),this.h()},l(L){e=w(L,"TABLE",{});var A=C(e);r=w(A,"TBODY",{});var k=C(r);s=w(k,"TR",{});var D=C(s);n=w(D,"TH",{"data-svelte-h":!0}),z(n)!=="svelte-16dheti"&&(n.textContent=l),t=S(D),u=w(D,"TD",{});var Y=C(u);o=w(Y,"INPUT",{type:!0,min:!0,max:!0,step:!0}),Y.forEach(p),D.forEach(p),c=S(k),d=w(k,"TR",{});var ne=C(d);a=w(ne,"TH",{"data-svelte-h":!0}),z(a)!=="svelte-2hq5g"&&(a.textContent=$),g=S(ne),v=w(ne,"TD",{});var se=C(v);y=w(se,"INPUT",{type:!0,min:!0,max:!0,step:!0}),se.forEach(p),ne.forEach(p),m=S(k),b=w(k,"TR",{});var H=C(b);B=w(H,"TH",{"data-svelte-h":!0}),z(B)!=="svelte-ic0r87"&&(B.textContent=j),N=S(H),I=w(H,"TD",{});var ie=C(I);F=w(ie,"INPUT",{type:!0}),ie.forEach(p),H.forEach(p),k.forEach(p),A.forEach(p),this.h()},h(){W(o,"type","number"),W(o,"min","0"),W(o,"max","0.5"),W(o,"step","0.001"),W(y,"type","number"),W(y,"min","0"),W(y,"max","0.01"),W(y,"step","0.001"),W(F,"type","checkbox")},m(L,A){T(L,e,A),h(e,r),h(r,s),h(s,n),h(s,t),h(s,u),h(u,o),ve(o,i[0].dt),h(r,c),h(r,d),h(d,a),h(d,g),h(d,v),h(v,y),ve(y,i[0].drag),h(r,m),h(r,b),h(b,B),h(b,N),h(b,I),h(I,F),F.checked=i[0].gravityEnabled,V||(J=[Q(o,"input",i[1]),Q(y,"input",i[2]),Q(F,"change",i[3])],V=!0)},p(L,A){A&1&&Se(o.value)!==L[0].dt&&ve(o,L[0].dt),A&1&&Se(y.value)!==L[0].drag&&ve(y,L[0].drag),A&1&&(F.checked=L[0].gravityEnabled)},d(L){L&&p(e),V=!1,Ge(J)}}}function Wt(i){let e,r="Engine settings",s,n,l=i[0]&&dt(i);return{c(){e=_("p"),e.textContent=r,s=E(),l&&l.c(),n=Ee(),this.h()},l(t){e=w(t,"P",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-gf3gek"&&(e.textContent=r),s=S(t),l&&l.l(t),n=Ee(),this.h()},h(){W(e,"class","title svelte-g74uk9")},m(t,u){T(t,e,u),T(t,s,u),l&&l.m(t,u),T(t,n,u)},p(t,[u]){t[0]?l?l.p(t,u):(l=dt(t),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},i:$e,o:$e,d(t){t&&(p(e),p(s),p(n)),l&&l.d(t)}}}function Vt(i,e,r){let{world:s}=e;function n(){s.dt=Se(this.value),r(0,s)}function l(){s.drag=Se(this.value),r(0,s)}function t(){s.gravityEnabled=this.checked,r(0,s)}return i.$$set=u=>{"world"in u&&r(0,s=u.world)},[s,n,l,t]}class _t extends de{constructor(e){super(),me(this,e,Vt,Wt,fe,{world:0})}}function Lt(i){let e,r="Shooter",s,n,l,t="Angle",u,o,c,d,a,$,g,v,y="Magnitude",m,b,B,j,N,I,F,V,J="Shoot",L,A;return{c(){e=_("p"),e.textContent=r,s=E(),n=_("span"),l=_("label"),l.textContent=t,u=E(),o=_("input"),c=E(),d=X(i[0]),a=X(" deg"),$=E(),g=_("span"),v=_("label"),v.textContent=y,m=E(),b=_("input"),B=E(),j=X(i[1]),N=E(),I=_("br"),F=E(),V=_("button"),V.textContent=J,this.h()},l(k){e=w(k,"P",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-198ugk3"&&(e.textContent=r),s=S(k),n=w(k,"SPAN",{});var D=C(n);l=w(D,"LABEL",{for:!0,"data-svelte-h":!0}),z(l)!=="svelte-lab87n"&&(l.textContent=t),u=S(D),o=w(D,"INPUT",{id:!0,type:!0,min:!0,max:!0}),c=S(D),d=G(D,i[0]),a=G(D," deg"),D.forEach(p),$=S(k),g=w(k,"SPAN",{});var Y=C(g);v=w(Y,"LABEL",{for:!0,"data-svelte-h":!0}),z(v)!=="svelte-1vc5oxa"&&(v.textContent=y),m=S(Y),b=w(Y,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0}),B=S(Y),j=G(Y,i[1]),Y.forEach(p),N=S(k),I=w(k,"BR",{}),F=S(k),V=w(k,"BUTTON",{"data-svelte-h":!0}),z(V)!=="svelte-8jpwxr"&&(V.textContent=J),this.h()},h(){W(e,"class","title svelte-g74uk9"),W(l,"for","angleSlider"),W(o,"id","angleSlider"),W(o,"type","range"),W(o,"min","0"),W(o,"max","360"),W(v,"for","magSlider"),W(b,"id","magSlider"),W(b,"type","range"),W(b,"min","0"),W(b,"max","1"),W(b,"step","0.01")},m(k,D){T(k,e,D),T(k,s,D),T(k,n,D),h(n,l),h(n,u),h(n,o),ve(o,i[0]),h(n,c),h(n,d),h(n,a),T(k,$,D),T(k,g,D),h(g,v),h(g,m),h(g,b),ve(b,i[1]),h(g,B),h(g,j),T(k,N,D),T(k,I,D),T(k,F,D),T(k,V,D),L||(A=[Q(o,"change",i[4]),Q(o,"input",i[4]),Q(b,"change",i[5]),Q(b,"input",i[5]),Q(V,"click",i[6])],L=!0)},p(k,[D]){D&1&&ve(o,k[0]),D&1&&K(d,k[0]),D&2&&ve(b,k[1]),D&2&&K(j,k[1])},i:$e,o:$e,d(k){k&&(p(e),p(s),p(n),p($),p(g),p(N),p(I),p(F),p(V)),L=!1,Ge(A)}}}function Mt(i,e,r){let{onShoot:s}=e,n=0,l=.5;const t=()=>{const d=new f(1,0);d.rotateDeg(n),d.multiplyScalar(l),s(d)};function u(){n=Se(this.value),r(0,n)}function o(){l=Se(this.value),r(1,l)}const c=()=>t();return i.$$set=d=>{"onShoot"in d&&r(3,s=d.onShoot)},[n,l,t,s,u,o,c]}class Ut extends de{constructor(e){super(),me(this,e,Mt,Lt,fe,{onShoot:3})}}const At=()=>{const i=[],e=x({geometry:{type:"line",vector:new f(15,0)},position:new f(0,0),fixed:!0});i.push(e);const r=x({geometry:{type:"line",vector:new f(0,100)},position:new f(0,0),fixed:!0});i.push(r);const s=x({geometry:{type:"line",vector:new f(0,100)},position:new f(15,0),fixed:!0});i.push(s);const n=x({geometry:{type:"line",vector:new f(3,-3)},position:new f(3.5,8),fixed:!0});i.push(n);const l=x({geometry:{type:"line",vector:new f(3,3)},position:new f(3.5,5),fixed:!0});i.push(l);const t=x({geometry:{type:"line",vector:new f(6,0)},position:new f(2,2),fixed:!0});i.push(t);const u=x({geometry:{type:"line",vector:new f(4,0)},position:new f(3,2.5),fixed:!0});i.push(u);const o=x({geometry:{type:"line",vector:new f(2,0)},position:new f(4,3),fixed:!0});i.push(o);const c=x({geometry:{type:"line",vector:new f(.6,0)},position:new f(4.7,3.5),fixed:!0});i.push(c);const d=x({geometry:{type:"line",vector:new f(1,0)},position:new f(10,10.1),fixed:!0});i.push(d);const a=x({geometry:{type:"line",vector:new f(0,-4)},position:new f(11,10),fixed:!0});i.push(a);const $=x({geometry:{type:"line",vector:new f(0,-4)},position:new f(11.5,10),fixed:!0});i.push($);const g=x({geometry:{type:"line",vector:new f(0,-4)},position:new f(12,10),fixed:!0});i.push(g);const v=x({geometry:{type:"line",vector:new f(1,0)},position:new f(12,10.1),fixed:!0});i.push(v);for(let m=.2;m<.5;m+=.1)for(let b=0;b<10;b++){const B=x({geometry:{type:"line",vector:new f(0,3)},position:new f(9+b*m,1),fixed:!0});i.push(B)}const y=x({geometry:{type:"sphere",r:.1},position:new f(5,10),velocity:new f(0,0)});return i.push(y),{objects:i,sphere:y}};function Rt(i){let e,r,s,n,l,t=i[0]?"Disable":"Enable",u,o,c,d,a=i[1]?"Play":"Pause",$,g,v,y="Reset",m,b,B,j,N,I,F,V,J,L="Simulation time/Frame duration",A,k,D=i[2].t+"",Y,ne,se,H=i[2].frameTime+"",ie,xe,O,M,re="Sphere position",be,he,pe=i[2].spherePos.x.toFixed(2)+"",_e,ce,ge,ye=i[2].spherePos.y.toFixed(2)+"",We,qe,ae,Te,tt="Sphere velocity",ze,De,Be=i[2].sphereVel.x.toFixed(2)+"",Ve,Qe,Ie,Ne=i[2].sphereVel.y.toFixed(2)+"",Le,le,Je,nt;return r=new Oe({props:{sketch:i[5]}}),b=new Ut({props:{onShoot:i[6]}}),j=new _t({props:{world:i[3]}}),{c(){e=_("div"),Z(r.$$.fragment),s=E(),n=_("div"),l=_("button"),u=X(t),o=X(" pause on collision"),c=E(),d=_("button"),$=X(a),g=E(),v=_("button"),v.textContent=y,m=E(),Z(b.$$.fragment),B=E(),Z(j.$$.fragment),N=E(),I=_("table"),F=_("tbody"),V=_("tr"),J=_("th"),J.textContent=L,A=E(),k=_("td"),Y=X(D),ne=E(),se=_("td"),ie=X(H),xe=E(),O=_("tr"),M=_("th"),M.textContent=re,be=E(),he=_("td"),_e=X(pe),ce=E(),ge=_("td"),We=X(ye),qe=E(),ae=_("tr"),Te=_("th"),Te.textContent=tt,ze=E(),De=_("td"),Ve=X(Be),Qe=E(),Ie=_("td"),Le=X(Ne),this.h()},l(P){e=w(P,"DIV",{class:!0});var U=C(e);oe(r.$$.fragment,U),U.forEach(p),s=S(P),n=w(P,"DIV",{});var ue=C(n);l=w(ue,"BUTTON",{});var Ke=C(l);u=G(Ke,t),o=G(Ke," pause on collision"),Ke.forEach(p),c=S(ue),d=w(ue,"BUTTON",{});var ot=C(d);$=G(ot,a),ot.forEach(p),g=S(ue),v=w(ue,"BUTTON",{"data-svelte-h":!0}),z(v)!=="svelte-tlxueg"&&(v.textContent=y),ue.forEach(p),m=S(P),oe(b.$$.fragment,P),B=S(P),oe(j.$$.fragment,P),N=S(P),I=w(P,"TABLE",{});var st=C(I);F=w(st,"TBODY",{});var Fe=C(F);V=w(Fe,"TR",{});var ke=C(V);J=w(ke,"TH",{"data-svelte-h":!0}),z(J)!=="svelte-rirgm4"&&(J.textContent=L),A=S(ke),k=w(ke,"TD",{});var rt=C(k);Y=G(rt,D),rt.forEach(p),ne=S(ke),se=w(ke,"TD",{});var lt=C(se);ie=G(lt,H),lt.forEach(p),ke.forEach(p),xe=S(Fe),O=w(Fe,"TR",{});var we=C(O);M=w(we,"TH",{"data-svelte-h":!0}),z(M)!=="svelte-1y1nif6"&&(M.textContent=re),be=S(we),he=w(we,"TD",{});var it=C(he);_e=G(it,pe),it.forEach(p),ce=S(we),ge=w(we,"TD",{});var ct=C(ge);We=G(ct,ye),ct.forEach(p),qe=S(we),we.forEach(p),ae=w(Fe,"TR",{});var Ce=C(ae);Te=w(Ce,"TH",{"data-svelte-h":!0}),z(Te)!=="svelte-1uw1fs2"&&(Te.textContent=tt),ze=S(Ce),De=w(Ce,"TD",{});var at=C(De);Ve=G(at,Be),at.forEach(p),Qe=S(Ce),Ie=w(Ce,"TD",{});var ut=C(Ie);Le=G(ut,Ne),ut.forEach(p),Ce.forEach(p),Fe.forEach(p),st.forEach(p),this.h()},h(){W(e,"class","d-flex justify-content-center")},m(P,U){T(P,e,U),ee(r,e,null),T(P,s,U),T(P,n,U),h(n,l),h(l,u),h(l,o),h(n,c),h(n,d),h(d,$),h(n,g),h(n,v),T(P,m,U),ee(b,P,U),T(P,B,U),ee(j,P,U),T(P,N,U),T(P,I,U),h(I,F),h(F,V),h(V,J),h(V,A),h(V,k),h(k,Y),h(V,ne),h(V,se),h(se,ie),h(F,xe),h(F,O),h(O,M),h(O,be),h(O,he),h(he,_e),h(O,ce),h(O,ge),h(ge,We),h(O,qe),h(F,ae),h(ae,Te),h(ae,ze),h(ae,De),h(De,Ve),h(ae,Qe),h(ae,Ie),h(Ie,Le),le=!0,Je||(nt=[Q(l,"click",i[7]),Q(d,"click",i[8]),Q(v,"click",i[4])],Je=!0)},p(P,[U]){(!le||U&1)&&t!==(t=P[0]?"Disable":"Enable")&&K(u,t),(!le||U&2)&&a!==(a=P[1]?"Play":"Pause")&&K($,a);const ue={};U&8&&(ue.world=P[3]),j.$set(ue),(!le||U&4)&&D!==(D=P[2].t+"")&&K(Y,D),(!le||U&4)&&H!==(H=P[2].frameTime+"")&&K(ie,H),(!le||U&4)&&pe!==(pe=P[2].spherePos.x.toFixed(2)+"")&&K(_e,pe),(!le||U&4)&&ye!==(ye=P[2].spherePos.y.toFixed(2)+"")&&K(We,ye),(!le||U&4)&&Be!==(Be=P[2].sphereVel.x.toFixed(2)+"")&&K(Ve,Be),(!le||U&4)&&Ne!==(Ne=P[2].sphereVel.y.toFixed(2)+"")&&K(Le,Ne)},i(P){le||(R(r.$$.fragment,P),R(b.$$.fragment,P),R(j.$$.fragment,P),le=!0)},o(P){q(r.$$.fragment,P),q(b.$$.fragment,P),q(j.$$.fragment,P),le=!1},d(P){P&&(p(e),p(s),p(n),p(m),p(B),p(N),p(I)),te(r),te(b,P),te(j,P),Je=!1,Ge(nt)}}}const Re=60;function Yt(i,e,r){console.clear();let s=!1,n=!1,l={t:"0",frameTime:"0",spherePos:new f(0,0),sphereVel:new f(0,0),ballIsColliding:!1},t,u;const o=()=>{r(3,t=new Pe({dimensions:new f(15,15),reporter:b=>{var B;r(2,l.t=(B=b==null?void 0:b.t)==null?void 0:B.toFixed(1),l),l.spherePos.copy(u.position).unfloat(),l.sphereVel.copy(u.velocity).unfloat(),r(2,l.frameTime=b.frameTime.toFixed(2),l),r(2,l),r(2,l.ballIsColliding=u.data.isColliding,l),s&&u.data.isColliding&&!n&&r(1,n=!0)},enableGravity:!0}));const m=At();u=m.sphere;for(const b of m.objects)t.addObject(b)},c=m=>typeof m=="number"?m*Re:m.clone().multiplyScalar(Re),d=m=>typeof m=="number"?m/Re:m.clone().divideScalar(Re);let a;const $=m=>{m.setup=()=>{a=m,o();const j=c(t.dimensions);m.createCanvas(j.x,j.y),m.background(0),m.fill(255),m.stroke(255),o()},m.draw=()=>{m.background(0),bt(m)?u.fixed=!0:u.fixed=!1,n||t.step(),He(m,t),B(m)};let b;m.mousePressed=()=>{Xe(m)&&(b=d(new f(m.mouseX,m.height-m.mouseY)),u.position.copy(b))},m.mouseReleased=()=>{if(!Xe(m)||!b)return;const j=d(new f(m.mouseX,m.height-m.mouseY)),N=b.subtract(j).multiplyScalar(3);b=void 0,u.velocity.copy(N)};const B=j=>{if(!b)return;j.stroke("blue"),j.strokeWeight(2);const N=c(b);j.line(N.x,j.height-N.y,j.mouseX,j.mouseY)}},g=m=>{m.multiplyScalar(1e4),t.applyForce(u,m)};return je(()=>{a==null||a.remove()}),[s,n,l,t,o,$,g,()=>r(0,s=!s),()=>r(1,n=!n)]}let Xt=class extends de{constructor(e){super(),me(this,e,Yt,Rt,fe,{})}};const Gt=()=>{const i=[],e=x({geometry:{type:"line",vector:new f(15,0)},position:new f(0,0),fixed:!0});i.push(e);const r=x({geometry:{type:"line",vector:new f(0,100)},position:new f(0,0),fixed:!0});i.push(r);const s=x({geometry:{type:"line",vector:new f(0,100)},position:new f(15,0),fixed:!0});i.push(s);const n=x({geometry:{type:"line",vector:new f(3,-3)},position:new f(3.5,8),fixed:!0});i.push(n);const l=x({geometry:{type:"line",vector:new f(3,3)},position:new f(3.5,5),fixed:!0});i.push(l);const t=x({geometry:{type:"line",vector:new f(6,0)},position:new f(2,2),fixed:!0});i.push(t);const u=x({geometry:{type:"line",vector:new f(4,0)},position:new f(3,2.5),fixed:!0});i.push(u);const o=x({geometry:{type:"line",vector:new f(2,0)},position:new f(4,3),fixed:!0});i.push(o);const c=x({geometry:{type:"line",vector:new f(.6,0)},position:new f(4.7,3.5),fixed:!0});i.push(c);const d=x({geometry:{type:"line",vector:new f(1,0)},position:new f(10,10.1),fixed:!0});i.push(d);const a=x({geometry:{type:"line",vector:new f(0,-4)},position:new f(11,10),fixed:!0});i.push(a);const $=x({geometry:{type:"line",vector:new f(0,-4)},position:new f(11.5,10),fixed:!0});i.push($);const g=x({geometry:{type:"line",vector:new f(0,-4)},position:new f(12,10),fixed:!0});i.push(g);const v=x({geometry:{type:"line",vector:new f(1,0)},position:new f(12,10.1),fixed:!0});i.push(v);for(let y=.2;y<.5;y+=.1)for(let m=0;m<10;m++){const b=x({geometry:{type:"line",vector:new f(0,3)},position:new f(9+m*y,1),fixed:!0});i.push(b)}return{objects:i}};function Ht(i){let e,r,s,n,l,t=i[0]?"Disable":"Enable",u,o,c,d,a=i[1]?"Play":"Pause",$,g,v,y="Reset",m,b,B,j,N,I,F,V="Simulation time/Frame duration",J,L,A=i[2].t+"",k,D,Y,ne=i[2].frameTime+"",se,H,ie,xe;return r=new Oe({props:{sketch:i[5]}}),b=new _t({props:{world:i[3]}}),{c(){e=_("div"),Z(r.$$.fragment),s=E(),n=_("div"),l=_("button"),u=X(t),o=X(" pause on collision"),c=E(),d=_("button"),$=X(a),g=E(),v=_("button"),v.textContent=y,m=E(),Z(b.$$.fragment),B=E(),j=_("table"),N=_("tbody"),I=_("tr"),F=_("th"),F.textContent=V,J=E(),L=_("td"),k=X(A),D=E(),Y=_("td"),se=X(ne),this.h()},l(O){e=w(O,"DIV",{class:!0});var M=C(e);oe(r.$$.fragment,M),M.forEach(p),s=S(O),n=w(O,"DIV",{});var re=C(n);l=w(re,"BUTTON",{});var be=C(l);u=G(be,t),o=G(be," pause on collision"),be.forEach(p),c=S(re),d=w(re,"BUTTON",{});var he=C(d);$=G(he,a),he.forEach(p),g=S(re),v=w(re,"BUTTON",{"data-svelte-h":!0}),z(v)!=="svelte-tlxueg"&&(v.textContent=y),re.forEach(p),m=S(O),oe(b.$$.fragment,O),B=S(O),j=w(O,"TABLE",{});var pe=C(j);N=w(pe,"TBODY",{});var _e=C(N);I=w(_e,"TR",{});var ce=C(I);F=w(ce,"TH",{"data-svelte-h":!0}),z(F)!=="svelte-rirgm4"&&(F.textContent=V),J=S(ce),L=w(ce,"TD",{});var ge=C(L);k=G(ge,A),ge.forEach(p),D=S(ce),Y=w(ce,"TD",{});var ye=C(Y);se=G(ye,ne),ye.forEach(p),ce.forEach(p),_e.forEach(p),pe.forEach(p),this.h()},h(){W(e,"class","d-flex justify-content-center")},m(O,M){T(O,e,M),ee(r,e,null),T(O,s,M),T(O,n,M),h(n,l),h(l,u),h(l,o),h(n,c),h(n,d),h(d,$),h(n,g),h(n,v),T(O,m,M),ee(b,O,M),T(O,B,M),T(O,j,M),h(j,N),h(N,I),h(I,F),h(I,J),h(I,L),h(L,k),h(I,D),h(I,Y),h(Y,se),H=!0,ie||(xe=[Q(l,"click",i[6]),Q(d,"click",i[7]),Q(v,"click",i[4])],ie=!0)},p(O,[M]){(!H||M&1)&&t!==(t=O[0]?"Disable":"Enable")&&K(u,t),(!H||M&2)&&a!==(a=O[1]?"Play":"Pause")&&K($,a);const re={};M&8&&(re.world=O[3]),b.$set(re),(!H||M&4)&&A!==(A=O[2].t+"")&&K(k,A),(!H||M&4)&&ne!==(ne=O[2].frameTime+"")&&K(se,ne)},i(O){H||(R(r.$$.fragment,O),R(b.$$.fragment,O),H=!0)},o(O){q(r.$$.fragment,O),q(b.$$.fragment,O),H=!1},d(O){O&&(p(e),p(s),p(n),p(m),p(B),p(j)),te(r),te(b,O),ie=!1,Ge(xe)}}}const mt=60;function qt(i,e,r){console.clear();let s=!1,n=!1,l={t:"0",frameTime:"0"},t;const u=()=>{clearInterval(a),a=setInterval(o,100),r(3,t=new Pe({dimensions:new f(15,15),reporter:m=>{var b;r(2,l.t=(b=m==null?void 0:m.t)==null?void 0:b.toFixed(1),l),r(2,l.frameTime=m.frameTime.toFixed(2),l),r(2,l)},enableGravity:!0}));const y=Gt();for(const m of y.objects)t.addObject(m)},o=()=>{console.log("add ball");const y=Math.random()*t.dimensions.x,m=Math.random()*t.dimensions.y,b=-5+Math.random()*10,B=-5+Math.random()*10,j=x({geometry:{type:"sphere",r:.1},position:new f(y,m),velocity:new f(b,B)});t.addObject(j)},c=y=>typeof y=="number"?y*mt:y.clone().multiplyScalar(mt);let d,a;const $=y=>{y.setup=()=>{d=y,u();const m=c(t.dimensions);y.createCanvas(m.x,m.y),y.background(0),y.fill(255),y.stroke(255),u()},y.draw=()=>{y.background(0),n||t.step(),He(y,t)}};return je(()=>{d==null||d.remove(),clearInterval(a)}),[s,n,l,t,u,$,()=>r(0,s=!s),()=>r(1,n=!n)]}class zt extends de{constructor(e){super(),me(this,e,qt,Ht,fe,{})}}function ht(i,e,r){const s=i.slice();return s[1]=e[r],s}function pt(i,e,r){const s=i.slice();return s[1]=e[r],s}function Qt(i){let e=i[1].title+"",r;return{c(){r=X(e)},l(s){r=G(s,e)},m(s,n){T(s,r,n)},p:$e,d(s){s&&p(r)}}}function gt(i){let e,r;return e=new Tt({props:{$$slots:{default:[Qt]},$$scope:{ctx:i}}}),{c(){Z(e.$$.fragment)},l(s){oe(e.$$.fragment,s)},m(s,n){ee(e,s,n),r=!0},p(s,n){const l={};n&64&&(l.$$scope={dirty:n,ctx:s}),e.$set(l)},i(s){r||(R(e.$$.fragment,s),r=!0)},o(s){q(e.$$.fragment,s),r=!1},d(s){te(e,s)}}}function Jt(i){let e,r,s=Ye(i[0]),n=[];for(let t=0;t<s.length;t+=1)n[t]=gt(pt(i,s,t));const l=t=>q(n[t],1,1,()=>{n[t]=null});return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=Ee()},l(t){for(let u=0;u<n.length;u+=1)n[u].l(t);e=Ee()},m(t,u){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,u);T(t,e,u),r=!0},p(t,u){if(u&1){s=Ye(t[0]);let o;for(o=0;o<s.length;o+=1){const c=pt(t,s,o);n[o]?(n[o].p(c,u),R(n[o],1)):(n[o]=gt(c),n[o].c(),R(n[o],1),n[o].m(e.parentNode,e))}for(Ze(),o=s.length;o<n.length;o+=1)l(o);et()}},i(t){if(!r){for(let u=0;u<s.length;u+=1)R(n[u]);r=!0}},o(t){n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)q(n[u]);r=!1},d(t){t&&p(e),vt(n,t)}}}function Kt(i){let e,r,s;var n=i[1].component;function l(t,u){return{}}return n&&(e=ft(n,l())),{c(){e&&Z(e.$$.fragment),r=E()},l(t){e&&oe(e.$$.fragment,t),r=S(t)},m(t,u){e&&ee(e,t,u),T(t,r,u),s=!0},p(t,u){if(n!==(n=t[1].component)){if(e){Ze();const o=e;q(o.$$.fragment,1,0,()=>{te(o,1)}),et()}n?(e=ft(n,l()),Z(e.$$.fragment),R(e.$$.fragment,1),ee(e,r.parentNode,r)):e=null}},i(t){s||(e&&R(e.$$.fragment,t),s=!0)},o(t){e&&q(e.$$.fragment,t),s=!1},d(t){t&&p(r),e&&te(e,t)}}}function yt(i){let e,r;return e=new xt({props:{$$slots:{default:[Kt]},$$scope:{ctx:i}}}),{c(){Z(e.$$.fragment)},l(s){oe(e.$$.fragment,s)},m(s,n){ee(e,s,n),r=!0},p(s,n){const l={};n&64&&(l.$$scope={dirty:n,ctx:s}),e.$set(l)},i(s){r||(R(e.$$.fragment,s),r=!0)},o(s){q(e.$$.fragment,s),r=!1},d(s){te(e,s)}}}function Zt(i){let e,r,s,n;e=new $t({props:{$$slots:{default:[Jt]},$$scope:{ctx:i}}});let l=Ye(i[0]),t=[];for(let o=0;o<l.length;o+=1)t[o]=yt(ht(i,l,o));const u=o=>q(t[o],1,1,()=>{t[o]=null});return{c(){Z(e.$$.fragment),r=E();for(let o=0;o<t.length;o+=1)t[o].c();s=Ee()},l(o){oe(e.$$.fragment,o),r=S(o);for(let c=0;c<t.length;c+=1)t[c].l(o);s=Ee()},m(o,c){ee(e,o,c),T(o,r,c);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(o,c);T(o,s,c),n=!0},p(o,c){const d={};if(c&64&&(d.$$scope={dirty:c,ctx:o}),e.$set(d),c&1){l=Ye(o[0]);let a;for(a=0;a<l.length;a+=1){const $=ht(o,l,a);t[a]?(t[a].p($,c),R(t[a],1)):(t[a]=yt($),t[a].c(),R(t[a],1),t[a].m(s.parentNode,s))}for(Ze(),a=l.length;a<t.length;a+=1)u(a);et()}},i(o){if(!n){R(e.$$.fragment,o);for(let c=0;c<l.length;c+=1)R(t[c]);n=!0}},o(o){q(e.$$.fragment,o),t=t.filter(Boolean);for(let c=0;c<t.length;c+=1)q(t[c]);n=!1},d(o){o&&(p(r),p(s)),te(e,o),vt(t,o)}}}function en(i){let e,r;return e=new wt({props:{$$slots:{default:[Zt]},$$scope:{ctx:i}}}),{c(){Z(e.$$.fragment)},l(s){oe(e.$$.fragment,s)},m(s,n){ee(e,s,n),r=!0},p(s,[n]){const l={};n&64&&(l.$$scope={dirty:n,ctx:s}),e.$set(l)},i(s){r||(R(e.$$.fragment,s),r=!0)},o(s){q(e.$$.fragment,s),r=!1},d(s){te(e,s)}}}function tn(i){return[[{title:"Obstacles2",component:zt},{title:"Obstacles",component:Xt},{title:"Test collisions 3",component:Ft},{title:"Test collisions 2",component:Bt},{title:"Test collisions",component:Ot},{title:"Test engine",component:Et}]]}class an extends de{constructor(e){super(),me(this,e,tn,en,fe,{})}}export{an as component};
