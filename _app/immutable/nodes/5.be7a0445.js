import{s as Y,f as R,a as C,g as T,h as I,d as _,c as E,u as F,j as U,i as y,y as J,L as K,z as q,M as Q,e as W,E as D,q as M,l as Z,m as ee}from"../chunks/scheduler.e421d989.js";import{S as G,i as z,b as w,d as k,m as x,a as p,t as d,e as v,g as L,c as O}from"../chunks/index.52486247.js";import{e as P}from"../chunks/each.e59479a4.js";import{V as h,P as te,m as ne,a as B,T as oe,b as se,c as re,d as ce}from"../chunks/p5utils.fe4d08ff.js";import{c as g,W as ie}from"../chunks/PhysicObject.a1f5d1d0.js";const ae=u=>{const e=[],c=u.x,t=u.y,s=1,i=5,o=1,a=6,r=.5,n=.2;for(let f=1;f<c-i;f+=c/2)for(let m=t-1;m>a;m-=t/2){const $=Math.random()*i+s,b=Math.random()*a+o,S=Math.random()*r+n;ue({x:f,y:m,w:$,h:b,topRatio:S}).forEach(A=>e.push(A))}fe(u).forEach(f=>e.push(f));const l=le();return e.push(l),{objects:e,sphere:l}},le=()=>g({geometry:{type:"sphere",r:.1},position:new h(5,10),velocity:new h(0,0)}),fe=u=>{const e=u.x,c=u.y,t=[],s=g({geometry:{type:"line",vector:new h(e,0)},position:new h(0,0),fixed:!0});t.push(s);const i=g({geometry:{type:"line",vector:new h(0,c*10)},position:new h(0,0),fixed:!0});t.push(i);const o=g({geometry:{type:"line",vector:new h(0,c*10)},position:new h(15,0),fixed:!0});return t.push(o),t},ue=u=>{const{x:e,y:c,h:t,w:s,topRatio:i}=u;if(i<0||i>1)throw new Error("topRatio must be between 0 and 1");const o=s*i/2,a=s*(1-i),r=.1,n=[],l=g({geometry:{type:"line",vector:new h(o,0)},position:new h(e,c+r),fixed:!0});n.push(l);const f=g({geometry:{type:"line",vector:new h(0,-t)},position:new h(e+o,c),fixed:!0});n.push(f);const m=g({geometry:{type:"line",vector:new h(a,0)},position:new h(e+o,c-t-r),fixed:!0});n.push(m);const $=g({geometry:{type:"line",vector:new h(a-2*r,0)},position:new h(e+o+r,c-t/2-r),fixed:!0,friction:1,restitution:0});n.push($);const b=g({geometry:{type:"line",vector:new h(0,t)},position:new h(e+o+a,c-t),fixed:!0});n.push(b);const S=g({geometry:{type:"line",vector:new h(o,0)},position:new h(e+o+a,c+r),fixed:!0});return n.push(S),n};function me(u){let e,c,t,s,i,o="Reset",a,r,n;return c=new te({props:{sketch:u[1]}}),{c(){e=R("div"),w(c.$$.fragment),t=C(),s=R("div"),i=R("button"),i.textContent=o,this.h()},l(l){e=T(l,"DIV",{class:!0});var f=I(e);k(c.$$.fragment,f),f.forEach(_),t=E(l),s=T(l,"DIV",{});var m=I(s);i=T(m,"BUTTON",{"data-svelte-h":!0}),F(i)!=="svelte-tlxueg"&&(i.textContent=o),m.forEach(_),this.h()},h(){U(e,"class","d-flex justify-content-center")},m(l,f){y(l,e,f),x(c,e,null),y(l,t,f),y(l,s,f),J(s,i),a=!0,r||(n=K(i,"click",u[0]),r=!0)},p:q,i(l){a||(p(c.$$.fragment,l),a=!0)},o(l){d(c.$$.fragment,l),a=!1},d(l){l&&(_(e),_(t),_(s)),v(c),r=!1,n()}}}const j=60;function he(u){console.clear();let e,c;const t=()=>{e=new ie({dimensions:new h(15,15),reporter:()=>{},enableGravity:!0});const n=ae(e.dimensions);c=n.sphere;for(const l of n.objects)e.addObject(l)},s=n=>typeof n=="number"?n*j:n.clone().multiplyScalar(j),i=n=>typeof n=="number"?n/j:n.clone().divideScalar(j),o=(n,l)=>{for(const f of l.objects){n.stroke(f.data.isColliding?"red":"white");const m=n.map(f.position.x,0,l.dimensions.x,0,n.width),$=n.map(f.position.y,0,l.dimensions.y,n.height,0);if(f.geometry.type==="sphere"){const b=s(f.geometry.r*2);n.strokeWeight(b),n.point(m,$)}if(f.geometry.type==="line"){const b=m+n.map(f.geometry.vector.x,0,l.dimensions.x,0,n.width),S=$-n.map(f.geometry.vector.y,0,l.dimensions.y,0,n.height);n.strokeWeight(2),n.line(m,$,b,S)}}};let a;const r=n=>{n.setup=()=>{a=n,t();const m=s(e.dimensions);n.createCanvas(m.x,m.y),n.background(0),n.fill(255),n.stroke(255),t()},n.draw=()=>{n.background(0),ne(n)?c.fixed=!0:c.fixed=!1,e.step(),o(n,e),f(n)};let l;n.mousePressed=()=>{B(n)&&(l=i(new h(n.mouseX,n.height-n.mouseY)),c.position.copy(l))},n.mouseReleased=()=>{if(!B(n)||!l)return;const m=i(new h(n.mouseX,n.height-n.mouseY)),$=l.subtract(m).multiplyScalar(3);l=void 0,c.velocity.copy($)};const f=m=>{if(!l)return;m.stroke("blue"),m.strokeWeight(2);const $=s(l);m.line($.x,m.height-$.y,m.mouseX,m.mouseY)}};return Q(()=>{a==null||a.remove()}),[t,r]}class pe extends G{constructor(e){super(),z(this,e,he,me,Y,{})}}function N(u,e,c){const t=u.slice();return t[1]=e[c],t}function V(u,e,c){const t=u.slice();return t[1]=e[c],t}function $e(u){let e=u[1].title+"",c;return{c(){c=Z(e)},l(t){c=ee(t,e)},m(t,s){y(t,c,s)},p:q,d(t){t&&_(c)}}}function H(u){let e,c;return e=new ce({props:{$$slots:{default:[$e]},$$scope:{ctx:u}}}),{c(){w(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,s){x(e,t,s),c=!0},p(t,s){const i={};s&64&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){c||(p(e.$$.fragment,t),c=!0)},o(t){d(e.$$.fragment,t),c=!1},d(t){v(e,t)}}}function de(u){let e,c,t=P(u[0]),s=[];for(let o=0;o<t.length;o+=1)s[o]=H(V(u,t,o));const i=o=>d(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=W()},l(o){for(let a=0;a<s.length;a+=1)s[a].l(o);e=W()},m(o,a){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(o,a);y(o,e,a),c=!0},p(o,a){if(a&1){t=P(o[0]);let r;for(r=0;r<t.length;r+=1){const n=V(o,t,r);s[r]?(s[r].p(n,a),p(s[r],1)):(s[r]=H(n),s[r].c(),p(s[r],1),s[r].m(e.parentNode,e))}for(L(),r=t.length;r<s.length;r+=1)i(r);O()}},i(o){if(!c){for(let a=0;a<t.length;a+=1)p(s[a]);c=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)d(s[a]);c=!1},d(o){o&&_(e),D(s,o)}}}function ge(u){let e,c,t;var s=u[1].component;function i(o,a){return{}}return s&&(e=M(s,i())),{c(){e&&w(e.$$.fragment),c=C()},l(o){e&&k(e.$$.fragment,o),c=E(o)},m(o,a){e&&x(e,o,a),y(o,c,a),t=!0},p(o,a){if(s!==(s=o[1].component)){if(e){L();const r=e;d(r.$$.fragment,1,0,()=>{v(r,1)}),O()}s?(e=M(s,i()),w(e.$$.fragment),p(e.$$.fragment,1),x(e,c.parentNode,c)):e=null}},i(o){t||(e&&p(e.$$.fragment,o),t=!0)},o(o){e&&d(e.$$.fragment,o),t=!1},d(o){o&&_(c),e&&v(e,o)}}}function X(u){let e,c;return e=new re({props:{$$slots:{default:[ge]},$$scope:{ctx:u}}}),{c(){w(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,s){x(e,t,s),c=!0},p(t,s){const i={};s&64&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){c||(p(e.$$.fragment,t),c=!0)},o(t){d(e.$$.fragment,t),c=!1},d(t){v(e,t)}}}function _e(u){let e,c,t,s;e=new se({props:{$$slots:{default:[de]},$$scope:{ctx:u}}});let i=P(u[0]),o=[];for(let r=0;r<i.length;r+=1)o[r]=X(N(u,i,r));const a=r=>d(o[r],1,1,()=>{o[r]=null});return{c(){w(e.$$.fragment),c=C();for(let r=0;r<o.length;r+=1)o[r].c();t=W()},l(r){k(e.$$.fragment,r),c=E(r);for(let n=0;n<o.length;n+=1)o[n].l(r);t=W()},m(r,n){x(e,r,n),y(r,c,n);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(r,n);y(r,t,n),s=!0},p(r,n){const l={};if(n&64&&(l.$$scope={dirty:n,ctx:r}),e.$set(l),n&1){i=P(r[0]);let f;for(f=0;f<i.length;f+=1){const m=N(r,i,f);o[f]?(o[f].p(m,n),p(o[f],1)):(o[f]=X(m),o[f].c(),p(o[f],1),o[f].m(t.parentNode,t))}for(L(),f=i.length;f<o.length;f+=1)a(f);O()}},i(r){if(!s){p(e.$$.fragment,r);for(let n=0;n<i.length;n+=1)p(o[n]);s=!0}},o(r){d(e.$$.fragment,r),o=o.filter(Boolean);for(let n=0;n<o.length;n+=1)d(o[n]);s=!1},d(r){r&&(_(c),_(t)),v(e,r),D(o,r)}}}function ye(u){let e,c;return e=new oe({props:{$$slots:{default:[_e]},$$scope:{ctx:u}}}),{c(){w(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,s){x(e,t,s),c=!0},p(t,[s]){const i={};s&64&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){c||(p(e.$$.fragment,t),c=!0)},o(t){d(e.$$.fragment,t),c=!1},d(t){v(e,t)}}}function be(u){return[[{title:"Golf",component:pe}]]}class je extends G{constructor(e){super(),z(this,e,be,ye,Y,{})}}export{je as component};
