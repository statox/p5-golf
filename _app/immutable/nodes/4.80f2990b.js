import{s as pe,f as w,a as E,e as ht,g as _,u as G,c as j,j as N,i as S,z as Se,d as h,h as T,y as m,P as me,L as H,Q as $e,O as Ue,l as J,m as K,n as ne,M as Ee}from"../chunks/scheduler.32ebed32.js";import{S as ye,i as ve,b as se,d as re,m as le,a as ie,t as ce,e as ae}from"../chunks/index.c25c2528.js";import{V as a,c as k,P as je,m as Ye,d as Re,a as Ve,w as ue,s as yt,C as gt}from"../chunks/PhysicObject.d0894205.js";import{W as Oe,L as bt,S as wt}from"../chunks/World.a244ff66.js";function mt(i){let t,n,c,s,o="dt",e,p,u,l,y,d,$="drag",g,b,v,f,r,x,C="gravity enabled",O,F,L,A,Q;return{c(){t=w("table"),n=w("tbody"),c=w("tr"),s=w("th"),s.textContent=o,e=E(),p=w("td"),u=w("input"),l=E(),y=w("tr"),d=w("th"),d.textContent=$,g=E(),b=w("td"),v=w("input"),f=E(),r=w("tr"),x=w("th"),x.textContent=C,O=E(),F=w("td"),L=w("input"),this.h()},l(W){t=_(W,"TABLE",{});var M=T(t);n=_(M,"TBODY",{});var B=T(n);c=_(B,"TR",{});var D=T(c);s=_(D,"TH",{"data-svelte-h":!0}),G(s)!=="svelte-16dheti"&&(s.textContent=o),e=j(D),p=_(D,"TD",{});var U=T(p);u=_(U,"INPUT",{type:!0,min:!0,max:!0,step:!0}),U.forEach(h),D.forEach(h),l=j(B),y=_(B,"TR",{});var ee=T(y);d=_(ee,"TH",{"data-svelte-h":!0}),G(d)!=="svelte-2hq5g"&&(d.textContent=$),g=j(ee),b=_(ee,"TD",{});var te=T(b);v=_(te,"INPUT",{type:!0,min:!0,max:!0,step:!0}),te.forEach(h),ee.forEach(h),f=j(B),r=_(B,"TR",{});var R=T(r);x=_(R,"TH",{"data-svelte-h":!0}),G(x)!=="svelte-ic0r87"&&(x.textContent=C),O=j(R),F=_(R,"TD",{});var q=T(F);L=_(q,"INPUT",{type:!0}),q.forEach(h),R.forEach(h),B.forEach(h),M.forEach(h),this.h()},h(){N(u,"type","number"),N(u,"min","0"),N(u,"max","0.5"),N(u,"step","0.001"),N(v,"type","number"),N(v,"min","0"),N(v,"max","0.01"),N(v,"step","0.001"),N(L,"type","checkbox")},m(W,M){S(W,t,M),m(t,n),m(n,c),m(c,s),m(c,e),m(c,p),m(p,u),me(u,i[0].dt),m(n,l),m(n,y),m(y,d),m(y,g),m(y,b),m(b,v),me(v,i[0].drag),m(n,f),m(n,r),m(r,x),m(r,O),m(r,F),m(F,L),L.checked=i[0].gravityEnabled,A||(Q=[H(u,"input",i[1]),H(v,"input",i[2]),H(L,"change",i[3])],A=!0)},p(W,M){M&1&&$e(u.value)!==W[0].dt&&me(u,W[0].dt),M&1&&$e(v.value)!==W[0].drag&&me(v,W[0].drag),M&1&&(L.checked=W[0].gravityEnabled)},d(W){W&&h(t),A=!1,Ue(Q)}}}function _t(i){let t,n="Engine settings",c,s,o=i[0]&&mt(i);return{c(){t=w("p"),t.textContent=n,c=E(),o&&o.c(),s=ht(),this.h()},l(e){t=_(e,"P",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-gf3gek"&&(t.textContent=n),c=j(e),o&&o.l(e),s=ht(),this.h()},h(){N(t,"class","title svelte-g74uk9")},m(e,p){S(e,t,p),S(e,c,p),o&&o.m(e,p),S(e,s,p)},p(e,[p]){e[0]?o?o.p(e,p):(o=mt(e),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i:Se,o:Se,d(e){e&&(h(t),h(c),h(s)),o&&o.d(e)}}}function $t(i,t,n){let{world:c}=t;function s(){c.dt=$e(this.value),n(0,c)}function o(){c.drag=$e(this.value),n(0,c)}function e(){c.gravityEnabled=this.checked,n(0,c)}return i.$$set=p=>{"world"in p&&n(0,c=p.world)},[c,s,o,e]}class nt extends ye{constructor(t){super(),ve(this,t,$t,_t,pe,{world:0})}}function xt(i){let t,n="Shooter",c,s,o,e="Angle",p,u,l,y,d,$,g,b,v="Magnitude",f,r,x,C,O,F,L,A,Q="Shoot",W,M;return{c(){t=w("p"),t.textContent=n,c=E(),s=w("span"),o=w("label"),o.textContent=e,p=E(),u=w("input"),l=E(),y=J(i[0]),d=J(" deg"),$=E(),g=w("span"),b=w("label"),b.textContent=v,f=E(),r=w("input"),x=E(),C=J(i[1]),O=E(),F=w("br"),L=E(),A=w("button"),A.textContent=Q,this.h()},l(B){t=_(B,"P",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-198ugk3"&&(t.textContent=n),c=j(B),s=_(B,"SPAN",{});var D=T(s);o=_(D,"LABEL",{for:!0,"data-svelte-h":!0}),G(o)!=="svelte-lab87n"&&(o.textContent=e),p=j(D),u=_(D,"INPUT",{id:!0,type:!0,min:!0,max:!0}),l=j(D),y=K(D,i[0]),d=K(D," deg"),D.forEach(h),$=j(B),g=_(B,"SPAN",{});var U=T(g);b=_(U,"LABEL",{for:!0,"data-svelte-h":!0}),G(b)!=="svelte-1vc5oxa"&&(b.textContent=v),f=j(U),r=_(U,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0}),x=j(U),C=K(U,i[1]),U.forEach(h),O=j(B),F=_(B,"BR",{}),L=j(B),A=_(B,"BUTTON",{"data-svelte-h":!0}),G(A)!=="svelte-8jpwxr"&&(A.textContent=Q),this.h()},h(){N(t,"class","title svelte-g74uk9"),N(o,"for","angleSlider"),N(u,"id","angleSlider"),N(u,"type","range"),N(u,"min","0"),N(u,"max","360"),N(b,"for","magSlider"),N(r,"id","magSlider"),N(r,"type","range"),N(r,"min","0"),N(r,"max","1"),N(r,"step","0.01")},m(B,D){S(B,t,D),S(B,c,D),S(B,s,D),m(s,o),m(s,p),m(s,u),me(u,i[0]),m(s,l),m(s,y),m(s,d),S(B,$,D),S(B,g,D),m(g,b),m(g,f),m(g,r),me(r,i[1]),m(g,x),m(g,C),S(B,O,D),S(B,F,D),S(B,L,D),S(B,A,D),W||(M=[H(u,"change",i[4]),H(u,"input",i[4]),H(r,"change",i[5]),H(r,"input",i[5]),H(A,"click",i[6])],W=!0)},p(B,[D]){D&1&&me(u,B[0]),D&1&&ne(y,B[0]),D&2&&me(r,B[1]),D&2&&ne(C,B[1])},i:Se,o:Se,d(B){B&&(h(t),h(c),h(s),h($),h(g),h(O),h(F),h(L),h(A)),W=!1,Ue(M)}}}function kt(i,t,n){let{onShoot:c}=t,s=0,o=.5;const e=()=>{const y=new a(1,0);y.rotateDeg(s),y.multiplyScalar(o),c(y)};function p(){s=$e(this.value),n(0,s)}function u(){o=$e(this.value),n(1,o)}const l=()=>e();return i.$$set=y=>{"onShoot"in y&&n(3,c=y.onShoot)},[s,o,e,c,p,u,l]}class vt extends ye{constructor(t){super(),ve(this,t,kt,xt,pe,{onShoot:3})}}const Tt=i=>{const t=[],n=k({geometry:{type:"line",vector:new a(15,0)},position:new a(0,15),fixed:!0});t.push(n);const c=k({geometry:{type:"line",vector:new a(15,0)},position:new a(0,0),fixed:!0});t.push(c);const s=k({geometry:{type:"line",vector:new a(0,100)},position:new a(0,0),fixed:!0});t.push(s);const o=k({geometry:{type:"line",vector:new a(0,100)},position:new a(15,0),fixed:!0});t.push(o);let e;for(let p=0;p<i.nbBalls;p++){const u=k({geometry:{type:"sphere",r:i.rBalls},position:new a(Math.random()*15,Math.random()*15),velocity:new a(Math.random()*15,Math.random()*15)});t.push(u),e||(e=u)}return{objects:t,sphere:e}};function Ct(i){let t,n,c,s,o,e=i[0]?"Play":"Pause",p,u,l,y="Reset",d,$,g="Add ball",b,v,f,r,x,C,O,F,L,A="Number of balls",Q,W,M,B,D,U,ee="Balls radius",te,R,q,de,I,Y;return n=new je({props:{sketch:i[5]}}),v=new vt({props:{onShoot:i[6]}}),r=new nt({props:{world:i[2]}}),{c(){t=w("div"),se(n.$$.fragment),c=E(),s=w("div"),o=w("button"),p=J(e),u=E(),l=w("button"),l.textContent=y,d=E(),$=w("button"),$.textContent=g,b=E(),se(v.$$.fragment),f=E(),se(r.$$.fragment),x=E(),C=w("table"),O=w("tbody"),F=w("tr"),L=w("th"),L.textContent=A,Q=E(),W=w("td"),M=w("input"),B=E(),D=w("tr"),U=w("th"),U.textContent=ee,te=E(),R=w("td"),q=w("input"),this.h()},l(P){t=_(P,"DIV",{class:!0});var X=T(t);re(n.$$.fragment,X),X.forEach(h),c=j(P),s=_(P,"DIV",{});var Z=T(s);o=_(Z,"BUTTON",{});var ge=T(o);p=K(ge,e),ge.forEach(h),u=j(Z),l=_(Z,"BUTTON",{"data-svelte-h":!0}),G(l)!=="svelte-tlxueg"&&(l.textContent=y),d=j(Z),$=_(Z,"BUTTON",{"data-svelte-h":!0}),G($)!=="svelte-1xau3n8"&&($.textContent=g),Z.forEach(h),b=j(P),re(v.$$.fragment,P),f=j(P),re(r.$$.fragment,P),x=j(P),C=_(P,"TABLE",{});var we=T(C);O=_(we,"TBODY",{});var oe=T(O);F=_(oe,"TR",{});var fe=T(F);L=_(fe,"TH",{"data-svelte-h":!0}),G(L)!=="svelte-eg4byi"&&(L.textContent=A),Q=j(fe),W=_(fe,"TD",{});var be=T(W);M=_(be,"INPUT",{type:!0,min:!0}),be.forEach(h),fe.forEach(h),B=j(oe),D=_(oe,"TR",{});var xe=T(D);U=_(xe,"TH",{"data-svelte-h":!0}),G(U)!=="svelte-10gtk36"&&(U.textContent=ee),te=j(xe),R=_(xe,"TD",{});var Be=T(R);q=_(Be,"INPUT",{type:!0,min:!0}),Be.forEach(h),xe.forEach(h),oe.forEach(h),we.forEach(h),this.h()},h(){N(t,"class","d-flex justify-content-center"),N(M,"type","number"),N(M,"min","1"),N(q,"type","number"),N(q,"min","1")},m(P,X){S(P,t,X),le(n,t,null),S(P,c,X),S(P,s,X),m(s,o),m(o,p),m(s,u),m(s,l),m(s,d),m(s,$),S(P,b,X),le(v,P,X),S(P,f,X),le(r,P,X),S(P,x,X),S(P,C,X),m(C,O),m(O,F),m(F,L),m(F,Q),m(F,W),m(W,M),me(M,i[1].nbBalls),m(O,B),m(O,D),m(D,U),m(D,te),m(D,R),m(R,q),me(q,i[1].rBalls),de=!0,I||(Y=[H(o,"click",i[7]),H(l,"click",i[3]),H($,"click",i[4]),H(M,"change",i[3]),H(M,"input",i[8]),H(q,"change",i[3]),H(q,"input",i[9])],I=!0)},p(P,[X]){(!de||X&1)&&e!==(e=P[0]?"Play":"Pause")&&ne(p,e);const Z={};X&4&&(Z.world=P[2]),r.$set(Z),X&2&&$e(M.value)!==P[1].nbBalls&&me(M,P[1].nbBalls),X&2&&$e(q.value)!==P[1].rBalls&&me(q,P[1].rBalls)},i(P){de||(ie(n.$$.fragment,P),ie(v.$$.fragment,P),ie(r.$$.fragment,P),de=!0)},o(P){ce(n.$$.fragment,P),ce(v.$$.fragment,P),ce(r.$$.fragment,P),de=!1},d(P){P&&(h(t),h(c),h(s),h(b),h(f),h(x),h(C)),ae(n),ae(v,P),ae(r,P),I=!1,Ue(Y)}}}const Ge=60;function St(i,t,n){console.clear();let c=!1,s={nbBalls:5,rBalls:.2},o,e;const p=()=>{const r=(o==null?void 0:o.gravityEnabled)??!0;n(2,o=new Oe({dimensions:new a(15,15),reporter:()=>{},enableGravity:r}));const x=Tt(s);e=x.sphere;for(const C of x.objects)o.addObject(C)},u=()=>{const r=k({geometry:{type:"sphere",r:s.rBalls},position:new a(7,7),velocity:new a(0,0)});o.addObject(r)},l=r=>typeof r=="number"?r*Ge:r.clone().multiplyScalar(Ge),y=r=>typeof r=="number"?r/Ge:r.clone().divideScalar(Ge);let d;const $=r=>{r.setup=()=>{d=r,p();const O=l(o.dimensions);r.createCanvas(O.x,O.y),r.background(0),r.fill(255),r.stroke(255),p()},r.draw=()=>{r.background(0),Ye(r)?e.fixed=!0:e.fixed=!1,c||o.step(),Re(r,o),C(r)};let x;r.mousePressed=()=>{Ve(r)&&(x=y(new a(r.mouseX,r.height-r.mouseY)),e.position.copy(x))},r.mouseReleased=()=>{if(!Ve(r)||!x)return;const O=y(new a(r.mouseX,r.height-r.mouseY)),F=x.subtract(O).multiplyScalar(3);x=void 0,e.velocity.copy(F)};const C=O=>{if(!x)return;O.stroke("blue"),O.strokeWeight(2);const F=l(x);O.line(F.x,O.height-F.y,O.mouseX,O.mouseY)}},g=r=>{r.multiplyScalar(1e4),o.applyForce(e,r)};Ee(()=>{d==null||d.remove()});const b=()=>n(0,c=!c);function v(){s.nbBalls=$e(this.value),n(1,s)}function f(){s.rBalls=$e(this.value),n(1,s)}return[c,s,o,p,u,$,g,b,v,f]}let Et=class extends ye{constructor(t){super(),ve(this,t,St,Ct,pe,{})}};function jt(i){let t,n,c,s,o=i[0][i[0].length-1]+"",e,p,u,l="New ball",y,d,$;return n=new je({props:{sketch:i[2]}}),{c(){t=w("div"),se(n.$$.fragment),c=E(),s=w("p"),e=J(o),p=E(),u=w("button"),u.textContent=l,this.h()},l(g){t=_(g,"DIV",{class:!0});var b=T(t);re(n.$$.fragment,b),b.forEach(h),c=j(g),s=_(g,"P",{});var v=T(s);e=K(v,o),v.forEach(h),p=j(g),u=_(g,"BUTTON",{"data-svelte-h":!0}),G(u)!=="svelte-1jwbm46"&&(u.textContent=l),this.h()},h(){N(t,"class","d-flex justify-content-center")},m(g,b){S(g,t,b),le(n,t,null),S(g,c,b),S(g,s,b),m(s,e),S(g,p,b),S(g,u,b),y=!0,d||($=H(u,"click",i[1]),d=!0)},p(g,[b]){(!y||b&1)&&o!==(o=g[0][g[0].length-1]+"")&&ne(e,o)},i(g){y||(ie(n.$$.fragment,g),y=!0)},o(g){ce(n.$$.fragment,g),y=!1},d(g){g&&(h(t),h(c),h(s),h(p),h(u)),ae(n),d=!1,$()}}}function Pt(i,t,n){console.clear();let c=[];const s=l=>{const y=l.objects[l.objects.length-1],d=y.position.clone().toFixed(2),$=y.velocity.clone().toFixed(2);c.push(`${l.t.toFixed(2)} - pos: ${d} - vel: ${$}`),c.length>50&&c.shift(),n(0,c)},o=new Oe({reporter:s,enableGravity:!0}),e=()=>{for(;o.objects.length;)o.objects.pop();const l=k({geometry:{type:"line",vector:new a(100,0)},position:new a(0,0),fixed:!0});o.addObject(l);for(let y=0;y<1;y++){const d=k({geometry:{type:"sphere",r:5},position:new a(20,50),velocity:new a(Math.random()*5-2.5,Math.random()*20)});o.addObject(d)}};let p;const u=l=>{l.setup=()=>{p=l,l.createCanvas(900,600),l.background(0),l.fill(255),l.stroke(255),e()},l.draw=()=>{l.background(0),o.step();for(const y of o.objects){const d=l.map(y.position.x,0,o.dimensions.x,0,l.width),$=l.map(y.position.y,0,o.dimensions.y,l.height,0);if(y.geometry.type==="sphere"&&(l.strokeWeight(y.geometry.r*2),l.point(d,$)),y.geometry.type==="line"){const g=d+l.map(y.geometry.vector.x,0,o.dimensions.x,0,l.width),b=$+l.map(y.geometry.vector.y,0,o.dimensions.y,0,l.height);l.strokeWeight(2),l.line(d,$,g,b)}}}};return Ee(()=>{p==null||p.remove()}),[c,e,u]}class Ot extends ye{constructor(t){super(),ve(this,t,Pt,jt,pe,{})}}function Bt(i){let t,n,c,s,o=i[0][i[0].length-1]+"",e,p,u,l="New ball",y,d,$;return n=new je({props:{sketch:i[2]}}),{c(){t=w("div"),se(n.$$.fragment),c=E(),s=w("p"),e=J(o),p=E(),u=w("button"),u.textContent=l,this.h()},l(g){t=_(g,"DIV",{class:!0});var b=T(t);re(n.$$.fragment,b),b.forEach(h),c=j(g),s=_(g,"P",{});var v=T(s);e=K(v,o),v.forEach(h),p=j(g),u=_(g,"BUTTON",{"data-svelte-h":!0}),G(u)!=="svelte-1jwbm46"&&(u.textContent=l),this.h()},h(){N(t,"class","d-flex justify-content-center")},m(g,b){S(g,t,b),le(n,t,null),S(g,c,b),S(g,s,b),m(s,e),S(g,p,b),S(g,u,b),y=!0,d||($=H(u,"click",i[1]),d=!0)},p(g,[b]){(!y||b&1)&&o!==(o=g[0][g[0].length-1]+"")&&ne(e,o)},i(g){y||(ie(n.$$.fragment,g),y=!0)},o(g){ce(n.$$.fragment,g),y=!1},d(g){g&&(h(t),h(c),h(s),h(p),h(u)),ae(n),d=!1,$()}}}const qe=6;function Dt(i,t,n){console.clear();let c=[];const s=d=>{const $=d.objects[d.objects.length-1],g=$.position.clone().toFixed(2),b=$.velocity.clone().toFixed(2);c.push(`${d.t.toFixed(2)} - pos: ${g} - vel: ${b}`),c.length>50&&c.shift(),n(0,c)},o=new Oe({reporter:s,enableGravity:!0});let e,p;const u=()=>{for(;o.objects.length;)o.objects.pop();p=k({geometry:{type:"line",vector:new a(40,40)},position:new a(30,30),fixed:!0}),o.addObject(p),e=k({geometry:{type:"sphere",r:10},position:new a(20,50),velocity:new a(2.5,2.5),fixed:!0}),o.addObject(e)};let l;const y=d=>{const $=v=>typeof v=="number"?v*qe:v.clone().multiplyScalar(qe),g=v=>typeof v=="number"?v/qe:v.clone().divideScalar(qe);d.setup=()=>{l=d;const v=$(o.dimensions);d.createCanvas(v.x,v.y),d.background(0),d.fill(255),d.stroke(255),u()};let b;d.draw=()=>{if(d.background(0),o.step(),d.mouseIsPressed){const v=g(new a(d.mouseX,d.height-d.mouseY));if(b||(v.distance(e.position)<2?b="sphere":v.distance(p.position)<2?b="wallstart":v.distance(p.geometry.vector.clone().add(p.position))<2&&(b="wallend")),b==="sphere"&&e.position.copy(v),b==="wallstart"&&p.position.copy(v),b==="wallend"){const f=v.clone().subtract(p.position);p.geometry.vector.copy(f)}}else b=void 0;for(const v of o.objects.sort((f,r)=>f.geometry.type<r.geometry.type?1:-1)){d.stroke(e.data.isColliding?"red":"white");const f=d.map(v.position.x,0,o.dimensions.x,0,d.width),r=d.map(v.position.y,0,o.dimensions.y,d.height,0);if(v.geometry.type==="sphere"){const x=$(v.geometry.r*2);d.strokeWeight(x),d.point(f,r)}if(v.geometry.type==="line"){const x=f+d.map(v.geometry.vector.x,0,o.dimensions.x,0,d.width),C=r-d.map(v.geometry.vector.y,0,o.dimensions.y,0,d.height);d.stroke("blue"),d.strokeWeight(2),d.line(f,r,x,C)}}}};return Ee(()=>{l==null||l.remove()}),[c,u,y]}class It extends ye{constructor(t){super(),ve(this,t,Dt,Bt,pe,{})}}function Ft(i){let t,n,c;return n=new je({props:{sketch:i[0]}}),{c(){t=w("div"),se(n.$$.fragment),this.h()},l(s){t=_(s,"DIV",{class:!0});var o=T(t);re(n.$$.fragment,o),o.forEach(h),this.h()},h(){N(t,"class","d-flex justify-content-center")},m(s,o){S(s,t,o),le(n,t,null),c=!0},p:Se,i(s){c||(ie(n.$$.fragment,s),c=!0)},o(s){ce(n.$$.fragment,s),c=!1},d(s){s&&h(t),ae(n)}}}const ze=6;function Vt(i){console.clear();const t=new Oe({reporter:()=>{},enableGravity:!0});let n;const c=()=>{for(;t.objects.length;)t.objects.pop();n=k({geometry:{type:"sphere",r:5},position:new a(20,50),velocity:new a(Math.random()*5-2.5,Math.random()*20)}),t.addObject(n);const u=k({geometry:{type:"line",vector:new a(100,0)},position:new a(0,2),fixed:!0});t.addObject(u);const l=k({geometry:{type:"line",vector:new a(100,0)},position:new a(0,98),fixed:!0});t.addObject(l);const y=k({geometry:{type:"line",vector:new a(0,100)},position:new a(2,0),fixed:!0});t.addObject(y);const d=k({geometry:{type:"line",vector:new a(0,100)},position:new a(98,0),fixed:!0});t.addObject(d);const $=k({geometry:{type:"line",vector:new a(50,50)},position:new a(20,10),fixed:!0});t.addObject($)},s=u=>typeof u=="number"?u*ze:u.clone().multiplyScalar(ze),o=u=>typeof u=="number"?u/ze:u.clone().divideScalar(ze);let e;const p=u=>{u.setup=()=>{e=u;const y=s(t.dimensions);u.createCanvas(y.x,y.y),u.background(0),u.fill(255),u.stroke(255),c()},u.draw=()=>{if(u.background(0),u.mouseIsPressed){n.fixed=!0;const y=o(new a(u.mouseX,u.height-u.mouseY));n.position.copy(y)}else n.fixed=!1;t.step(),Re(u,t)};let l;u.mousePressed=()=>{l=o(new a(u.mouseX,u.height-u.mouseY))},u.mouseReleased=()=>{const y=o(new a(u.mouseX,u.height-u.mouseY)),d=l.subtract(y);n.position.copy(y),n.velocity.copy(d)}};return Ee(()=>{e==null||e.remove()}),[p]}class Lt extends ye{constructor(t){super(),ve(this,t,Vt,Ft,pe,{})}}function Nt(i){let t,n,c,s,o,e,p,u="Gravity",l,y,d,$="Toggle",g,b,v;return n=new je({props:{sketch:i[1]}}),{c(){t=w("div"),se(n.$$.fragment),c=E(),s=w("table"),o=w("tbody"),e=w("tr"),p=w("th"),p.textContent=u,l=E(),y=w("td"),d=w("button"),d.textContent=$,this.h()},l(f){t=_(f,"DIV",{class:!0});var r=T(t);re(n.$$.fragment,r),r.forEach(h),c=j(f),s=_(f,"TABLE",{});var x=T(s);o=_(x,"TBODY",{});var C=T(o);e=_(C,"TR",{});var O=T(e);p=_(O,"TH",{"data-svelte-h":!0}),G(p)!=="svelte-vy75us"&&(p.textContent=u),l=j(O),y=_(O,"TD",{});var F=T(y);d=_(F,"BUTTON",{"data-svelte-h":!0}),G(d)!=="svelte-18lc94l"&&(d.textContent=$),F.forEach(h),O.forEach(h),C.forEach(h),x.forEach(h),this.h()},h(){N(t,"class","d-flex justify-content-center")},m(f,r){S(f,t,r),le(n,t,null),S(f,c,r),S(f,s,r),m(s,o),m(o,e),m(e,p),m(e,l),m(e,y),m(y,d),g=!0,b||(v=H(d,"click",i[2]),b=!0)},p:Se,i(f){g||(ie(n.$$.fragment,f),g=!0)},o(f){ce(n.$$.fragment,f),g=!1},d(f){f&&(h(t),h(c),h(s)),ae(n),b=!1,v()}}}const Qe=6;function Mt(i){console.clear();const t=new Oe({reporter:()=>{},enableGravity:!0});let n;const c=()=>{for(;t.objects.length;)t.objects.pop();const l=k({geometry:{type:"line",vector:new a(100,0)},position:new a(0,0),fixed:!0});t.addObject(l);const y=k({geometry:{type:"line",vector:new a(100,0)},position:new a(0,100),fixed:!0});t.addObject(y);const d=k({geometry:{type:"line",vector:new a(0,100)},position:new a(0,0),fixed:!0});t.addObject(d);const $=k({geometry:{type:"line",vector:new a(0,100)},position:new a(100,0),fixed:!0});t.addObject($);const g=k({geometry:{type:"line",vector:new a(50,50)},position:new a(20,10),fixed:!0});t.addObject(g),n=k({geometry:{type:"sphere",r:2},position:new a(20,50),velocity:new a(Math.random()*5-2.5,Math.random()*20)}),t.addObject(n)},s=l=>typeof l=="number"?l*Qe:l.clone().multiplyScalar(Qe),o=l=>typeof l=="number"?l/Qe:l.clone().divideScalar(Qe);let e;const p=l=>{l.setup=()=>{e=l;const d=s(t.dimensions);l.createCanvas(d.x,d.y),l.background(0),l.fill(255),l.stroke(255),c()},l.draw=()=>{if(l.background(0),Ye(l)){n.fixed=!0;const d=o(new a(l.mouseX,l.height-l.mouseY));n.position.copy(d)}else n.fixed=!1;t.step(),Re(l,t)};let y;l.mousePressed=()=>{Ve(l)&&(y=o(new a(l.mouseX,l.height-l.mouseY)))},l.mouseReleased=()=>{if(!Ve(l))return;const d=o(new a(l.mouseX,l.height-l.mouseY)),$=y.subtract(d);n.position.copy(d),n.velocity.copy($)}};return Ee(()=>{e==null||e.remove()}),[t,p,()=>t.toggleGravity()]}class Wt extends ye{constructor(t){super(),ve(this,t,Mt,Nt,pe,{})}}const At=()=>{const i=[],t=k({geometry:{type:"line",vector:new a(15,0)},position:new a(0,0),fixed:!0});i.push(t);const n=k({geometry:{type:"line",vector:new a(0,100)},position:new a(0,0),fixed:!0});i.push(n);const c=k({geometry:{type:"line",vector:new a(0,100)},position:new a(15,0),fixed:!0});i.push(c);const s=k({geometry:{type:"line",vector:new a(3,-3)},position:new a(3.5,8),fixed:!0});i.push(s);const o=k({geometry:{type:"line",vector:new a(3,3)},position:new a(3.5,5),fixed:!0});i.push(o);const e=k({geometry:{type:"line",vector:new a(6,0)},position:new a(2,2),fixed:!0});i.push(e);const p=k({geometry:{type:"line",vector:new a(4,0)},position:new a(3,2.5),fixed:!0});i.push(p);const u=k({geometry:{type:"line",vector:new a(2,0)},position:new a(4,3),fixed:!0});i.push(u);const l=k({geometry:{type:"line",vector:new a(.6,0)},position:new a(4.7,3.5),fixed:!0});i.push(l);const y=k({geometry:{type:"line",vector:new a(1,0)},position:new a(10,10.1),fixed:!0});i.push(y);const d=k({geometry:{type:"line",vector:new a(0,-4)},position:new a(11,10),fixed:!0});i.push(d);const $=k({geometry:{type:"line",vector:new a(0,-4)},position:new a(11.5,10),fixed:!0});i.push($);const g=k({geometry:{type:"line",vector:new a(0,-4)},position:new a(12,10),fixed:!0});i.push(g);const b=k({geometry:{type:"line",vector:new a(1,0)},position:new a(12,10.1),fixed:!0});i.push(b);for(let f=.2;f<.5;f+=.1)for(let r=0;r<10;r++){const x=k({geometry:{type:"line",vector:new a(0,3)},position:new a(9+r*f,1),fixed:!0});i.push(x)}const v=k({geometry:{type:"sphere",r:.1},position:new a(5,10),velocity:new a(0,0)});return i.push(v),{objects:i,sphere:v}};function Ut(i){let t,n,c,s,o,e=i[0]?"Disable":"Enable",p,u,l,y,d=i[1]?"Play":"Pause",$,g,b,v="Reset",f,r,x,C,O,F,L,A,Q,W="Simulation time/Frame duration",M,B,D=i[2].t+"",U,ee,te,R=i[2].frameTime+"",q,de,I,Y,P="Sphere position",X,Z,ge=i[2].spherePos.x.toFixed(2)+"",we,oe,fe,be=i[2].spherePos.y.toFixed(2)+"",xe,Be,ke,De,ot="Sphere velocity",Ke,Le,Ne=i[2].sphereVel.x.toFixed(2)+"",Xe,Ze,Me,We=i[2].sphereVel.y.toFixed(2)+"",He,he,et,st;return n=new je({props:{sketch:i[5]}}),r=new vt({props:{onShoot:i[6]}}),C=new nt({props:{world:i[3]}}),{c(){t=w("div"),se(n.$$.fragment),c=E(),s=w("div"),o=w("button"),p=J(e),u=J(" pause on collision"),l=E(),y=w("button"),$=J(d),g=E(),b=w("button"),b.textContent=v,f=E(),se(r.$$.fragment),x=E(),se(C.$$.fragment),O=E(),F=w("table"),L=w("tbody"),A=w("tr"),Q=w("th"),Q.textContent=W,M=E(),B=w("td"),U=J(D),ee=E(),te=w("td"),q=J(R),de=E(),I=w("tr"),Y=w("th"),Y.textContent=P,X=E(),Z=w("td"),we=J(ge),oe=E(),fe=w("td"),xe=J(be),Be=E(),ke=w("tr"),De=w("th"),De.textContent=ot,Ke=E(),Le=w("td"),Xe=J(Ne),Ze=E(),Me=w("td"),He=J(We),this.h()},l(V){t=_(V,"DIV",{class:!0});var z=T(t);re(n.$$.fragment,z),z.forEach(h),c=j(V),s=_(V,"DIV",{});var Te=T(s);o=_(Te,"BUTTON",{});var tt=T(o);p=K(tt,e),u=K(tt," pause on collision"),tt.forEach(h),l=j(Te),y=_(Te,"BUTTON",{});var rt=T(y);$=K(rt,d),rt.forEach(h),g=j(Te),b=_(Te,"BUTTON",{"data-svelte-h":!0}),G(b)!=="svelte-tlxueg"&&(b.textContent=v),Te.forEach(h),f=j(V),re(r.$$.fragment,V),x=j(V),re(C.$$.fragment,V),O=j(V),F=_(V,"TABLE",{});var lt=T(F);L=_(lt,"TBODY",{});var Ae=T(L);A=_(Ae,"TR",{});var Ie=T(A);Q=_(Ie,"TH",{"data-svelte-h":!0}),G(Q)!=="svelte-rirgm4"&&(Q.textContent=W),M=j(Ie),B=_(Ie,"TD",{});var it=T(B);U=K(it,D),it.forEach(h),ee=j(Ie),te=_(Ie,"TD",{});var ct=T(te);q=K(ct,R),ct.forEach(h),Ie.forEach(h),de=j(Ae),I=_(Ae,"TR",{});var Pe=T(I);Y=_(Pe,"TH",{"data-svelte-h":!0}),G(Y)!=="svelte-1y1nif6"&&(Y.textContent=P),X=j(Pe),Z=_(Pe,"TD",{});var at=T(Z);we=K(at,ge),at.forEach(h),oe=j(Pe),fe=_(Pe,"TD",{});var ut=T(fe);xe=K(ut,be),ut.forEach(h),Be=j(Pe),Pe.forEach(h),ke=_(Ae,"TR",{});var Fe=T(ke);De=_(Fe,"TH",{"data-svelte-h":!0}),G(De)!=="svelte-1uw1fs2"&&(De.textContent=ot),Ke=j(Fe),Le=_(Fe,"TD",{});var ft=T(Le);Xe=K(ft,Ne),ft.forEach(h),Ze=j(Fe),Me=_(Fe,"TD",{});var dt=T(Me);He=K(dt,We),dt.forEach(h),Fe.forEach(h),Ae.forEach(h),lt.forEach(h),this.h()},h(){N(t,"class","d-flex justify-content-center")},m(V,z){S(V,t,z),le(n,t,null),S(V,c,z),S(V,s,z),m(s,o),m(o,p),m(o,u),m(s,l),m(s,y),m(y,$),m(s,g),m(s,b),S(V,f,z),le(r,V,z),S(V,x,z),le(C,V,z),S(V,O,z),S(V,F,z),m(F,L),m(L,A),m(A,Q),m(A,M),m(A,B),m(B,U),m(A,ee),m(A,te),m(te,q),m(L,de),m(L,I),m(I,Y),m(I,X),m(I,Z),m(Z,we),m(I,oe),m(I,fe),m(fe,xe),m(I,Be),m(L,ke),m(ke,De),m(ke,Ke),m(ke,Le),m(Le,Xe),m(ke,Ze),m(ke,Me),m(Me,He),he=!0,et||(st=[H(o,"click",i[7]),H(y,"click",i[8]),H(b,"click",i[4])],et=!0)},p(V,[z]){(!he||z&1)&&e!==(e=V[0]?"Disable":"Enable")&&ne(p,e),(!he||z&2)&&d!==(d=V[1]?"Play":"Pause")&&ne($,d);const Te={};z&8&&(Te.world=V[3]),C.$set(Te),(!he||z&4)&&D!==(D=V[2].t+"")&&ne(U,D),(!he||z&4)&&R!==(R=V[2].frameTime+"")&&ne(q,R),(!he||z&4)&&ge!==(ge=V[2].spherePos.x.toFixed(2)+"")&&ne(we,ge),(!he||z&4)&&be!==(be=V[2].spherePos.y.toFixed(2)+"")&&ne(xe,be),(!he||z&4)&&Ne!==(Ne=V[2].sphereVel.x.toFixed(2)+"")&&ne(Xe,Ne),(!he||z&4)&&We!==(We=V[2].sphereVel.y.toFixed(2)+"")&&ne(He,We)},i(V){he||(ie(n.$$.fragment,V),ie(r.$$.fragment,V),ie(C.$$.fragment,V),he=!0)},o(V){ce(n.$$.fragment,V),ce(r.$$.fragment,V),ce(C.$$.fragment,V),he=!1},d(V){V&&(h(t),h(c),h(s),h(f),h(x),h(O),h(F)),ae(n),ae(r,V),ae(C,V),et=!1,Ue(st)}}}const Je=60;function Yt(i,t,n){console.clear();let c=!1,s=!1,o={t:"0",frameTime:"0",spherePos:new a(0,0),sphereVel:new a(0,0),ballIsColliding:!1},e,p;const u=()=>{n(3,e=new Oe({dimensions:new a(15,15),reporter:r=>{var x;n(2,o.t=(x=r==null?void 0:r.t)==null?void 0:x.toFixed(1),o),o.spherePos.copy(p.position).unfloat(),o.sphereVel.copy(p.velocity).unfloat(),n(2,o.frameTime=r.frameTime.toFixed(2),o),n(2,o),n(2,o.ballIsColliding=p.data.isColliding,o),c&&p.data.isColliding&&!s&&n(1,s=!0)},enableGravity:!0}));const f=At();p=f.sphere;for(const r of f.objects)e.addObject(r)},l=f=>typeof f=="number"?f*Je:f.clone().multiplyScalar(Je),y=f=>typeof f=="number"?f/Je:f.clone().divideScalar(Je);let d;const $=f=>{f.setup=()=>{d=f,u();const C=l(e.dimensions);f.createCanvas(C.x,C.y),f.background(0),f.fill(255),f.stroke(255),u()},f.draw=()=>{f.background(0),Ye(f)?p.fixed=!0:p.fixed=!1,s||e.step(),Re(f,e),x(f)};let r;f.mousePressed=()=>{Ve(f)&&(r=y(new a(f.mouseX,f.height-f.mouseY)),p.position.copy(r))},f.mouseReleased=()=>{if(!Ve(f)||!r)return;const C=y(new a(f.mouseX,f.height-f.mouseY)),O=r.subtract(C).multiplyScalar(3);r=void 0,p.velocity.copy(O)};const x=C=>{if(!r)return;C.stroke("blue"),C.strokeWeight(2);const O=l(r);C.line(O.x,C.height-O.y,C.mouseX,C.mouseY)}},g=f=>{f.multiplyScalar(1e4),e.applyForce(p,f)};return Ee(()=>{d==null||d.remove()}),[c,s,o,e,u,$,g,()=>n(0,c=!c),()=>n(1,s=!s)]}let Rt=class extends ye{constructor(t){super(),ve(this,t,Yt,Ut,pe,{})}};const Xt=()=>{const i=[],t=k({geometry:{type:"line",vector:new a(15,0)},position:new a(0,0),fixed:!0});i.push(t);const n=k({geometry:{type:"line",vector:new a(0,100)},position:new a(0,0),fixed:!0});i.push(n);const c=k({geometry:{type:"line",vector:new a(0,100)},position:new a(15,0),fixed:!0});i.push(c);const s=k({geometry:{type:"line",vector:new a(3,-3)},position:new a(3.5,8),fixed:!0});i.push(s);const o=k({geometry:{type:"line",vector:new a(3,3)},position:new a(3.5,5),fixed:!0});i.push(o);const e=k({geometry:{type:"line",vector:new a(6,0)},position:new a(2,2),fixed:!0});i.push(e);const p=k({geometry:{type:"line",vector:new a(4,0)},position:new a(3,2.5),fixed:!0});i.push(p);const u=k({geometry:{type:"line",vector:new a(2,0)},position:new a(4,3),fixed:!0});i.push(u);const l=k({geometry:{type:"line",vector:new a(.6,0)},position:new a(4.7,3.5),fixed:!0});i.push(l);const y=k({geometry:{type:"line",vector:new a(1,0)},position:new a(10,10.1),fixed:!0});i.push(y);const d=k({geometry:{type:"line",vector:new a(0,-4)},position:new a(11,10),fixed:!0});i.push(d);const $=k({geometry:{type:"line",vector:new a(0,-4)},position:new a(11.5,10),fixed:!0});i.push($);const g=k({geometry:{type:"line",vector:new a(0,-4)},position:new a(12,10),fixed:!0});i.push(g);const b=k({geometry:{type:"line",vector:new a(1,0)},position:new a(12,10.1),fixed:!0});i.push(b);for(let v=.2;v<.5;v+=.1)for(let f=0;f<10;f++){const r=k({geometry:{type:"line",vector:new a(0,3)},position:new a(9+f*v,1),fixed:!0});i.push(r)}return{objects:i}};function Ht(i){let t,n,c,s,o,e=i[0]?"Disable":"Enable",p,u,l,y,d=i[1]?"Play":"Pause",$,g,b,v="Reset",f,r,x,C,O,F,L,A="Simulation time/Frame duration",Q,W,M=i[2].t+"",B,D,U,ee=i[2].frameTime+"",te,R,q,de;return n=new je({props:{sketch:i[5]}}),r=new nt({props:{world:i[3]}}),{c(){t=w("div"),se(n.$$.fragment),c=E(),s=w("div"),o=w("button"),p=J(e),u=J(" pause on collision"),l=E(),y=w("button"),$=J(d),g=E(),b=w("button"),b.textContent=v,f=E(),se(r.$$.fragment),x=E(),C=w("table"),O=w("tbody"),F=w("tr"),L=w("th"),L.textContent=A,Q=E(),W=w("td"),B=J(M),D=E(),U=w("td"),te=J(ee),this.h()},l(I){t=_(I,"DIV",{class:!0});var Y=T(t);re(n.$$.fragment,Y),Y.forEach(h),c=j(I),s=_(I,"DIV",{});var P=T(s);o=_(P,"BUTTON",{});var X=T(o);p=K(X,e),u=K(X," pause on collision"),X.forEach(h),l=j(P),y=_(P,"BUTTON",{});var Z=T(y);$=K(Z,d),Z.forEach(h),g=j(P),b=_(P,"BUTTON",{"data-svelte-h":!0}),G(b)!=="svelte-tlxueg"&&(b.textContent=v),P.forEach(h),f=j(I),re(r.$$.fragment,I),x=j(I),C=_(I,"TABLE",{});var ge=T(C);O=_(ge,"TBODY",{});var we=T(O);F=_(we,"TR",{});var oe=T(F);L=_(oe,"TH",{"data-svelte-h":!0}),G(L)!=="svelte-rirgm4"&&(L.textContent=A),Q=j(oe),W=_(oe,"TD",{});var fe=T(W);B=K(fe,M),fe.forEach(h),D=j(oe),U=_(oe,"TD",{});var be=T(U);te=K(be,ee),be.forEach(h),oe.forEach(h),we.forEach(h),ge.forEach(h),this.h()},h(){N(t,"class","d-flex justify-content-center")},m(I,Y){S(I,t,Y),le(n,t,null),S(I,c,Y),S(I,s,Y),m(s,o),m(o,p),m(o,u),m(s,l),m(s,y),m(y,$),m(s,g),m(s,b),S(I,f,Y),le(r,I,Y),S(I,x,Y),S(I,C,Y),m(C,O),m(O,F),m(F,L),m(F,Q),m(F,W),m(W,B),m(F,D),m(F,U),m(U,te),R=!0,q||(de=[H(o,"click",i[6]),H(y,"click",i[7]),H(b,"click",i[4])],q=!0)},p(I,[Y]){(!R||Y&1)&&e!==(e=I[0]?"Disable":"Enable")&&ne(p,e),(!R||Y&2)&&d!==(d=I[1]?"Play":"Pause")&&ne($,d);const P={};Y&8&&(P.world=I[3]),r.$set(P),(!R||Y&4)&&M!==(M=I[2].t+"")&&ne(B,M),(!R||Y&4)&&ee!==(ee=I[2].frameTime+"")&&ne(te,ee)},i(I){R||(ie(n.$$.fragment,I),ie(r.$$.fragment,I),R=!0)},o(I){ce(n.$$.fragment,I),ce(r.$$.fragment,I),R=!1},d(I){I&&(h(t),h(c),h(s),h(f),h(x),h(C)),ae(n),ae(r,I),q=!1,Ue(de)}}}const pt=60;function Gt(i,t,n){console.clear();let c=!1,s=!1,o={t:"0",frameTime:"0"},e;const p=()=>{clearInterval(d),d=setInterval(u,100),n(3,e=new Oe({dimensions:new a(15,15),reporter:f=>{var r;n(2,o.t=(r=f==null?void 0:f.t)==null?void 0:r.toFixed(1),o),n(2,o.frameTime=f.frameTime.toFixed(2),o),n(2,o)},enableGravity:!0}));const v=Xt();for(const f of v.objects)e.addObject(f)},u=()=>{console.log("add ball");const v=Math.random()*e.dimensions.x,f=Math.random()*e.dimensions.y,r=-5+Math.random()*10,x=-5+Math.random()*10,C=k({geometry:{type:"sphere",r:.1},position:new a(v,f),velocity:new a(r,x)});e.addObject(C)},l=v=>typeof v=="number"?v*pt:v.clone().multiplyScalar(pt);let y,d;const $=v=>{v.setup=()=>{y=v,p();const f=l(e.dimensions);v.createCanvas(f.x,f.y),v.background(0),v.fill(255),v.stroke(255),p()},v.draw=()=>{v.background(0),s||e.step(),Re(v,e)}};return Ee(()=>{y==null||y.remove(),clearInterval(d)}),[c,s,o,e,p,$,()=>n(0,c=!c),()=>n(1,s=!s)]}class qt extends ye{constructor(t){super(),ve(this,t,Gt,Ht,pe,{})}}function zt(i){let t,n,c;return n=new je({props:{sketch:i[0]}}),{c(){t=w("div"),se(n.$$.fragment),this.h()},l(s){t=_(s,"DIV",{class:!0});var o=T(t);re(n.$$.fragment,o),o.forEach(h),this.h()},h(){N(t,"class","d-flex justify-content-center")},m(s,o){S(s,t,o),le(n,t,null),c=!0},p:Se,i(s){c||(ie(n.$$.fragment,s),c=!0)},o(s){ce(n.$$.fragment,s),c=!1},d(s){s&&h(t),ae(n)}}}const Ce=6;function Qt(i){console.clear();let t;const n=k({geometry:{type:"sphere",r:10},position:new a(30,50),velocity:new a(15,15)}),c=k({geometry:{type:"line",vector:new a(80,0)},position:new a(10,70)}),s=new bt,o=e=>{const p=new a(100,100),u=ue(p,Ce);e.setup=()=>{t=e,e.createCanvas(u.x,u.y),e.noFill()};let l;e.draw=()=>{if(e.background(0),!Ye(e))l=void 0;else{const r=yt(new a(e.mouseX,e.height-e.mouseY),Ce);if(l||(r.distance(n.position)<=n.geometry.r?l="sphere":r.distance(n.position.clone().add(n.velocity))<=6?l="spherevelocity":r.distance(c.position)<=6?l="linestart":r.distance(c.geometry.vector.clone().add(c.position))<=6&&(l="lineend")),l==="sphere")n.position.copy(r);else if(l==="spherevelocity"){const x=r.clone().subtract(n.position);n.velocity.copy(x)}else if(l==="linestart")c.position.copy(r);else if(l==="lineend"){const x=r.clone().subtract(c.position);c.geometry.vector.copy(x)}}const{intersection:y,bouncedVelocity:d}=s.apply(c,n);for(let r=0;r<10;r++){const{positionCorrection:x}=s.apply(c,n);x&&(n.position.add(x.multiplyScalar(.5)),c.position.subtract(x.multiplyScalar(.5)))}e.stroke(255),e.noFill();const $=ue(n.position,Ce);e.circle($.x,e.height-$.y,2*n.geometry.r*Ce),e.stroke(255);const g=ue(n.velocity,Ce);e.line($.x,e.height-$.y,$.x+g.x,e.height-($.y+g.y)),e.stroke(255);const{x:b,y:v}=ue(c.position,Ce),f=ue(c.geometry.vector,Ce);if(e.line(b,e.height-v,b+f.x,e.height-(v+f.y)),y){e.stroke("#54d7ff"),e.fill("#54d7ff");const r=ue(y,Ce);e.circle(r.x,e.height-r.y,5)}if(d){e.stroke("green"),e.fill("green");const r=ue(d,Ce);e.line($.x,e.height-$.y,$.x+r.x,e.height-($.y+r.y))}}};return Ee(()=>{t==null||t.remove()}),[o]}class Jt extends ye{constructor(t){super(),ve(this,t,Qt,zt,pe,{})}}function Kt(i){let t,n,c;return n=new je({props:{sketch:i[0]}}),{c(){t=w("div"),se(n.$$.fragment),this.h()},l(s){t=_(s,"DIV",{class:!0});var o=T(t);re(n.$$.fragment,o),o.forEach(h),this.h()},h(){N(t,"class","d-flex justify-content-center")},m(s,o){S(s,t,o),le(n,t,null),c=!0},p:Se,i(s){c||(ie(n.$$.fragment,s),c=!0)},o(s){ce(n.$$.fragment,s),c=!1},d(s){s&&h(t),ae(n)}}}const _e=6;function Zt(i){console.clear();let t;const n=k({geometry:{type:"sphere",r:10},position:new a(30,50),velocity:new a(15,15)}),c=k({geometry:{type:"sphere",r:10},position:new a(70,50),velocity:new a(0,45)}),s=new wt,o=e=>{const p=new a(100,100),u=ue(p,_e);e.setup=()=>{t=e,e.createCanvas(u.x,u.y),e.noFill()};let l;e.draw=()=>{if(e.background(0),!Ye(e))l=void 0;else{const f=yt(new a(e.mouseX,e.height-e.mouseY),_e);if(l||(f.distance(n.position)<=n.geometry.r?l="sphere":f.distance(n.position.clone().add(n.velocity))<=6?l="spherevelocity":f.distance(c.position)<=c.geometry.r?l="sphere2":f.distance(c.position.clone().add(c.velocity))<=6&&(l="sphere2velocity")),l==="sphere")n.position.copy(f);else if(l==="spherevelocity"){const r=f.clone().subtract(n.position);n.velocity.copy(r)}else if(l==="sphere2")c.position.copy(f);else if(l==="sphere2velocity"){const r=f.clone().subtract(c.position);c.velocity.copy(r)}}const{intersection:y,bouncedVelocity:d}=s.apply(n,c);for(let f=0;f<10;f++){const{positionCorrection:r}=s.apply(n,c);r&&(n.position.add(r.multiplyScalar(.5)),c.position.subtract(r.multiplyScalar(.5)))}e.stroke(255),e.noFill();const $=ue(n.position,_e);e.circle($.x,e.height-$.y,2*n.geometry.r*_e),e.stroke(255);const g=ue(n.velocity,_e);e.line($.x,e.height-$.y,$.x+g.x,e.height-($.y+g.y)),e.stroke(255),e.noFill();const b=ue(c.position,_e);e.circle(b.x,e.height-b.y,2*c.geometry.r*_e),e.stroke(255);const v=ue(c.velocity,_e);if(e.line(b.x,e.height-b.y,b.x+v.x,e.height-(b.y+v.y)),y){e.stroke("#54d7ff"),e.fill("#54d7ff");const f=ue(y,_e);e.circle(f.x,e.height-f.y,5)}if(d){e.stroke("green"),e.fill("green");const f=ue(d,_e);e.line($.x,e.height-$.y,$.x+f.x,e.height-($.y+f.y))}}};return Ee(()=>{t==null||t.remove()}),[o]}class en extends ye{constructor(t){super(),ve(this,t,Zt,Kt,pe,{})}}function tn(i){let t,n="<span>This page is a list of engine tests. They use the actual engine and allow me to setup different situations and check manually for regressions and bugs.</span> <br/> <span>Use the selection menu to see the different pages</span>",c,s,o,e,p;return e=new gt({props:{tabs:i[0]}}),{c(){t=w("div"),t.innerHTML=n,c=E(),s=w("br"),o=E(),se(e.$$.fragment)},l(u){t=_(u,"DIV",{"data-svelte-h":!0}),G(t)!=="svelte-11mzr87"&&(t.innerHTML=n),c=j(u),s=_(u,"BR",{}),o=j(u),re(e.$$.fragment,u)},m(u,l){S(u,t,l),S(u,c,l),S(u,s,l),S(u,o,l),le(e,u,l),p=!0},p:Se,i(u){p||(ie(e.$$.fragment,u),p=!0)},o(u){ce(e.$$.fragment,u),p=!1},d(u){u&&(h(t),h(c),h(s),h(o)),ae(e,u)}}}function nn(i){return[[{label:"Ball pool",value:Et},{label:"Sphere Sphere Collider",value:en},{label:"Line Sphere Collider",value:Jt},{label:"Perfs - Multiple balls",value:qt},{label:"Playground - Engine settings",value:Rt},{label:"Dynamics + collisions - 1",value:Wt},{label:"Dynamics + collisions - 2",value:Lt},{label:"Sphere Line - pull apart",value:It},{label:"One ball bounce",value:Ot}]]}class un extends ye{constructor(t){super(),ve(this,t,nn,tn,pe,{})}}export{un as component};
